<mat-toolbar class="navbar">
  <div class="logo">ðŸ’° Expense Tracker</div>
  <div class="mobile-controls" *ngIf="isMobile">
    <button mat-icon-button (click)="toggleMobileMenu()">
      <mat-icon>menu</mat-icon>
    </button>
    <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-button">
      <mat-icon>account_circle</mat-icon>
    </button>
  </div>

<!-- Mobile Dropdown -->
<div
  class="mobile-menu-dropdown"
  *ngIf="isMobile && mobileMenuOpen"
>
  <a routerLink="/about" (click)="closeMobileMenu()">About</a>
  <a routerLink="/home" (click)="closeMobileMenu()">Home</a>
  <a routerLink="/monthly" (click)="closeMobileMenu()">Monthly</a>
  <a routerLink="/expenses" (click)="closeMobileMenu()">Add/Remove</a>
  <a routerLink="/bills" (click)="closeMobileMenu()">Bills</a>
</div>
<span class="spacer"></span>

<div class="nav-links" *ngIf="!isMobile">
  <a mat-button routerLink="/about" routerLinkActive="active-link">About</a>
  <a mat-button routerLink="/home" routerLinkActive="active-link">Home</a>
  <a mat-button routerLink="/monthly" routerLinkActive="active-link">Monthly</a>
  <a mat-button routerLink="/expenses" routerLinkActive="active-link">Add/Remove</a>
  <a mat-button routerLink="/bills" routerLinkActive="active-link">Bills</a>
</div>



  <ng-container *ngIf="!isMobile">
    <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-button">
      <mat-icon>account_circle</mat-icon>
    </button>
  </ng-container>

  <mat-menu #userMenu="matMenu">
    <div class="user-info">
      <p><strong>{{ user?.displayName }}</strong></p>
      <p>{{ user?.email }}</p>
    </div>
    <button mat-menu-item (click)="openChangePasswordDialog()">
      <mat-icon>lock</mat-icon>
      <span>Change Password</span>
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item (click)="logout()">
      <mat-icon>logout</mat-icon>
      <span>Logout</span>
    </button>
  </mat-menu>
</mat-toolbar>