"use strict";(self.webpackChunkexpense_tracker=self.webpackChunkexpense_tracker||[]).push([[792],{4783:(bt,Me,B)=>{B.d(Me,{BM:()=>Pe,Gt:()=>de,bf:()=>We,e7:()=>he,iB:()=>H,rx:()=>Be,uP:()=>Ee});var d=B(7705),ne=B(7935),U=B(1161);bt=B.hmd(bt);const oe=["ngOnDestroy"],de=(He,It,xt,ue={})=>new Proxy(He,{get:(Se,ae)=>xt.runOutsideAngular(()=>{var Re;if(He[ae])return!(null===(Re=ue?.spy)||void 0===Re)&&Re.get&&ue.spy.get(ae,He[ae]),He[ae];if(oe.indexOf(ae)>-1)return()=>{};const je=It.toPromise().then(Je=>{const _e=Je&&Je[ae];return"function"==typeof _e?_e.bind(Je):_e&&_e.then?_e.then(Mt=>xt.run(()=>Mt)):xt.run(()=>_e)});return new Proxy(()=>{},{get:(Je,_e)=>je[_e],apply:(Je,_e,Mt)=>je.then(Qt=>{var Fi;const vr=Qt&&Qt(...Mt);return!(null===(Fi=ue?.spy)||void 0===Fi)&&Fi.apply&&ue.spy.apply(ae,Mt,vr),vr})})})}),he=(He,It)=>{It.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(ue=>{Object.defineProperty(He.prototype,ue,Object.getOwnPropertyDescriptor(xt.prototype||xt,ue))})})};class De{constructor(It){return It}}const Be=new d.nKC("angularfire2.app.options"),Ee=new d.nKC("angularfire2.app.name");function H(He,It,xt){const Se="object"==typeof xt&&xt||{};Se.name=Se.name||"string"==typeof xt&&xt||"[DEFAULT]";const Re=ne.A.apps.filter(je=>je&&je.name===Se.name)[0]||It.runOutsideAngular(()=>ne.A.initializeApp(He,Se));try{JSON.stringify(He)!==JSON.stringify(Re.options)&&K("error",`${Re.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(Re)}const K=(He,...It)=>{(0,d.naY)()&&typeof console<"u"&&console[He](...It)},ie={provide:De,useFactory:H,deps:[Be,d.SKi,[new d.Xx1,Ee]]};let We=(()=>{class He{constructor(xt){ne.A.registerVersion("angularfire",U.xv.full,"core"),ne.A.registerVersion("angularfire",U.xv.full,"app-compat"),ne.A.registerVersion("angular",d.xvI.full,xt.toString())}static initializeApp(xt,ue){return{ngModule:He,providers:[{provide:Be,useValue:xt},{provide:Ee,useValue:ue}]}}}return He.\u0275fac=function(xt){return new(xt||He)(d.KVO(d.Agw))},He.\u0275mod=d.$C({type:He}),He.\u0275inj=d.G2t({providers:[ie]}),He})();function Pe(He,It,xt,ue,Se){const[,ae,Re]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===He)||[];if(ae)return function et(He,It){try{return He.toString()===It.toString()}catch{return He===It}}(Se,Re)||(Qe("error",`${It} was already initialized on the ${xt} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:Se,was:Re})),ae;{const je=ue();return globalThis.\u0275AngularfireInstanceCache.push([He,je,Se]),je}}const Ve=!!bt.hot,Qe=(He,...It)=>{(0,d.naY)()&&typeof console<"u"&&console[He](...It)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(bt,Me,B)=>{B.d(Me,{xv:()=>Ur,U0:()=>hf,u0:()=>va,CA:()=>ts,lR:()=>Xc});var d=B(7705),ne=B(2214),U=B(467),oe=B(7852),de=B(1076),he=B(1362),De=B(8041);const Be=(D,T)=>T.some(k=>D instanceof k);let Ee,H;const We=new WeakMap,Pe=new WeakMap,et=new WeakMap,Ve=new WeakMap,Qe=new WeakMap;let xt={get(D,T,k){if(D instanceof IDBTransaction){if("done"===T)return Pe.get(D);if("objectStoreNames"===T)return D.objectStoreNames||et.get(D);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Re(D[T])},set:(D,T,k)=>(D[T]=k,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function ae(D){return"function"==typeof D?function Se(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(je(this),T),Re(We.get(this))}:function(...T){return Re(D.apply(je(this),T))}:function(T,...k){const V=D.call(je(this),T,...k);return et.set(V,T.sort?T.sort():[T]),Re(V)}}(D):(D instanceof IDBTransaction&&function It(D){if(Pe.has(D))return;const T=new Promise((k,V)=>{const q=()=>{D.removeEventListener("complete",J),D.removeEventListener("error",ve),D.removeEventListener("abort",ve)},J=()=>{k(),q()},ve=()=>{V(D.error||new DOMException("AbortError","AbortError")),q()};D.addEventListener("complete",J),D.addEventListener("error",ve),D.addEventListener("abort",ve)});Pe.set(D,T)}(D),Be(D,function K(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,xt):D)}function Re(D){if(D instanceof IDBRequest)return function He(D){const T=new Promise((k,V)=>{const q=()=>{D.removeEventListener("success",J),D.removeEventListener("error",ve)},J=()=>{k(Re(D.result)),q()},ve=()=>{V(D.error),q()};D.addEventListener("success",J),D.addEventListener("error",ve)});return T.then(k=>{k instanceof IDBCursor&&We.set(k,D)}).catch(()=>{}),Qe.set(T,D),T}(D);if(Ve.has(D))return Ve.get(D);const T=ae(D);return T!==D&&(Ve.set(D,T),Qe.set(T,D)),T}const je=D=>Qe.get(D),Mt=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],Fi=new Map;function vr(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(Fi.get(T))return Fi.get(T);const k=T.replace(/FromIndex$/,""),V=T!==k,q=Qt.includes(k);if(!(k in(V?IDBIndex:IDBObjectStore).prototype)||!q&&!Mt.includes(k))return;const J=function(){var ve=(0,U.A)(function*(tt,...Xe){const _t=this.transaction(tt,q?"readwrite":"readonly");let Vt=_t.store;return V&&(Vt=Vt.index(Xe.shift())),(yield Promise.all([Vt[k](...Xe),q&&_t.done]))[0]});return function(Xe){return ve.apply(this,arguments)}}();return Fi.set(T,J),J}!function ue(D){xt=D(xt)}(D=>({...D,get:(T,k,V)=>vr(T,k)||D.get(T,k,V),has:(T,k)=>!!vr(T,k)||D.has(T,k)}));const Qs="@firebase/installations",ni="0.6.4",Fa=1e4,Rs=`w:${ni}`,ko="FIS_v2",Zs="https://firebaseinstallations.googleapis.com/v1",pe=36e5,ke=new de.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(D){return D instanceof de.g&&D.code.includes("request-failed")}function wt({projectId:D}){return`${Zs}/projects/${D}/installations`}function Gt(D){return{token:D.token,requestStatus:2,expiresIn:qn(D.expiresIn),creationTime:Date.now()}}function Cn(D,T){return at.apply(this,arguments)}function at(){return(at=(0,U.A)(function*(D,T){const V=(yield T.json()).error;return ke.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Sn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function br(D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,U.A)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function qn(D){return Number(D.replace("s","000"))}function Xn(){return(Xn=(0,U.A)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:k}){const V=wt(D),q=Sn(D),J=T.getImmediate({optional:!0});if(J){const _t=yield J.getHeartbeatsHeader();_t&&q.append("x-firebase-client",_t)}const tt={method:"POST",headers:q,body:JSON.stringify({fid:k,authVersion:ko,appId:D.appId,sdkVersion:Rs})},Xe=yield br(()=>fetch(V,tt));if(Xe.ok){const _t=yield Xe.json();return{fid:_t.fid||k,registrationStatus:2,refreshToken:_t.refreshToken,authToken:Gt(_t.authToken)}}throw yield Cn("Create Installation",Xe)})).apply(this,arguments)}function Fr(D){return new Promise(T=>{setTimeout(T,D)})}const xl=/^[cdef][\w-]{21}$/,Dt="";function Zt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function Ft(D){return function Oo(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return xl.test(k)?k:Dt}catch{return Dt}}function Dn(D){return`${D.appName}!${D.appId}`}const Un=new Map;function wr(D,T){const k=Dn(D);El(k,T),function vt(D,T){const k=function Wt(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=D=>{El(D.data.key,D.data.fid)}),xr}();k&&k.postMessage({key:D,fid:T}),function Po(){0===Un.size&&xr&&(xr.close(),xr=null)}()}(k,T)}function El(D,T){const k=Un.get(D);if(k)for(const V of k)V(T)}let xr=null;const Js="firebase-installations-database",Cl=1,cr="firebase-installations-store";let No=null;function hs(){return No||(No=function Je(D,T,{blocked:k,upgrade:V,blocking:q,terminated:J}={}){const ve=indexedDB.open(D,T),tt=Re(ve);return V&&ve.addEventListener("upgradeneeded",Xe=>{V(Re(ve.result),Xe.oldVersion,Xe.newVersion,Re(ve.transaction))}),k&&ve.addEventListener("blocked",()=>k()),tt.then(Xe=>{J&&Xe.addEventListener("close",()=>J()),q&&Xe.addEventListener("versionchange",()=>q())}).catch(()=>{}),tt}(Js,Cl,{upgrade:(D,T)=>{0===T&&D.createObjectStore(cr)}})),No}function Ci(D,T){return Di.apply(this,arguments)}function Di(){return(Di=(0,U.A)(function*(D,T){const k=Dn(D),q=(yield hs()).transaction(cr,"readwrite"),J=q.objectStore(cr),ve=yield J.get(k);return yield J.put(T,k),yield q.done,(!ve||ve.fid!==T.fid)&&wr(D,T.fid),T})).apply(this,arguments)}function eo(D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,U.A)(function*(D){const T=Dn(D),V=(yield hs()).transaction(cr,"readwrite");yield V.objectStore(cr).delete(T),yield V.done})).apply(this,arguments)}function fs(D,T){return ur.apply(this,arguments)}function ur(){return(ur=(0,U.A)(function*(D,T){const k=Dn(D),q=(yield hs()).transaction(cr,"readwrite"),J=q.objectStore(cr),ve=yield J.get(k),tt=T(ve);return void 0===tt?yield J.delete(k):yield J.put(tt,k),yield q.done,tt&&(!ve||ve.fid!==tt.fid)&&wr(D,tt.fid),tt})).apply(this,arguments)}function G(D){return z.apply(this,arguments)}function z(){return z=(0,U.A)(function*(D){let T;const k=yield fs(D.appConfig,V=>{const q=function Q(D){return ii(D||{fid:Zt(),registrationStatus:0})}(V),J=function Ae(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ke.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function fe(D,T){return ht.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:St(D)}:{installationEntry:T}}(D,q);return T=J.registrationPromise,J.installationEntry});return k.fid===Dt?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}}),z.apply(this,arguments)}function ht(){return ht=(0,U.A)(function*(D,T){try{const k=yield function Li(D,T){return Xn.apply(this,arguments)}(D,T);return Ci(D.appConfig,k)}catch(k){throw ye(k)&&409===k.customData.serverCode?yield eo(D.appConfig):yield Ci(D.appConfig,{fid:T.fid,registrationStatus:0}),k}}),ht.apply(this,arguments)}function St(D){return on.apply(this,arguments)}function on(){return(on=(0,U.A)(function*(D){let T=yield dn(D.appConfig);for(;1===T.registrationStatus;)yield Fr(100),T=yield dn(D.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield G(D);return V||k}return T})).apply(this,arguments)}function dn(D){return fs(D,T=>{if(!T)throw ke.create("installation-not-found");return ii(T)})}function ii(D){return function Lt(D){return 1===D.registrationStatus&&D.registrationTime+Fa<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Bi(){return(Bi=(0,U.A)(function*({appConfig:D,heartbeatServiceProvider:T},k){const V=function Er(D,{fid:T}){return`${wt(D)}/${T}/authTokens:generate`}(D,k),q=function vn(D,{refreshToken:T}){const k=Sn(D);return k.append("Authorization",function ui(D){return`${ko} ${D}`}(T)),k}(D,k),J=T.getImmediate({optional:!0});if(J){const _t=yield J.getHeartbeatsHeader();_t&&q.append("x-firebase-client",_t)}const tt={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Rs,appId:D.appId}})},Xe=yield br(()=>fetch(V,tt));if(Xe.ok)return Gt(yield Xe.json());throw yield Cn("Generate Auth Token",Xe)})).apply(this,arguments)}function to(D){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,U.A)(function*(D,T=!1){let k;const V=yield fs(D.appConfig,J=>{if(!rt(J))throw ke.create("not-registered");const ve=J.authToken;if(!T&&function cn(D){return 2===D.requestStatus&&!function ri(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+pe}(D)}(ve))return J;if(1===ve.requestStatus)return k=function Ce(D,T){return re.apply(this,arguments)}(D,T),J;{if(!navigator.onLine)throw ke.create("app-offline");const tt=function Yn(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}(J);return k=function gt(D,T){return Et.apply(this,arguments)}(D,tt),tt}});return k?yield k:V.authToken}),Dl.apply(this,arguments)}function re(){return(re=(0,U.A)(function*(D,T){let k=yield Ue(D.appConfig);for(;1===k.authToken.requestStatus;)yield Fr(100),k=yield Ue(D.appConfig);const V=k.authToken;return 0===V.requestStatus?to(D,T):V})).apply(this,arguments)}function Ue(D){return fs(D,T=>{if(!rt(T))throw ke.create("not-registered");return function ks(D){return 1===D.requestStatus&&D.requestTime+Fa<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Et(){return Et=(0,U.A)(function*(D,T){try{const k=yield function rn(D,T){return Bi.apply(this,arguments)}(D,T),V=Object.assign(Object.assign({},T),{authToken:k});return yield Ci(D.appConfig,V),k}catch(k){if(!ye(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ci(D.appConfig,V)}else yield eo(D.appConfig);throw k}}),Et.apply(this,arguments)}function rt(D){return void 0!==D&&2===D.registrationStatus}function no(){return(no=(0,U.A)(function*(D){const T=D,{installationEntry:k,registrationPromise:V}=yield G(T);return V?V.catch(console.error):to(T).catch(console.error),k.fid})).apply(this,arguments)}function Il(){return Il=(0,U.A)(function*(D,T=!1){const k=D;return yield function bc(D){return Kr.apply(this,arguments)}(k),(yield to(k,T)).token}),Il.apply(this,arguments)}function Kr(){return(Kr=(0,U.A)(function*(D){const{registrationPromise:T}=yield G(D);T&&(yield T)})).apply(this,arguments)}function Ii(D){return ke.create("missing-app-config-values",{valueName:D})}const Ec="installations",Zg=D=>{const T=D.getProvider("app").getImmediate(),k=function xc(D){if(!D||!D.options)throw Ii("App Configuration");if(!D.name)throw Ii("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!D.options[k])throw Ii(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ra=D=>{const T=D.getProvider("app").getImmediate(),k=(0,oe._getProvider)(T,Ec).getImmediate();return{getId:()=>function Cr(D){return no.apply(this,arguments)}(k),getToken:q=>function Hu(D){return Il.apply(this,arguments)}(k,q)}};(function Bh(){(0,oe._registerComponent)(new he.uA(Ec,Zg,"PUBLIC")),(0,oe._registerComponent)(new he.uA("installations-internal",ra,"PRIVATE"))})(),(0,oe.registerVersion)(Qs,ni),(0,oe.registerVersion)(Qs,ni,"esm2017");const Sl="@firebase/remote-config",Ui=new de.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ye{constructor(T,k,V,q){this.client=T,this.storage=k,this.storageCache=V,this.logger=q}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,q=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${q}.`),q}fetch(T){var k=this;return(0,U.A)(function*(){const[V,q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(q&&k.isCachedDataFresh(T.cacheMaxAgeMillis,V))return q;T.eTag=q&&q.eTag;const J=yield k.client.fetch(T),ve=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ve.push(k.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ve),J})()}}function Bt(D=navigator){return D.languages&&D.languages[0]||D.language}class wn{constructor(T,k,V,q,J,ve){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=V,this.projectId=q,this.apiKey=J,this.appId=ve}fetch(T){var k=this;return(0,U.A)(function*(){const[V,q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Xe={sdk_version:k.sdkVersion,app_instance_id:V,app_instance_id_token:q,app_id:k.appId,language_code:Bt()},_t={method:"POST",headers:tt,body:JSON.stringify(Xe)},Vt=fetch(ve,_t),Ot=new Promise((kr,Or)=>{T.signal.addEventListener(()=>{const Yc=new Error("The operation was aborted.");Yc.name="AbortError",Or(Yc)})});let fr;try{yield Promise.race([Vt,Ot]),fr=yield Vt}catch(kr){let Or="fetch-client-network";throw"AbortError"===kr?.name&&(Or="fetch-timeout"),Ui.create(Or,{originalErrorMessage:kr?.message})}let kn=fr.status;const yo=fr.headers.get("ETag")||void 0;let Ld,In;if(200===fr.status){let kr;try{kr=yield fr.json()}catch(Or){throw Ui.create("fetch-client-parse",{originalErrorMessage:Or?.message})}Ld=kr.entries,In=kr.state}if("INSTANCE_STATE_UNSPECIFIED"===In?kn=500:"NO_CHANGE"===In?kn=304:("NO_TEMPLATE"===In||"EMPTY_CONFIG"===In)&&(Ld={}),304!==kn&&200!==kn)throw Ui.create("fetch-status",{httpStatus:kn});return{status:kn,eTag:yo,config:Ld}})()}}class dr{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,U.A)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:V}){var q=this;return(0,U.A)(function*(){yield function Lr(D,T){return new Promise((k,V)=>{const q=Math.max(T-Date.now(),0),J=setTimeout(k,q);D.addEventListener(()=>{clearTimeout(J),V(Ui.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const J=yield q.client.fetch(T);return yield q.storage.deleteThrottleMetadata(),J}catch(J){if(!function Ba(D){if(!(D instanceof de.g&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(J))throw J;const ve={throttleEndTimeMillis:Date.now()+(0,de.p9)(V),backoffCount:V+1};return yield q.storage.setThrottleMetadata(ve),q.attemptFetch(T,ve)}})()}}class Lo{constructor(T,k,V,q,J){this.app=T,this._client=k,this._storageCache=V,this._storage=q,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ps(D,T){const k=D.target.error||void 0;return Ui.create(T,{originalErrorMessage:k&&k?.message})}const Ct="app_namespace_store";class di{constructor(T,k,V,q=function io(){return new Promise((D,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=V=>{T(ps(V,"storage-open"))},k.onsuccess=V=>{D(V.target.result)},k.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Ct,{keyPath:"compositeKey"})}}catch(k){T(Ui.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=T,this.appName=k,this.namespace=V,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,U.A)(function*(){const V=yield k.openDbPromise;return new Promise((q,J)=>{const tt=V.transaction([Ct],"readonly").objectStore(Ct),Xe=k.createCompositeKey(T);try{const _t=tt.get(Xe);_t.onerror=Vt=>{J(ps(Vt,"storage-get"))},_t.onsuccess=Vt=>{const Ot=Vt.target.result;q(Ot?Ot.value:void 0)}}catch(_t){J(Ui.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(T,k){var V=this;return(0,U.A)(function*(){const q=yield V.openDbPromise;return new Promise((J,ve)=>{const Xe=q.transaction([Ct],"readwrite").objectStore(Ct),_t=V.createCompositeKey(T);try{const Vt=Xe.put({compositeKey:_t,value:k});Vt.onerror=Ot=>{ve(ps(Ot,"storage-set"))},Vt.onsuccess=()=>{J()}}catch(Vt){ve(Ui.create("storage-set",{originalErrorMessage:Vt?.message}))}})})()}delete(T){var k=this;return(0,U.A)(function*(){const V=yield k.openDbPromise;return new Promise((q,J)=>{const tt=V.transaction([Ct],"readwrite").objectStore(Ct),Xe=k.createCompositeKey(T);try{const _t=tt.delete(Xe);_t.onerror=Vt=>{J(ps(Vt,"storage-delete"))},_t.onsuccess=()=>{q()}}catch(_t){J(Ui.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ua{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,U.A)(function*(){const k=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),q=T.storage.getActiveConfig(),J=yield k;J&&(T.lastFetchStatus=J);const ve=yield V;ve&&(T.lastSuccessfulFetchTimestampMillis=ve);const tt=yield q;tt&&(T.activeConfig=tt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function jh(){return ms.apply(this,arguments)}function ms(){return(ms=(0,U.A)(function*(){if(!(0,de.zW)())return!1;try{return yield(0,de.eX)()}catch{return!1}})).apply(this,arguments)}!function Ir(){(0,oe._registerComponent)(new he.uA("remote-config",function D(T,{instanceIdentifier:k}){const V=T.getProvider("app").getImmediate(),q=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ui.create("registration-window");if(!(0,de.zW)())throw Ui.create("indexed-db-unavailable");const{projectId:J,apiKey:ve,appId:tt}=V.options;if(!J)throw Ui.create("registration-project-id");if(!ve)throw Ui.create("registration-api-key");if(!tt)throw Ui.create("registration-app-id");const Xe=new di(tt,V.name,k=k||"firebase"),_t=new Ua(Xe),Vt=new De.Vy(Sl);Vt.logLevel=De.$b.ERROR;const Ot=new wn(q,oe.SDK_VERSION,k,J,ve,tt),fr=new dr(Ot,Xe),kn=new Ye(fr,Xe,_t,Vt),yo=new Lo(V,kn,_t,Xe,Vt);return function ji(D){const T=(0,de.Ku)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Sl,"0.4.4"),(0,oe.registerVersion)(Sl,"0.4.4","esm2017")}();const ro=(D,T)=>T.some(k=>D instanceof k);let Vo,Os;const Rl=new WeakMap,Ps=new WeakMap,Vr=new WeakMap,Qi=new WeakMap,so=new WeakMap;let Tc={get(D,T,k){if(D instanceof IDBTransaction){if("done"===T)return Ps.get(D);if("objectStoreNames"===T)return D.objectStoreNames||Vr.get(D);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Ji(D[T])},set:(D,T,k)=>(D[T]=k,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function Zu(D){return"function"==typeof D?function Zi(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qu(){return Os||(Os=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(oa(this),T),Ji(Rl.get(this))}:function(...T){return Ji(D.apply(oa(this),T))}:function(T,...k){const V=D.call(oa(this),T,...k);return Vr.set(V,T.sort?T.sort():[T]),Ji(V)}}(D):(D instanceof IDBTransaction&&function Si(D){if(Ps.has(D))return;const T=new Promise((k,V)=>{const q=()=>{D.removeEventListener("complete",J),D.removeEventListener("error",ve),D.removeEventListener("abort",ve)},J=()=>{k(),q()},ve=()=>{V(D.error||new DOMException("AbortError","AbortError")),q()};D.addEventListener("complete",J),D.addEventListener("error",ve),D.addEventListener("abort",ve)});Ps.set(D,T)}(D),ro(D,function sn(){return Vo||(Vo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Tc):D)}function Ji(D){if(D instanceof IDBRequest)return function kl(D){const T=new Promise((k,V)=>{const q=()=>{D.removeEventListener("success",J),D.removeEventListener("error",ve)},J=()=>{k(Ji(D.result)),q()},ve=()=>{V(D.error),q()};D.addEventListener("success",J),D.addEventListener("error",ve)});return T.then(k=>{k instanceof IDBCursor&&Rl.set(k,D)}).catch(()=>{}),so.set(T,D),T}(D);if(Qi.has(D))return Qi.get(D);const T=Zu(D);return T!==D&&(Qi.set(D,T),so.set(T,D)),T}const oa=D=>so.get(D);function Tr(D,T,{blocked:k,upgrade:V,blocking:q,terminated:J}={}){const ve=indexedDB.open(D,T),tt=Ji(ve);return V&&ve.addEventListener("upgradeneeded",Xe=>{V(Ji(ve.result),Xe.oldVersion,Xe.newVersion,Ji(ve.transaction))}),k&&ve.addEventListener("blocked",()=>k()),tt.then(Xe=>{J&&Xe.addEventListener("close",()=>J()),q&&Xe.addEventListener("versionchange",()=>q())}).catch(()=>{}),tt}function Bo(D,{blocked:T}={}){const k=indexedDB.deleteDatabase(D);return T&&k.addEventListener("blocked",()=>T()),Ji(k).then(()=>{})}const Ju=["get","getKey","getAll","getAllKeys","count"],Hp=["put","add","delete","clear"],ed=new Map;function td(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(ed.get(T))return ed.get(T);const k=T.replace(/FromIndex$/,""),V=T!==k,q=Hp.includes(k);if(!(k in(V?IDBIndex:IDBObjectStore).prototype)||!q&&!Ju.includes(k))return;const J=function(){var ve=(0,U.A)(function*(tt,...Xe){const _t=this.transaction(tt,q?"readwrite":"readonly");let Vt=_t.store;return V&&(Vt=Vt.index(Xe.shift())),(yield Promise.all([Vt[k](...Xe),q&&_t.done]))[0]});return function(Xe){return ve.apply(this,arguments)}}();return ed.set(T,J),J}!function hr(D){Tc=D(Tc)}(D=>({...D,get:(T,k,V)=>td(T,k)||D.get(T,k,V),has:(T,k)=>!!td(T,k)||D.has(T,k)}));const nd="/firebase-messaging-sw.js",id="/firebase-cloud-messaging-push-scope",Hh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jg="https://fcmregistrations.googleapis.com/v1",Ln="google.c.a.c_id",e_="google.c.a.c_l",zp="google.c.a.ts";var zh=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(zh||{});function oo(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rd(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),q=new Uint8Array(V.length);for(let J=0;J<V.length;++J)q[J]=V.charCodeAt(J);return q}const Ac="fcm_token_details_db",sd=5,aa="fcm_token_object_Store";function Ol(){return Ol=(0,U.A)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Ac))return null;let T=null;return(yield Tr(Ac,sd,{upgrade:(V=(0,U.A)(function*(q,J,ve,tt){var Xe;if(J<2||!q.objectStoreNames.contains(aa))return;const _t=tt.objectStore(aa),Vt=yield _t.index("fcmSenderId").get(D);if(yield _t.clear(),Vt)if(2===J){const Ot=Vt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(Xe=Ot.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:oo(Ot.vapidKey)}}}else if(3===J){const Ot=Vt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:oo(Ot.auth),p256dh:oo(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:oo(Ot.vapidKey)}}}else if(4===J){const Ot=Vt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:oo(Ot.auth),p256dh:oo(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:oo(Ot.vapidKey)}}}}),function(J,ve,tt,Xe){return V.apply(this,arguments)})})).close(),yield Bo(Ac),yield Bo("fcm_vapid_details_db"),yield Bo("undefined"),function t_(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var V}),Ol.apply(this,arguments)}const ao="firebase-messaging-database",Ns=1,Zr="firebase-messaging-store";let $h=null;function si(){return $h||($h=Tr(ao,Ns,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Zr)}})),$h}function ja(D){return zi.apply(this,arguments)}function zi(){return zi=(0,U.A)(function*(D){const T=Ha(D),V=yield(yield si()).transaction(Zr).objectStore(Zr).get(T);if(V)return V;{const q=yield function Zv(D){return Ol.apply(this,arguments)}(D.appConfig.senderId);if(q)return yield od(D,q),q}}),zi.apply(this,arguments)}function od(D,T){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,U.A)(function*(D,T){const k=Ha(D),q=(yield si()).transaction(Zr,"readwrite");return yield q.objectStore(Zr).put(T,k),yield q.done,T})).apply(this,arguments)}function Nl(){return(Nl=(0,U.A)(function*(D){const T=Ha(D),V=(yield si()).transaction(Zr,"readwrite");yield V.objectStore(Zr).delete(T),yield V.done})).apply(this,arguments)}function Ha({appConfig:D}){return D.appId}const Ti=new de.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mc(D,T){return ad.apply(this,arguments)}function ad(){return(ad=(0,U.A)(function*(D,T){const k=yield Rc(D),V=n_(T),q={method:"POST",headers:k,body:JSON.stringify(V)};let J;try{J=yield(yield fetch(lo(D.appConfig),q)).json()}catch(ve){throw Ti.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(J.error)throw Ti.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw Ti.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function cd(){return(cd=(0,U.A)(function*(D,T){const k=yield Rc(D),V=n_(T.subscriptionOptions),q={method:"PATCH",headers:k,body:JSON.stringify(V)};let J;try{J=yield(yield fetch(`${lo(D.appConfig)}/${T.token}`,q)).json()}catch(ve){throw Ti.create("token-update-failed",{errorInfo:ve?.toString()})}if(J.error)throw Ti.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw Ti.create("token-update-no-token");return J.token})).apply(this,arguments)}function za(D,T){return la.apply(this,arguments)}function la(){return(la=(0,U.A)(function*(D,T){const V={method:"DELETE",headers:yield Rc(D)};try{const J=yield(yield fetch(`${lo(D.appConfig)}/${T}`,V)).json();if(J.error)throw Ti.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(q){throw Ti.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function lo({projectId:D}){return`${Jg}/projects/${D}/registrations`}function Rc(D){return kc.apply(this,arguments)}function kc(){return(kc=(0,U.A)(function*({appConfig:D,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function n_({p256dh:D,auth:T,endpoint:k,vapidKey:V}){const q={web:{endpoint:k,auth:T,p256dh:D}};return V!==Hh&&(q.web.applicationPubKey=V),q}const Wp=6048e5;function Oc(){return Oc=(0,U.A)(function*(D){const T=yield function Nc(D,T){return Wh.apply(this,arguments)}(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:oo(T.getKey("auth")),p256dh:oo(T.getKey("p256dh"))},V=yield ja(D.firebaseDependencies);if(V){if(function Kh(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}(V.subscriptionOptions,k))return Date.now()>=V.createTime+Wp?function dd(D,T){return Pc.apply(this,arguments)}(D,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield za(D.firebaseDependencies,V.token)}catch(q){console.warn(q)}return hd(D.firebaseDependencies,k)}return hd(D.firebaseDependencies,k)}),Oc.apply(this,arguments)}function ud(){return ud=(0,U.A)(function*(D){const T=yield ja(D.firebaseDependencies);T&&(yield za(D.firebaseDependencies,T.token),yield function Gh(D){return Nl.apply(this,arguments)}(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),ud.apply(this,arguments)}function Pc(){return Pc=(0,U.A)(function*(D,T){try{const k=yield function ld(D,T){return cd.apply(this,arguments)}(D.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield od(D.firebaseDependencies,V),k}catch(k){throw yield function r_(D){return ud.apply(this,arguments)}(D),k}}),Pc.apply(this,arguments)}function hd(D,T){return $a.apply(this,arguments)}function $a(){return($a=(0,U.A)(function*(D,T){const V={token:yield Mc(D,T),createTime:Date.now(),subscriptionOptions:T};return yield od(D,V),V.token})).apply(this,arguments)}function Wh(){return(Wh=(0,U.A)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rd(T)})})).apply(this,arguments)}function Fl(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ll(D,T){if(!T.notification)return;D.notification={};const k=T.notification.title;k&&(D.notification.title=k);const V=T.notification.body;V&&(D.notification.body=V);const q=T.notification.image;q&&(D.notification.image=q);const J=T.notification.icon;J&&(D.notification.icon=J)}(T,D),function Kp(D,T){T.data&&(D.data=T.data)}(T,D),function fd(D,T){var k,V,q,J,ve;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;D.fcmOptions={};const tt=null!==(q=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==q?q:null===(J=T.notification)||void 0===J?void 0:J.click_action;tt&&(D.fcmOptions.link=tt);const Xe=null===(ve=T.fcmOptions)||void 0===ve?void 0:ve.analytics_label;Xe&&(D.fcmOptions.analyticsLabel=Xe)}(T,D),T}function qh(D,T){const k=[];for(let V=0;V<D.length;V++)k.push(D.charAt(V)),V<T.length&&k.push(T.charAt(V));return k.join("")}function Fc(D){return Ti.create("missing-app-config-values",{valueName:D})}qh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class o_{constructor(T,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Xh(D){if(!D||!D.options)throw Fc("App Configuration Object");if(!D.name)throw Fc("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const V of T)if(!k[V])throw Fc(V);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:q,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Ga(){return(Ga=(0,U.A)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(nd,{scope:id}),D.swRegistration.update().catch(()=>{})}catch(T){throw Ti.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function ca(){return(ca=(0,U.A)(function*(D,T){if(!T&&!D.swRegistration&&(yield function Yh(D){return Ga.apply(this,arguments)}(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Ti.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ua(){return(ua=(0,U.A)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Hh)})).apply(this,arguments)}function md(){return md=(0,U.A)(function*(D,T){if(!navigator)throw Ti.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ti.create("permission-blocked");return yield function co(D,T){return ua.apply(this,arguments)}(D,T?.vapidKey),yield function Qh(D,T){return ca.apply(this,arguments)}(D,T?.serviceWorkerRegistration),function i_(D){return Oc.apply(this,arguments)}(D)}),md.apply(this,arguments)}function Zh(){return(Zh=(0,U.A)(function*(D,T,k){const V=function Fs(D){switch(D){case zh.NOTIFICATION_CLICKED:return"notification_open";case zh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[Ln],message_name:k[e_],message_time:k[zp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function da(){return da=(0,U.A)(function*(D,T){const k=T.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===zh.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Fl(k)):D.onMessageHandler.next(Fl(k)));const V=k.data;(function s_(D){return"object"==typeof D&&!!D&&Ln in D})(V)&&"1"===V["google.c.a.e"]&&(yield function gd(D,T,k){return Zh.apply(this,arguments)}(D,k.messageType,V))}),da.apply(this,arguments)}const fn="@firebase/messaging",ha=D=>{const T=new o_(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Jh(D,T){return da.apply(this,arguments)}(T,k)),T},Ar=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:V=>function pd(D,T){return md.apply(this,arguments)}(T,V)}};function _d(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.A)(function*(){try{yield(0,de.eX)()}catch{return!1}return typeof window<"u"&&(0,de.zW)()&&(0,de.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ef(){(0,oe._registerComponent)(new he.uA("messaging",ha,"PUBLIC")),(0,oe._registerComponent)(new he.uA("messaging-internal",Ar,"PRIVATE")),(0,oe.registerVersion)(fn,"0.12.4"),(0,oe.registerVersion)(fn,"0.12.4","esm2017")}();const Mn="analytics",Xp="firebase_id",vd="origin",kt=6e4,Vc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bd="https://www.googletagmanager.com/gtag/js",Ai=new De.Vy("@firebase/analytics"),er=new de.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function qa(D){if(!D.startsWith(bd)){const T=er.create("invalid-gtag-resource",{gtagURL:D});return Ai.warn(T.message),""}return D}function uo(D){return Promise.all(D.map(T=>T.catch(k=>k)))}function Vl(){return(Vl=(0,U.A)(function*(D,T,k,V,q,J){const ve=V[q];try{if(ve)yield T[ve];else{const Xe=(yield uo(k)).find(_t=>_t.measurementId===q);Xe&&(yield T[Xe.appId])}}catch(tt){Ai.error(tt)}D("config",q,J)})).apply(this,arguments)}function zt(){return(zt=(0,U.A)(function*(D,T,k,V,q){try{let J=[];if(q&&q.send_to){let ve=q.send_to;Array.isArray(ve)||(ve=[ve]);const tt=yield uo(k);for(const Xe of ve){const _t=tt.find(Ot=>Ot.measurementId===Xe),Vt=_t&&T[_t.appId];if(!Vt){J=[];break}J.push(Vt)}}0===J.length&&(J=Object.values(T)),yield Promise.all(J),D("event",V,q||{})}catch(J){Ai.error(J)}})).apply(this,arguments)}const Ed=30,Dd=new class Mr{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Id(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Yp(){return(Yp=(0,U.A)(function*(D){var T;const{appId:k,apiKey:V}=D,q={method:"GET",headers:Id(V)},J=Vc.replace("{app-id}",k),ve=yield fetch(J,q);if(200!==ve.status&&304!==ve.status){let tt="";try{const Xe=yield ve.json();null!==(T=Xe.error)&&void 0!==T&&T.message&&(tt=Xe.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:tt})}return ve.json()})).apply(this,arguments)}function fi(){return(fi=(0,U.A)(function*(D,T=Dd,k){const{appId:V,apiKey:q,measurementId:J}=D.options;if(!V)throw er.create("no-app-id");if(!q){if(J)return{measurementId:J,appId:V};throw er.create("no-api-key")}const ve=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new nf;return setTimeout((0,U.A)(function*(){tt.abort()}),void 0!==k?k:kt),ho({appId:V,apiKey:q,measurementId:J},ve,tt,T)})).apply(this,arguments)}function ho(D,T,k){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,U.A)(function*(D,{throttleEndTimeMillis:T,backoffCount:k},V,q=Dd){var J;const{appId:ve,measurementId:tt}=D;try{yield function Uo(D,T){return new Promise((k,V)=>{const q=Math.max(T-Date.now(),0),J=setTimeout(k,q);D.addEventListener(()=>{clearTimeout(J),V(er.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(V,T)}catch(Xe){if(tt)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:ve,measurementId:tt};throw Xe}try{const Xe=yield function c_(D){return Yp.apply(this,arguments)}(D);return q.deleteThrottleMetadata(ve),Xe}catch(Xe){const _t=Xe;if(!function gs(D){if(!(D instanceof de.g&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(_t)){if(q.deleteThrottleMetadata(ve),tt)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:ve,measurementId:tt};throw Xe}const Vt=503===Number(null===(J=_t?.customData)||void 0===J?void 0:J.httpStatus)?(0,de.p9)(k,q.intervalMillis,Ed):(0,de.p9)(k,q.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Vt,backoffCount:k+1};return q.setThrottleMetadata(ve,Ot),Ai.debug(`Calling attemptFetch again in ${Vt} millis`),ho(D,Ot,V,q)}}),Sd.apply(this,arguments)}class nf{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Bl,mi;function rf(){return(rf=(0,U.A)(function*(D,T,k,V,q){if(q&&q.global)D("event",k,V);else{const J=yield T;D("event",k,Object.assign(Object.assign({},V),{send_to:J}))}})).apply(this,arguments)}function $i(){return($i=(0,U.A)(function*(){if(!(0,de.zW)())return Ai.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eX)()}catch(D){return Ai.warn(er.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function bn(){return bn=(0,U.A)(function*(D,T,k,V,q,J,ve){var tt;const Xe=function Qp(D){return fi.apply(this,arguments)}(D);Xe.then(kn=>{k[kn.measurementId]=kn.appId,D.options.measurementId&&kn.measurementId!==D.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kn=>Ai.error(kn)),T.push(Xe);const _t=function Td(){return $i.apply(this,arguments)}().then(kn=>{if(kn)return V.getId()}),[Vt,Ot]=yield Promise.all([Xe,_t]);(function hi(D){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(bd)&&k.src.includes(D))return k;return null})(J)||function Uc(D,T){const k=function Bc(D,T){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(D,T)),k}("firebase-js-sdk-policy",{createScriptURL:qa}),V=document.createElement("script"),q=`${bd}?l=${D}&id=${T}`;V.src=k?k?.createScriptURL(q):q,V.async=!0,document.head.appendChild(V)}(J,Vt.measurementId),mi&&(q("consent","default",mi),function Xa(D){mi=D}(void 0)),q("js",new Date);const fr=null!==(tt=ve?.config)&&void 0!==tt?tt:{};return fr[vd]="firebase",fr.update=!0,null!=Ot&&(fr[Xp]=Ot),q("config",Vt.measurementId,fr),Bl&&(q("set",Bl),function jl(D){Bl=D}(void 0)),Vt.measurementId}),bn.apply(this,arguments)}class _s{constructor(T){this.app=T}_delete(){return delete ft[this.app.options.appId],Promise.resolve()}}let ft={},Ad=[];const af={};let ga,un,ma="dataLayer",Md=!1;function _a(D,T,k){!function zc(){const D=[];if((0,de.sr)()&&D.push("This is a browser extension environment."),(0,de.dM)()||D.push("Cookies are not available."),D.length>0){const T=D.map((V,q)=>`(${q+1}) ${V}`).join(" "),k=er.create("invalid-analytics-context",{errorInfo:T});Ai.warn(k.message)}}();const V=D.options.appId;if(!V)throw er.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw er.create("no-api-key");Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ft[V])throw er.create("already-exists",{id:V});if(!Md){!function l_(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(ma);const{wrappedGtag:J,gtagCore:ve}=function xd(D,T,k,V,q){let J=function(...ve){window[V].push(arguments)};return window[q]&&"function"==typeof window[q]&&(J=window[q]),window[q]=function jc(D,T,k,V){function J(){return J=(0,U.A)(function*(ve,...tt){try{if("event"===ve){const[Xe,_t]=tt;yield function Oe(D,T,k,V,q){return zt.apply(this,arguments)}(D,T,k,Xe,_t)}else if("config"===ve){const[Xe,_t]=tt;yield function wd(D,T,k,V,q,J){return Vl.apply(this,arguments)}(D,T,k,V,Xe,_t)}else if("consent"===ve){const[Xe]=tt;D("consent","update",Xe)}else if("get"===ve){const[Xe,_t,Vt]=tt;D("get",Xe,_t,Vt)}else if("set"===ve){const[Xe]=tt;D("set",Xe)}else D(ve,...tt)}catch(Xe){Ai.error(Xe)}}),J.apply(this,arguments)}return function q(ve){return J.apply(this,arguments)}}(J,D,T,k),{gtagCore:J,wrappedGtag:window[q]}}(ft,Ad,af,ma,"gtag");un=J,ga=ve,Md=!0}return ft[V]=function Vs(D,T,k,V,q,J,ve){return bn.apply(this,arguments)}(D,Ad,af,T,ga,ma,k),new _s(D)}function Ho(){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,U.A)(function*(){if((0,de.sr)()||!(0,de.dM)()||!(0,de.zW)())return!1;try{return yield(0,de.eX)()}catch{return!1}})).apply(this,arguments)}const $c="@firebase/analytics";!function jn(){(0,oe._registerComponent)(new he.uA(Mn,(T,{options:k})=>_a(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,oe._registerComponent)(new he.uA("analytics-internal",function D(T){try{const k=T.getProvider(Mn).getImmediate();return{logEvent:(V,q,J)=>function Mi(D,T,k,V){D=(0,de.Ku)(D),function u_(D,T,k,V,q){return rf.apply(this,arguments)}(un,ft[D.app.options.appId],T,k,V).catch(q=>Ai.error(q))}(k,V,q,J)}}catch(k){throw er.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,oe.registerVersion)($c,"0.10.0"),(0,oe.registerVersion)($c,"0.10.0","esm2017")}();var tr=B(6780),Zn=B(9687);const kd=new class Jn extends Zn.q{}(class vs extends tr.R{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,k,V):(T.flush(this),0)}});var Gc=B(3236),zo=B(8141),Gi=B(6745),Hn=B(941);const Ur=new d.RxE("7.6.1"),Ya="__angularfire_symbol__analyticsIsSupportedValue",_o="__angularfire_symbol__analyticsIsSupported",$o="__angularfire_symbol__remoteConfigIsSupportedValue",Qa="__angularfire_symbol__remoteConfigIsSupported",Wc="__angularfire_symbol__messagingIsSupportedValue",Go="__angularfire_symbol__messagingIsSupported";function Xc(D,T,k){if(T){if(1===T.length)return T[0];const J=T.filter(ve=>ve.app===k);if(1===J.length)return J[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[_o]||(globalThis[_o]=Ho().then(D=>globalThis[Ya]=D).catch(()=>globalThis[Ya]=!1)),globalThis[Go]||(globalThis[Go]=_d().then(D=>globalThis[Wc]=D).catch(()=>globalThis[Wc]=!1)),globalThis[Qa]||(globalThis[Qa]=jh().then(D=>globalThis[$o]=D).catch(()=>globalThis[$o]=!1));const ts=(D,T)=>{const k=T?[T]:(0,ne.Dk)(),V=[];return k.forEach(q=>{q.container.getProvider(D).instances.forEach(ve=>{V.includes(ve)||V.push(ve)})}),V};function Wo(){}class Od{constructor(T,k=kd){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,V){const q=this.zone;return this.delegate.schedule(function(ve){q.runGuarded(()=>{T.apply(this,[ve])})},k,V)}}class bs{constructor(T){this.zone=T,this.task=null}call(T,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),k.pipe((0,zo.M)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let va=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Od(Zone.current)),this.insideAngular=k.run(()=>new Od(Zone.current,Gc.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(d.KVO(d.SKi))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ko(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function hf(D){return Ko(),function Nd(D){return function(k){return(k=k.lift(new bs(D.ngZone))).pipe((0,Gi._)(D.outsideAngular),(0,Hn.Q)(D.insideAngular))}}(Ko())(D)}},1076:(bt,Me,B)=>{B.d(Me,{Am:()=>xl,Bd:()=>Mt,FA:()=>me,Fy:()=>Re,I9:()=>Dt,Im:()=>ui,K3:()=>he,Ku:()=>ur,Ll:()=>_e,T9:()=>ue,Uj:()=>Ee,XA:()=>Se,ZQ:()=>je,bD:()=>Xn,cY:()=>ae,dM:()=>pe,eX:()=>Zs,g:()=>se,gR:()=>Nt,hp:()=>Zt,jZ:()=>Je,lT:()=>Qs,lV:()=>Fi,nr:()=>Rs,p9:()=>eo,sr:()=>Qt,tD:()=>Dn,u:()=>H,zW:()=>ko,zw:()=>ie});const oe=function(G){const z=[];let Q=0;for(let Ae=0;Ae<G.length;Ae++){let fe=G.charCodeAt(Ae);fe<128?z[Q++]=fe:fe<2048?(z[Q++]=fe>>6|192,z[Q++]=63&fe|128):55296==(64512&fe)&&Ae+1<G.length&&56320==(64512&G.charCodeAt(Ae+1))?(fe=65536+((1023&fe)<<10)+(1023&G.charCodeAt(++Ae)),z[Q++]=fe>>18|240,z[Q++]=fe>>12&63|128,z[Q++]=fe>>6&63|128,z[Q++]=63&fe|128):(z[Q++]=fe>>12|224,z[Q++]=fe>>6&63|128,z[Q++]=63&fe|128)}return z},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let fe=0;fe<G.length;fe+=3){const ht=G[fe],St=fe+1<G.length,on=St?G[fe+1]:0,dn=fe+2<G.length,ii=dn?G[fe+2]:0;let Bi=(15&on)<<2|ii>>6,Er=63&ii;dn||(Er=64,St||(Bi=64)),Ae.push(Q[ht>>2],Q[(3&ht)<<4|on>>4],Q[Bi],Q[Er])}return Ae.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(oe(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let Q=0,Ae=0;for(;Q<G.length;){const fe=G[Q++];if(fe<128)z[Ae++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const ht=G[Q++];z[Ae++]=String.fromCharCode((31&fe)<<6|63&ht)}else if(fe>239&&fe<365){const dn=((7&fe)<<18|(63&G[Q++])<<12|(63&G[Q++])<<6|63&G[Q++])-65536;z[Ae++]=String.fromCharCode(55296+(dn>>10)),z[Ae++]=String.fromCharCode(56320+(1023&dn))}else{const ht=G[Q++],St=G[Q++];z[Ae++]=String.fromCharCode((15&fe)<<12|(63&ht)<<6|63&St)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const Q=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let fe=0;fe<G.length;){const ht=Q[G.charAt(fe++)],on=fe<G.length?Q[G.charAt(fe)]:0;++fe;const ii=fe<G.length?Q[G.charAt(fe)]:64;++fe;const rn=fe<G.length?Q[G.charAt(fe)]:64;if(++fe,null==ht||null==on||null==ii||null==rn)throw new De;Ae.push(ht<<2|on>>4),64!==ii&&(Ae.push(on<<4&240|ii>>2),64!==rn&&Ae.push(ii<<6&192|rn))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(G){return function(G){const z=oe(G);return he.encodeByteArray(z,!0)}(G).replace(/\./g,"")},H=function(G){try{return he.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function ie(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const Q in z)!z.hasOwnProperty(Q)||!We(Q)||(G[Q]=ie(G[Q],z[Q]));return G}function We(G){return"__proto__"!==G}const He=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=G&&H(G[1]);return z&&JSON.parse(z)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ue=()=>{var G;return null===(G=He())||void 0===G?void 0:G.config},Se=G=>{var z;return null===(z=He())||void 0===z?void 0:z[`_${G}`]};class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Q)=>{this.resolve=z,this.reject=Q})}wrapCallback(z){return(Q,Ae)=>{Q?this.reject(Q):this.resolve(Ae),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Q):z(Q,Ae))}}}function Re(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=z||"demo-project",fe=G.iat||0,ht=G.sub||G.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:fe,exp:fe+3600,auth_time:fe,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(St)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function _e(){var G;const z=null===(G=He())||void 0===G?void 0:G.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function Qt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Fi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qs(){const G=je();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Rs(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ko(){try{return"object"==typeof indexedDB}catch{return!1}}function Zs(){return new Promise((G,z)=>{try{let Q=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(Ae);fe.onsuccess=()=>{fe.result.close(),Q||self.indexedDB.deleteDatabase(Ae),G(!0)},fe.onupgradeneeded=()=>{Q=!1},fe.onerror=()=>{var ht;z((null===(ht=fe.error)||void 0===ht?void 0:ht.message)||"")}}catch(Q){z(Q)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class se extends Error{constructor(z,Q,Ae){super(Q),this.code=z,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(z,Q,Ae){this.service=z,this.serviceName=Q,this.errors=Ae}create(z,...Q){const Ae=Q[0]||{},fe=`${this.service}/${z}`,ht=this.errors[z],St=ht?function ke(G,z){return G.replace(ye,(Q,Ae)=>{const fe=z[Ae];return null!=fe?String(fe):`<${Ae}?>`})}(ht,Ae):"Error";return new se(fe,`${this.serviceName}: ${St} (${fe}).`,Ae)}}const ye=/\{\$([^}]+)}/g;function Nt(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function ui(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function Xn(G,z){if(G===z)return!0;const Q=Object.keys(G),Ae=Object.keys(z);for(const fe of Q){if(!Ae.includes(fe))return!1;const ht=G[fe],St=z[fe];if(Fr(ht)&&Fr(St)){if(!Xn(ht,St))return!1}else if(ht!==St)return!1}for(const fe of Ae)if(!Q.includes(fe))return!1;return!0}function Fr(G){return null!==G&&"object"==typeof G}function xl(G){const z=[];for(const[Q,Ae]of Object.entries(G))Array.isArray(Ae)?Ae.forEach(fe=>{z.push(encodeURIComponent(Q)+"="+encodeURIComponent(fe))}):z.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ae));return z.length?"&"+z.join("&"):""}function Dt(G){const z={};return G.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[fe,ht]=Ae.split("=");z[decodeURIComponent(fe)]=decodeURIComponent(ht)}}),z}function Zt(G){const z=G.indexOf("?");if(!z)return"";const Q=G.indexOf("#",z);return G.substring(z,Q>0?Q:void 0)}function Dn(G,z){const Q=new Un(G,z);return Q.subscribe.bind(Q)}class Un{constructor(z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{z(this)}).catch(Ae=>{this.error(Ae)})}next(z){this.forEachObserver(Q=>{Q.next(z)})}error(z){this.forEachObserver(Q=>{Q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Q,Ae){let fe;if(void 0===z&&void 0===Q&&void 0===Ae)throw new Error("Missing Observer.");fe=function mn(G,z){if("object"!=typeof G||null===G)return!1;for(const Q of z)if(Q in G&&"function"==typeof G[Q])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Q,complete:Ae},void 0===fe.next&&(fe.next=Vi),void 0===fe.error&&(fe.error=Vi),void 0===fe.complete&&(fe.complete=Vi);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),ht}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,z)}sendOne(z,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Q(this.observers[z])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vi(){}const No=1e3,hs=2,Ci=144e5,Di=.5;function eo(G,z=No,Q=hs){const Ae=z*Math.pow(Q,G),fe=Math.round(Di*Ae*(Math.random()-.5)*2);return Math.min(Ci,Ae+fe)}function ur(G){return G&&G._delegate?G._delegate:G}},7669:(bt,Me,B)=>{var d=B(7705);let ne=null;function U(){return ne}class de{}const he=new d.nKC("DocumentToken");let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return(0,d.WQX)(Ee)},providedIn:"platform"})}}return n})();const Be=new d.nKC("Location Initialized");let Ee=(()=>{class n extends De{constructor(){super(),this._doc=(0,d.WQX)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(e){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function H(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function K(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let We=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return(0,d.WQX)(et)},providedIn:"root"})}}return n})();const Pe=new d.nKC("appBaseHref");let et=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return H(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ie(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+ie(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+ie(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(De),d.KVO(Pe,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ve=(()=>{class n extends We{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=H(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+ie(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+ie(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(De),d.KVO(Pe,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})(),Qe=(()=>{class n{constructor(e){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function ue(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(K(xt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ie(i))}normalize(e){return n.stripTrailingSlash(function It(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,xt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ie(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ie(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=ie}static{this.joinWithSlash=H}static{this.stripTrailingSlash=K}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(We))}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return function He(){return new Qe((0,d.KVO)(We))}()},providedIn:"root"})}}return n})();function xt(n){return n.replace(/\/index.html$/,"")}const Se={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ae=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(ae||{}),Mt=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Mt||{});function se(n,t){const e=(0,d.H5H)(n),i=e[d.KH2.NumberSymbols][t];if(typeof i>"u"){if(t===Mt.CurrencyDecimal)return e[d.KH2.NumberSymbols][Mt.Decimal];if(t===Mt.CurrencyGroup)return e[d.KH2.NumberSymbols][Mt.Group]}return i}const fe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ht=22,St=".",on="0",dn=";",ii=",",Lt="#";function to(n,t,e,i,r){const a=function re(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(dn),r=i[0],s=i[1],a=-1!==r.indexOf(St)?r.split(St):[r.substring(0,r.lastIndexOf(on)+1),r.substring(r.lastIndexOf(on)+1)],u=a[0],f=a[1]||"";e.posPre=u.substring(0,u.indexOf(Lt));for(let v=0;v<f.length;v++){const x=f.charAt(v);x===on?e.minFrac=e.maxFrac=v+1:x===Lt?e.maxFrac=v+1:e.posSuf+=x}const m=u.split(ii);if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,s){const v=r.length-e.posPre.length-e.posSuf.length,x=s.indexOf(Lt);e.negPre=s.substring(0,x).replace(/'/g,""),e.negSuf=s.slice(x+v).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function me(n,t){return(0,d.H5H)(n)[d.KH2.NumberFormats][t]}(t,ae.Currency),se(t,Mt.MinusSign));return a.minFrac=function Xn(n){let t;const e=Se[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),a.maxFrac=a.minFrac,function Er(n,t,e,i,r,s,a=!1){let u="",f=!1;if(isFinite(n)){let m=function gt(n){let i,r,s,a,u,t=Math.abs(n)+"",e=0;for((r=t.indexOf(St))>-1&&(t=t.replace(St,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===on;s++);if(s===(u=t.length))i=[0],r=1;else{for(u--;t.charAt(u)===on;)u--;for(r-=s,i=[],a=0;s<=u;s++,a++)i[a]=Number(t.charAt(s))}return r>ht&&(i=i.splice(0,ht-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function Ue(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let v=t.minInt,x=t.minFrac,S=t.maxFrac;if(s){const X=s.match(fe);if(null===X)throw new Error(`${s} is not a valid digit info`);const ee=X[1],le=X[3],ce=X[5];null!=ee&&(v=rt(ee)),null!=le&&(x=rt(le)),null!=ce?S=rt(ce):null!=le&&x>S&&(S=x)}!function Et(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,u=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let x=a;x<i.length;x++)i[x]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let x=1;x<a;x++)i[x]=0}if(u>=5)if(a-1<0){for(let x=0;x>a;x--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let f=0!==s;const m=t+n.integerLen,v=i.reduceRight(function(x,S,A,O){return O[A]=(S+=x)<10?S:S-10,f&&(0===O[A]&&A>=m?O.pop():f=!1),S>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(m,x,S);let A=m.digits,O=m.integerLen;const P=m.exponent;let L=[];for(f=A.every(X=>!X);O<v;O++)A.unshift(0);for(;O<0;O++)A.unshift(0);O>0?L=A.splice(O,A.length):(L=A,A=[0]);const $=[];for(A.length>=t.lgSize&&$.unshift(A.splice(-t.lgSize,A.length).join(""));A.length>t.gSize;)$.unshift(A.splice(-t.gSize,A.length).join(""));A.length&&$.unshift(A.join("")),u=$.join(se(e,i)),L.length&&(u+=se(e,r)+L.join("")),P&&(u+=se(e,Mt.Exponential)+"+"+P)}else u=se(e,Mt.Infinity);return u=n<0&&!f?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(n,a,t,Mt.CurrencyGroup,Mt.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function rt(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}const no=/\s+/,Hu=[];let Il=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Hu,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(no):Hu}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(no):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(no).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d._q3),d.rXU(d.MKu),d.rXU(d.aKT),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),La=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Bp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Up("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Up("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Bp{constructor(){this.$implicit=null,this.ngIf=null}}function Up(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.Tbb)(t)}'.`)}class xc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ii=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),Ec=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new xc(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(Ii,9))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),Cc=(()=>{class n{constructor(e,i,r){r._addDefault(new xc(e,i))}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(Ii,9))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return n})(),Tl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]})}}return n})();let Bt=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,a){if(!function wn(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let u=i||this._defaultCurrencyCode;"code"!==r&&(u="symbol"===r||"symbol-narrow"===r?function ui(n,t,e="en"){const i=function Gt(n){return(0,d.H5H)(n)[d.KH2.Currencies]}(e)[n]||Se[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(u,"symbol"===r?"wide":"narrow",a):r);try{return to(function Lr(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,u,i,s)}catch(f){throw function qr(n,t){return new d.wOt(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.xe9,16),d.rXU(d.Ocv,16))}}static{this.\u0275pipe=d.EJ8({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();let Yr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})();const Kn="browser";function Ml(n){return"server"===n}let Ir=(()=>{class n{static{this.\u0275prov=(0,d.jDH)({token:n,providedIn:"root",factory:()=>new Sr((0,d.KVO)(he),window)})}}return n})();class Sr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Qr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Kh extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fl extends Kh{static makeCurrent(){!function oe(n){ne||(ne=n)}(new Fl)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Kp(){return Ll=Ll||document.querySelector("base"),Ll?Ll.getAttribute("href"):null}();return null==e?null:function s_(n){fd=fd||document.createElement("a"),fd.setAttribute("href",n);const t=fd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Cr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let fd,Ll=null,Xh=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();const Fc=new d.nKC("EventManagerPlugins");let o_=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(Fc),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();class Yh{constructor(t){this._doc=t}}const Ga="ng-app-id";let Qh=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ml(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ga}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Ga),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ga,this.appId),a}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();const ca={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},co=/%COMP%/g,Zh=new d.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function da(n,t){return t.map(e=>e.replace(co,n))}let fn=(()=>{class n{constructor(e,i,r,s,a,u,f,m=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Ml(u),this.defaultRenderer=new Wa(e,a,f,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.gXe.ShadowDom&&(i={...i,encapsulation:d.gXe.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Br?r.applyToHost(e):r instanceof Ls&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.doc,u=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(i.encapsulation){case d.gXe.Emulated:s=new Br(f,m,i,this.appId,v,a,u,x);break;case d.gXe.ShadowDom:return new _d(f,m,e,i,a,u,this.nonce,x);default:s=new Ls(f,m,i,v,a,u,x)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(o_),d.KVO(Qh),d.KVO(d.sZ2),d.KVO(Zh),d.KVO(he),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();class Wa{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ca[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(ef(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ef(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new d.wOt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ca[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ca[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(d.czy.DashCase|d.czy.Important)?t.style.setProperty(e,i,r&d.czy.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&d.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=U().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function ef(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _d extends Wa{constructor(t,e,i,r,s,a,u,f){super(t,s,a,f),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=da(r.id,r.styles);for(const v of m){const x=document.createElement("style");u&&x.setAttribute("nonce",u),x.textContent=v,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ls extends Wa{constructor(t,e,i,r,s,a,u,f){super(t,s,a,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=f?da(f,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Br extends Ls{constructor(t,e,i,r,s,a,u,f){const m=r+"-"+i.id;super(t,e,i,s,a,u,f,m),this.contentAttr=function Fs(n){return"_ngcontent-%COMP%".replace(co,n)}(m),this.hostAttr=function Jh(n){return"_nghost-%COMP%".replace(co,n)}(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Ka=(()=>{class n extends Yh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();const qp=["alt","control","meta","shift"],fa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lc=(()=>{class n extends Yh{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),qp.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=a,f}static matchEventFullKeyCode(e,i){let r=fa[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qp.forEach(a=>{a!==r&&(0,pa[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ai=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:Kn},{provide:d.PLl,useValue:function vd(){Fl.makeCurrent()},multi:!0},{provide:he,useFactory:function Vc(){return(0,d.TL$)(document),document},deps:[]}]),tf=new d.nKC(""),er=[{provide:d.e01,useClass:class qh{addToWindow(t){d.JZv.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new d.wOt(5103,!1);return s},d.JZv.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>t.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(i=>{const r=d.JZv.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(f){a=a||f,s--,0==s&&i(a)};r.forEach(f=>{f.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?U().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],qa=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function kt(){return new d.zcH},deps:[]},{provide:Fc,useClass:Ka,multi:!0,deps:[he,d.SKi,d.Agw]},{provide:Fc,useClass:Lc,multi:!0,deps:[he]},fn,Qh,o_,{provide:d._9s,useExisting:fn},{provide:class ms{},useClass:Xh,deps:[]},[]];let uo=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.sZ2,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(tf,12))}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({providers:[...qa,...er],imports:[Yr,d.Hbi]})}}return n})(),Vl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:function(i){let r=null;return r=i?new i:function wd(){return new Vl((0,d.KVO)(he))}(),r},providedIn:"root"})}}return n})();typeof window<"u"&&window;let Uo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(i){let r=null;return r=i?new(i||n):d.KVO(nf),r},providedIn:"root"})}}return n})(),nf=(()=>{class n extends Uo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case d.WPN.NONE:return i;case d.WPN.HTML:return(0,d.ZF7)(i,"HTML")?(0,d.rcV)(i):(0,d.h9k)(this._doc,String(i)).toString();case d.WPN.STYLE:return(0,d.ZF7)(i,"Style")?(0,d.rcV)(i):i;case d.WPN.SCRIPT:if((0,d.ZF7)(i,"Script"))return(0,d.rcV)(i);throw new d.wOt(5200,!1);case d.WPN.URL:return(0,d.ZF7)(i,"URL")?(0,d.rcV)(i):(0,d.$MX)(String(i));case d.WPN.RESOURCE_URL:if((0,d.ZF7)(i,"ResourceURL"))return(0,d.rcV)(i);throw new d.wOt(5201,!1);default:throw new d.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,d.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,d.cWb)(e)}bypassSecurityTrustScript(e){return(0,d.UyX)(e)}bypassSecurityTrustUrl(e){return(0,d.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,d.e5t)(e)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:function(i){let r=null;return r=i?new i:function gs(n){return new nf(n.get(he))}(d.KVO(d.zZn)),r},providedIn:"root"})}}return n})();var pi=B(1985),Rr=B(8071);function jo(n){return!!n&&(n instanceof pi.c||(0,Rr.T)(n.lift)&&(0,Rr.T)(n.subscribe))}var Vn=B(8455),lt=B(7673),mi=B(4412);const{isArray:Xa}=Array,{getPrototypeOf:jl,prototype:Td,keys:$i}=Object;function Vs(n){if(1===n.length){const t=n[0];if(Xa(t))return{args:t,keys:null};if(function bn(n){return n&&"object"==typeof n&&jl(n)===Td}(t)){const e=$i(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var _s=B(3669),ft=B(6354);const{isArray:Ad}=Array;function ma(n){return(0,ft.T)(t=>function af(n,t){return Ad(t)?n(...t):n(t)}(n,t))}var fo=B(9326);function ga(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var un=B(4360),Md=B(5225);function ys(...n){const t=(0,fo.lI)(n),e=(0,fo.ms)(n),{args:i,keys:r}=Vs(n);if(0===i.length)return(0,Vn.H)([],t);const s=new pi.c(function zc(n,t,e=_s.D){return i=>{_a(t,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let f=0;f<r;f++)_a(t,()=>{const m=(0,Vn.H)(n[f],t);let v=!1;m.subscribe((0,un._)(i,x=>{s[f]=x,v||(v=!0,u--),u||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>ga(r,a):_s.D));return e?s.pipe(ma(e)):s}function _a(n,t,e){n?(0,Md.N)(e,n,t):t()}const ya=(0,B(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ho=B(6365);function Jr(...n){return function Rd(){return(0,Ho.U)(1)}()((0,Vn.H)(n,(0,fo.lI)(n)))}var po=B(8750);function Hl(n){return new pi.c(t=>{(0,po.Tg)(n()).subscribe(t)})}var Jp=B(1203);function mo(n,t){const e=(0,Rr.T)(n)?n:()=>n,i=r=>r.error(e());return new pi.c(t?r=>t.schedule(i,0,r):i)}var go=B(983),es=B(8359),Mi=B(9974);function cf(){return(0,Mi.N)((n,t)=>{let e=null;n._refCount++;const i=(0,un._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class $c extends pi.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Mi.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new es.yU;const e=this.getSubject();t.add(this.source.subscribe((0,un._)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=es.yU.EMPTY)}return t}refCount(){return cf()(this)}}var Kt=B(1413),jn=B(5558);function tr(n){return n<=0?()=>go.w:(0,Mi.N)((t,e)=>{let i=0;t.subscribe((0,un._)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function vs(...n){const t=(0,fo.lI)(n);return(0,Mi.N)((e,i)=>{(t?Jr(n,e,t):Jr(n,e)).subscribe(i)})}function Zn(n,t){return(0,Mi.N)((e,i)=>{let r=0;e.subscribe((0,un._)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Jn=B(1397);function kd(n){return(0,Mi.N)((t,e)=>{let i=!1;t.subscribe((0,un._)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function uf(n=Gc){return(0,Mi.N)((t,e)=>{let i=!1;t.subscribe((0,un._)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Gc(){return new ya}function zo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zn((r,s)=>n(r,s,i)):_s.D,tr(1),e?kd(t):uf(()=>new ya))}function Gi(n,t){return(0,Rr.T)(t)?(0,Jn.Z)(n,t,1):(0,Jn.Z)(n,1)}var Hn=B(8141);function Ur(n){return(0,Mi.N)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,un._)(e,void 0,void 0,a=>{s=(0,po.Tg)(n(a,Ur(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function _o(n,t){return(0,Mi.N)(function Ya(n,t,e,i,r){return(s,a)=>{let u=e,f=t,m=0;s.subscribe((0,un._)(a,v=>{const x=m++;f=u?n(f,v,x):(u=!0,v),i&&a.next(f)},r&&(()=>{u&&a.next(f),a.complete()})))}}(n,t,arguments.length>=2,!0))}function $o(n){return n<=0?()=>go.w:(0,Mi.N)((t,e)=>{let i=[];t.subscribe((0,un._)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Go(n){return(0,Mi.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Kc=B(5343);function oi(n){return(0,Mi.N)((t,e)=>{(0,po.Tg)(n).subscribe((0,un._)(e,()=>e.complete(),Kc.l)),!e.closed&&t.subscribe(e)})}const Ut="primary",qc=Symbol("RouteTitle");class Xc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ts(n){return new Xc(n)}function Wo(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],u=n[s];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!va(n[r],t[r]))return!1;return!0}function va(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Ko(n){return n.length>0?n[n.length-1]:null}function Rn(n){return jo(n)?n:(0,d.jNT)(n)?(0,Vn.H)(Promise.resolve(n)):(0,lt.of)(n)}const ba={exact:function Nd(n,t,e){if(!ve(n.segments,t.segments)||!T(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Nd(n.children[i],t.children[i],e))return!1;return!0},subset:Za},df={exact:function hf(n,t){return bs(n,t)},subset:function Fd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>va(n[e],t[e]))},ignored:()=>!0};function Pd(n,t,e){return ba[e.paths](n.root,t.root,e.matrixParams)&&df[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Za(n,t,e){return D(n,t,t.segments,e)}function D(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ve(r,e)||t.hasChildren()||!T(r,e,i))}if(n.segments.length===e.length){if(!ve(n.segments,e)||!T(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Za(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(ve(n.segments,r)&&T(n.segments,r,i)&&n.children[Ut])&&D(n.children[Ut],t,s,i)}}function T(n,t,e){return t.every((i,r)=>df[e](n[r].parameters,i.parameters))}class k{constructor(t=new V([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return Vt.serialize(this)}}class V{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ot(this)}}class q{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ts(this.parameters)),this._parameterMap}toString(){return Yc(this)}}function ve(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Xe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return new _t},providedIn:"root"})}}return n})();class _t{parse(t){const e=new em(t);return new k(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fr(t.root,!0)}`,i=function Qc(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${yo(e)}=${yo(r)}`).join("&"):`${yo(e)}=${yo(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Ld(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Vt=new _t;function Ot(n){return n.segments.map(t=>Yc(t)).join("/")}function fr(n,t){if(!n.hasChildren())return Ot(n);if(t){const e=n.children[Ut]?fr(n.children[Ut],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ut&&i.push(`${r}:${fr(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function tt(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ut&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ut&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ut?[fr(n.children[Ut],!1)]:[`${r}:${fr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${Ot(n)}/${e[0]}`:`${Ot(n)}/(${e.join("//")})`}}function kn(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yo(n){return kn(n).replace(/%3B/gi,";")}function In(n){return kn(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kr(n){return decodeURIComponent(n)}function Or(n){return kr(n.replace(/\+/g,"%20"))}function Yc(n){return`${In(n.path)}${function ns(n){return Object.keys(n).map(t=>`;${In(t)}=${In(n[t])}`).join("")}(n.parameters)}`}const Jv=/^[^\/()?;#]+/;function Ja(n){const t=n.match(Jv);return t?t[0]:""}const Zc=/^[^\/()?;=#]+/,eb=/^[^=?&#]+/,wE=/^[^&#]+/;class em{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ut]=new V(t,e)),i}parseSegment(){const t=Ja(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(t),new q(kr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function ff(n){const t=n.match(Zc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ja(this.remaining);r&&(i=r,this.capture(i))}t[kr(e)]=kr(i)}parseQueryParam(t){const e=function h_(n){const t=n.match(eb);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function ws(n){const t=n.match(wE);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=Or(e),s=Or(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ja(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.wOt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ut);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Ut]:new V([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new d.wOt(4011,!1)}}function zl(n){return n.segments.length>0?new V([],{[Ut]:n}):n}function tb(n){const t={};for(const i of Object.keys(n.children)){const s=tb(n.children[i]);if(i===Ut&&0===s.segments.length&&s.hasChildren())for(const[a,u]of Object.entries(s.children))t[a]=u;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function tm(n){if(1===n.numberOfChildren&&n.children[Ut]){const t=n.children[Ut];return new V(n.segments.concat(t.segments),t.children)}return n}(new V(n.segments,t))}function $l(n){return n instanceof k}function el(n){let t;const r=zl(function e(s){const a={};for(const f of s.children){const m=e(f);a[f.outlet]=m}const u=new V(s.url,a);return s===n&&(t=u),u}(n.root));return t??r}function f_(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return Vd(r,r,r,e,i);const s=function mf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new p_(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Object.entries(s.outlets).forEach(([f,m])=>{u[f]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new p_(e,t,i)}(t);if(s.toRoot())return Vd(r,r,new V([],{}),e,i);const a=function gf(n,t,e){if(n.isAbsolute)return new Jc(t,!0,0);if(!e)return new Jc(t,!1,NaN);if(null===e.parent)return new Jc(e,!0,0);const i=pf(n.commands[0])?0:1;return function nb(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.wOt(4005,!1);r=i.segments.length}return new Jc(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),u=a.processChildren?tl(a.segmentGroup,a.index,s.commands):yf(a.segmentGroup,a.index,s.commands);return Vd(r,a.segmentGroup,u,e,i)}function pf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gl(n){return"object"==typeof n&&null!=n&&n.outlets}function Vd(n,t,e,i,r){let a,s={};i&&Object.entries(i).forEach(([f,m])=>{s[f]=Array.isArray(m)?m.map(v=>`${v}`):`${m}`}),a=n===t?e:Wl(n,t,e);const u=zl(tb(a));return new k(u,s,r)}function Wl(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Wl(s,t,e)}),new V(n.segments,i)}class p_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&pf(i[0]))throw new d.wOt(4003,!1);const r=i.find(Gl);if(r&&r!==Ko(i))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function yf(n,t,e){if(n||(n=new V([],{})),0===n.segments.length&&n.hasChildren())return tl(n,t,e);const i=function m_(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],u=e[i];if(Gl(u))break;const f=`${u}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!il(f,m,a))return s;i+=2}else{if(!il(f,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new V(n.segments.slice(0,i.pathIndex),{});return s.children[Ut]=new V(n.segments.slice(i.pathIndex),n.children),tl(s,0,r)}return i.match&&0===r.length?new V(n.segments,{}):i.match&&!n.hasChildren()?nm(n,t,e):i.match?tl(n,0,r):nm(n,t,e)}function tl(n,t,e){if(0===e.length)return new V(n.segments,{});{const i=function _f(n){return Gl(n[0])?n[0].outlets:{[Ut]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ut)&&n.children[Ut]&&1===n.numberOfChildren&&0===n.children[Ut].segments.length){const s=tl(n.children[Ut],t,e);return new V(n.segments,s.children)}return Object.entries(i).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[s]=yf(n.children[s],t,a))}),Object.entries(n.children).forEach(([s,a])=>{void 0===i[s]&&(r[s]=a)}),new V(n.segments,r)}}function nm(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Gl(s)){const f=ib(s.outlets);return new V(i,f)}if(0===r&&pf(e[0])){i.push(new q(n.segments[t].path,nl(e[0]))),r++;continue}const a=Gl(s)?s.outlets[Ut]:`${s}`,u=r<e.length-1?e[r+1]:null;a&&u&&pf(u)?(i.push(new q(a,nl(u))),r+=2):(i.push(new q(a,{})),r++)}return new V(i,{})}function ib(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=nm(new V([],{}),0,i))}),t}function nl(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function il(n,t,e){return n==e.path&&bs(t,e.parameters)}const Bd="imperative";class wa{constructor(t,e){this.id=t,this.url=e}}class Kl extends wa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends wa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vf extends wa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eu extends wa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class ql extends wa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g_ extends wa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bf extends wa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class __ extends wa{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class y_ extends wa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v_ extends wa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EE{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class b_{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ud{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wf{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class w_{}class jd{constructor(t){this.url=t}}class ob{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tu,this.attachRef=null}}let tu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ob,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class im{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rm(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=rm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sm(t,this._root).map(e=>e.value)}}function rm(n,t){if(n===t.value)return t;for(const e of t.children){const i=rm(n,e);if(i)return i}return null}function sm(n,t){if(n===t.value)return[t];for(const e of t.children){const i=sm(n,e);if(i.length)return i.unshift(t),i}return[]}class is{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jr extends im{constructor(t,e){super(t),this.snapshot=e,iu(this,t)}toString(){return this.snapshot.toString()}}function Xl(n,t){const e=function om(n,t){const a=new Yl([],{},{},"",{},Ut,t,null,{});return new nu("",new is(a,[]))}(0,t),i=new mi.t([new q("",{})]),r=new mi.t({}),s=new mi.t({}),a=new mi.t({}),u=new mi.t(""),f=new vo(i,r,a,u,s,Ut,t,e.root);return f.snapshot=e.root,new jr(new is(f,[]),e)}class vo{constructor(t,e,i,r,s,a,u,f){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=a,this.component=u,this._futureSnapshot=f,this.title=this.dataSubject?.pipe((0,ft.T)(m=>m[qc]))??(0,lt.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.T)(t=>ts(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.T)(t=>ts(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hd(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function xf(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Yl{get title(){return this.data?.[qc]}constructor(t,e,i,r,s,a,u,f,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.routeConfig=f,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nu extends im{constructor(t,e){super(e),this.url=t,iu(this,e)}toString(){return Ea(this._root)}}function iu(n,t){t.value._routerState=n,t.children.forEach(e=>iu(n,e))}function Ea(n){const t=n.children.length>0?` { ${n.children.map(Ea).join(", ")} } `:"";return`${n.value}${t}`}function Ef(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bs(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),bs(t.params,e.params)||n.paramsSubject.next(e.params),function Od(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),bs(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function am(n,t){const e=bs(n.params,t.params)&&function J(n,t){return ve(n,t)&&n.every((e,i)=>bs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||am(n.parent,t.parent))}let Cf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(tu),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.inputBinder=(0,d.WQX)(zd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,f=new lm(e,u,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}}return n})();class lm{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===vo?this.route:t===tu?this.childContexts:this.parent.get(t,e)}}const zd=new d.nKC("");let Hr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=ys([i.queryParams,i.params,i.data]).pipe((0,jn.n)(([s,a,u],f)=>(u={...s,...a,...u},0===f?(0,lt.of)(u):Promise.resolve(u)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const a=(0,d.HJs)(i.component);if(a)for(const{templateName:u}of a.inputs)e.activatedComponentRef.setInput(u,s[u]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();function rl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function ab(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return rl(n,i,r);return rl(n,i)})}(n,t,e);return new is(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>rl(n,u)),a}}const i=function Ca(n){return new vo(new mi.t(n.url),new mi.t(n.params),new mi.t(n.queryParams),new mi.t(n.fragment),new mi.t(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>rl(n,s));return new is(i,r)}}const Ri="ngNavigationCancelingError";function $d(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=$l(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Df(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Df(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ri]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Wi(n){return n&&n[Ri]}let ru=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(i,r){1&i&&d.nrm(0,"router-outlet")},dependencies:[Cf],encapsulation:2})}}return n})();function W(n){const t=n.children&&n.children.map(W),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ut&&(e.component=ru),e}function Z(n){return n.outlet||Ut}function qe(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ei{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ef(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=xa(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=xa(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=xa(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=xa(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new wf(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Ud(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Ef(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),Ef(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=qe(r.snapshot);a.attachRef=null,a.route=r,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class xs{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sl{constructor(t,e){this.component=t,this.route=e}}function dm(n,t,e){const i=n._root;return Ql(i,t?t._root:null,e,[i.value])}function Xo(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,d.LfX)(n)?t.get(n):n:i}function Ql(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xa(t);return n.children.forEach(a=>{(function Gd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function Wd(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ve(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ve(n.url,t.url)||!bs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(n,t)||!bs(n.queryParams,t.queryParams);default:return!am(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new xs(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Ql(n,t,s.component?u?u.children:null:e,i,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new sl(u.outlet.component,a))}else a&&su(t,u,r),r.canActivateChecks.push(new xs(i)),Ql(n,null,s.component?u?u.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,u])=>su(u,e.getContext(a),r)),r}function su(n,t,e){const i=xa(n),r=n.value;Object.entries(i).forEach(([s,a])=>{su(a,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new sl(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Zl(n){return"function"==typeof n}function TE(n){return n instanceof ya||"EmptyError"===n?.name}const D_=Symbol("INITIAL_VALUE");function ou(){return(0,jn.n)(n=>ys(n.map(t=>t.pipe(tr(1),vs(D_)))).pipe((0,ft.T)(t=>{for(const e of t)if(!0!==e){if(e===D_)return D_;if(!1===e||e instanceof k)return e}return!0}),Zn(t=>t!==D_),tr(1)))}function hb(n){return(0,Jp.F)((0,Hn.M)(t=>{if($l(t))throw $d(0,t)}),(0,ft.T)(t=>!0===t))}class If{constructor(t){this.segmentGroup=t||null}}class fb{constructor(t){this.urlTree=t}}function Jl(n){return mo(new If(n))}function Sf(n){return mo(new fb(n))}class S_{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new d.wOt(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,lt.of)(i);if(r.numberOfChildren>1||!r.children[Ut])return mo(new d.wOt(4e3,!1));r=r.children[Ut]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new k(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const u=s.substring(1);i[r]=e[u]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Object.entries(e.children).forEach(([u,f])=>{a[u]=this.createSegmentGroup(t,f,i,r)}),new V(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new d.wOt(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const T_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mb(n,t,e,i,r){const s=qd(n,t,e);return s.matched?(i=function x_(n,t){return n.providers&&!n._injector&&(n._injector=(0,d.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function OE(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,lt.of)(!0);const s=r.map(a=>{const u=Xo(a,n);return Rn(function C_(n){return n&&Zl(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))});return(0,lt.of)(s).pipe(ou(),hb())}(i,t,e).pipe((0,ft.T)(a=>!0===a?s:{...T_}))):(0,lt.of)(s)}function qd(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...T_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Wo)(e,n,t);if(!r)return{...T_};const s={};Object.entries(r.posParams??{}).forEach(([u,f])=>{s[u]=f.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function NE(n,t,e,i){return e.length>0&&function RM(n,t,e){return e.some(i=>fm(n,t,i)&&Z(i)!==Ut)}(n,e,i)?{segmentGroup:new V(t,MM(i,new V(e,n.children))),slicedSegments:[]}:0===e.length&&function kM(n,t,e){return e.some(i=>fm(n,t,i))}(n,e,i)?{segmentGroup:new V(n.segments,FE(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new V(n.segments,n.children),slicedSegments:e}}function FE(n,t,e,i,r){const s={};for(const a of i)if(fm(n,e,a)&&!r[Z(a)]){const u=new V([],{});s[Z(a)]=u}return{...r,...s}}function MM(n,t){const e={};e[Ut]=t;for(const i of n)if(""===i.path&&Z(i)!==Ut){const r=new V([],{});e[Z(i)]=r}return e}function fm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Tf{constructor(t,e,i,r,s,a,u){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=u,this.allowRedirects=!0,this.applyRedirects=new S_(this.urlSerializer,this.urlTree)}noMatchError(t){return new d.wOt(4002,!1)}recognize(){const t=NE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ut).pipe(Ur(e=>{if(e instanceof fb)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof If?this.noMatchError(e):e}),(0,ft.T)(e=>{const i=new Yl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),r=new is(i,e),s=new nu("",r),a=function xE(n,t,e=null,i=null){return f_(el(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ut).pipe(Ur(i=>{throw i instanceof If?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Hd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Vn.H)(r).pipe(Gi(s=>{const a=i.children[s],u=function Fe(n,t){const e=n.filter(i=>Z(i)===t);return e.push(...n.filter(i=>Z(i)!==t)),e}(e,s);return this.processSegmentGroup(t,u,a,s)}),_o((s,a)=>(s.push(...a),s)),kd(null),function Qa(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zn((r,s)=>n(r,s,i)):_s.D,$o(1),e?kd(t):uf(()=>new ya))}(),(0,Jn.Z)(s=>{if(null===s)return Jl(i);const a=NM(s);return function OM(n){n.sort((t,e)=>t.value.outlet===Ut?-1:e.value.outlet===Ut?1:t.value.outlet.localeCompare(e.value.outlet))}(a),(0,lt.of)(a)}))}processSegment(t,e,i,r,s,a){return(0,Vn.H)(e).pipe(Gi(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,i,r,s,a).pipe(Ur(f=>{if(f instanceof If)return(0,lt.of)(null);throw f}))),zo(u=>!!u),Ur(u=>{if(TE(u))return function A_(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,lt.of)([]):Jl(i);throw u}))}processSegmentAgainstRoute(t,e,i,r,s,a,u){return function LE(n,t,e,i){return!!(Z(n)===i||i!==Ut&&fm(t,e,n))&&("**"===n.path||qd(t,n,e).matched)}(i,r,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,a,u):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,a):Jl(r):Jl(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Sf(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Jn.Z)(a=>{const u=new V(a,{});return this.processSegment(t,e,u,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:u,consumedSegments:f,remainingSegments:m,positionalParamSegments:v}=qd(e,r,s);if(!u)return Jl(e);const x=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?Sf(x):this.applyRedirects.lineralizeSegments(r,x).pipe((0,Jn.Z)(S=>this.processSegment(t,i,e,S.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,a){let u;if("**"===i.path){const f=r.length>0?Ko(r).parameters:{},m=new Yl(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M_(i),Z(i),i.component??i._loadedComponent??null,i,VE(i));u=(0,lt.of)({snapshot:m,consumedSegments:[],remainingSegments:[]}),e.children={}}else u=mb(e,i,r,t).pipe((0,ft.T)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:x})=>f?{snapshot:new Yl(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M_(i),Z(i),i.component??i._loadedComponent??null,i,VE(i)),consumedSegments:m,remainingSegments:v}:null));return u.pipe((0,jn.n)(f=>null===f?Jl(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,jn.n)(({routes:m})=>{const v=i._loadedInjector??t,{snapshot:x,consumedSegments:S,remainingSegments:A}=f,{segmentGroup:O,slicedSegments:P}=NE(e,S,A,m);if(0===P.length&&O.hasChildren())return this.processChildren(v,m,O).pipe((0,ft.T)($=>null===$?null:[new is(x,$)]));if(0===m.length&&0===P.length)return(0,lt.of)([new is(x,[])]);const L=Z(i)===s;return this.processSegment(v,m,O,P,L?Ut:s,!0).pipe((0,ft.T)($=>[new is(x,$)]))}))))}getChildConfig(t,e,i){return e.children?(0,lt.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,lt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function kE(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,lt.of)(!0);const s=r.map(a=>{const u=Xo(a,n);return Rn(function cb(n){return n&&Zl(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))});return(0,lt.of)(s).pipe(ou(),hb())}(t,e,i).pipe((0,Jn.Z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Hn.M)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function pb(n){return mo(Df(!1,3))}())):(0,lt.of)({routes:[],injector:t})}}function PM(n){const t=n.value.routeConfig;return t&&""===t.path}function NM(n){const t=[],e=new Set;for(const i of n){if(!PM(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=NM(i.children);t.push(new is(i.value,r))}return t.filter(i=>!e.has(i))}function M_(n){return n.data||{}}function VE(n){return n.resolve||{}}function au(n){return"string"==typeof n.title||null===n.title}function yb(n){return(0,jn.n)(t=>{const e=n(t);return e?(0,Vn.H)(e).pipe((0,ft.T)(()=>t)):(0,lt.of)(t)})}const Mf=new d.nKC("ROUTES");let vb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,lt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Rn(e.loadComponent()).pipe((0,ft.T)(al),(0,Hn.M)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Go(()=>{this.componentLoaders.delete(e)})),r=new $c(i,()=>new Kt.B).pipe(cf());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,lt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function FM(n,t,e,i){return Rn(n.loadChildren()).pipe((0,ft.T)(al),(0,Jn.Z)(r=>r instanceof d.Co$||Array.isArray(r)?(0,lt.of)(r):(0,Vn.H)(t.compileModuleAsync(r))),(0,ft.T)(r=>{i&&i(n);let s,a,u=!1;return Array.isArray(r)?(a=r,!0):(s=r.create(e).injector,a=s.get(Mf,[],{optional:!0,self:!0}).flat()),{routes:a.map(W),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Go(()=>{this.childrenLoaders.delete(i)})),a=new $c(s,()=>new Kt.B).pipe(cf());return this.childrenLoaders.set(i,a),a}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function al(n){return function LM(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ec=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Kt.B,this.transitionAbortSubject=new Kt.B,this.configLoader=(0,d.WQX)(vb),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Xe),this.rootContexts=(0,d.WQX)(tu),this.inputBindingEnabled=null!==(0,d.WQX)(zd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,lt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new b_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new EE(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new mi.t({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bd,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zn(s=>0!==s.id),(0,ft.T)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,jn.n)(s=>{this.currentTransition=s;let a=!1,u=!1;return(0,lt.of)(s).pipe((0,Hn.M)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jn.n)(f=>{const m=f.currentBrowserUrl.toString(),v=!e.navigated||f.extractedUrl.toString()!==m||m!==f.currentUrlTree.toString();if(!v&&"reload"!==(f.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const S="";return this.events.next(new eu(f.id,this.urlSerializer.serialize(f.rawUrl),S,0)),f.resolve(null),go.w}if(e.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return(0,lt.of)(f).pipe((0,jn.n)(S=>{const A=this.transitions?.getValue();return this.events.next(new Kl(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),A!==this.transitions?.getValue()?go.w:Promise.resolve(S)}),function Af(n,t,e,i,r,s){return(0,Jn.Z)(a=>function gb(n,t,e,i,r,s,a="emptyOnly"){return new Tf(n,t,e,i,r,a,s).recognize()}(n,t,e,i,a.extractedUrl,r,s).pipe((0,ft.T)(({state:u,tree:f})=>({...a,targetSnapshot:u,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Hn.M)(S=>{s.targetSnapshot=S.targetSnapshot,s.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const A=new g_(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(A)}));if(v&&e.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){const{id:S,extractedUrl:A,source:O,restoredState:P,extras:L}=f,$=new Kl(S,this.urlSerializer.serialize(A),O,P);this.events.next($);const X=Xl(0,this.rootComponentType).snapshot;return this.currentTransition=s={...f,targetSnapshot:X,urlAfterRedirects:A,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},(0,lt.of)(s)}{const S="";return this.events.next(new eu(f.id,this.urlSerializer.serialize(f.extractedUrl),S,1)),f.resolve(null),go.w}}),(0,Hn.M)(f=>{const m=new bf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),(0,ft.T)(f=>(this.currentTransition=s={...f,guards:dm(f.targetSnapshot,f.currentSnapshot,this.rootContexts)},s)),function AE(n,t){return(0,Jn.Z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?(0,lt.of)({...e,guardsResult:!0}):function Kd(n,t,e,i){return(0,Vn.H)(n).pipe((0,Jn.Z)(r=>function AM(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,lt.of)(!0);const a=s.map(u=>{const f=qe(t)??r,m=Xo(u,f);return Rn(function IE(n){return n&&Zl(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):f.runInContext(()=>m(n,t,e,i))).pipe(zo())});return(0,lt.of)(a).pipe(ou())}(r.component,r.route,e,t,i)),zo(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Jn.Z)(u=>u&&function E_(n){return"boolean"==typeof n}(u)?function ME(n,t,e,i){return(0,Vn.H)(t).pipe(Gi(r=>Jr(function TM(n,t){return null!==n&&t&&t(new CE(n)),(0,lt.of)(!0)}(r.route.parent,i),function RE(n,t){return null!==n&&t&&t(new rb(n)),(0,lt.of)(!0)}(r.route,i),function I_(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function ol(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Hl(()=>{const u=a.guards.map(f=>{const m=qe(a.node)??e,v=Xo(f,m);return Rn(function ub(n){return n&&Zl(n.canActivateChild)}(v)?v.canActivateChild(i,n):m.runInContext(()=>v(i,n))).pipe(zo())});return(0,lt.of)(u).pipe(ou())}));return(0,lt.of)(s).pipe(ou())}(n,r.path,e),function _V(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,lt.of)(!0);const r=i.map(s=>Hl(()=>{const a=qe(t)??e,u=Xo(s,a);return Rn(function hm(n){return n&&Zl(n.canActivate)}(u)?u.canActivate(t,n):a.runInContext(()=>u(t,n))).pipe(zo())}));return(0,lt.of)(r).pipe(ou())}(n,r.route,e))),zo(r=>!0!==r,!0))}(i,s,n,t):(0,lt.of)(u)),(0,ft.T)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,f=>this.events.next(f)),(0,Hn.M)(f=>{if(s.guardsResult=f.guardsResult,$l(f.guardsResult))throw $d(0,f.guardsResult);const m=new __(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),Zn(f=>!!f.guardsResult||(this.cancelNavigationTransition(f,"",3),!1)),yb(f=>{if(f.guards.canActivateChecks.length)return(0,lt.of)(f).pipe((0,Hn.M)(m=>{const v=new y_(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),(0,jn.n)(m=>{let v=!1;return(0,lt.of)(m).pipe(function R_(n,t){return(0,Jn.Z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,lt.of)(e);let s=0;return(0,Vn.H)(r).pipe(Gi(a=>function _b(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!au(r)&&(s[qc]=r.title),function BE(n,t,e,i){const r=function UE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,lt.of)({});const s={};return(0,Vn.H)(r).pipe((0,Jn.Z)(a=>function jE(n,t,e,i){const r=qe(t)??i,s=Xo(n,r);return Rn(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(zo(),(0,Hn.M)(u=>{s[a]=u}))),$o(1),function Wc(n){return(0,ft.T)(()=>n)}(s),Ur(a=>TE(a)?go.w:mo(a)))}(s,n,t,i).pipe((0,ft.T)(a=>(n._resolvedData=a,n.data=Hd(n,e).resolve,r&&au(r)&&(n.data[qc]=r.title),null)))}(a.route,i,n,t)),(0,Hn.M)(()=>s++),$o(1),(0,Jn.Z)(a=>s===r.length?(0,lt.of)(e):go.w))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Hn.M)({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",2)}}))}),(0,Hn.M)(m=>{const v=new v_(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),yb(f=>{const m=v=>{const x=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Hn.M)(S=>{v.component=S}),(0,ft.T)(()=>{})));for(const S of v.children)x.push(...m(S));return x};return ys(m(f.targetSnapshot.root)).pipe(kd(),tr(1))}),yb(()=>this.afterPreactivation()),(0,ft.T)(f=>{const m=function cm(n,t,e){const i=rl(n,t._root,e?e._root:void 0);return new jr(i,t)}(e.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=s={...f,targetRouterState:m},s}),(0,Hn.M)(()=>{this.events.next(new w_)}),((n,t,e,i)=>(0,ft.T)(r=>(new ei(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),tr(1),(0,Hn.M)({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qo(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),e.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),oi(this.transitionAbortSubject.pipe((0,Hn.M)(f=>{throw f}))),Go(()=>{a||u||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ur(f=>{if(u=!0,Wi(f))this.events.next(new vf(s.id,this.urlSerializer.serialize(s.extractedUrl),f.message,f.cancellationCode)),function um(n){return Wi(n)&&$l(n.url)}(f)?this.events.next(new jd(f.url)):s.resolve(!1);else{this.events.next(new ql(s.id,this.urlSerializer.serialize(s.extractedUrl),f,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(f))}catch(m){s.reject(m)}}return go.w}))}))}cancelNavigationTransition(e,i,r){const s=new vf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function HE(n){return n!==Bd}let zE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ut);return i}getResolvedTitleForRoute(e){return e.data[qc]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return(0,d.WQX)(VM)},providedIn:"root"})}}return n})(),VM=(()=>{class n extends zE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(Vl))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return(0,d.WQX)(jM)},providedIn:"root"})}}return n})();class UM{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let jM=(()=>{class n extends UM{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const pm=new d.nKC("",{providedIn:"root",factory:()=>({})});let HM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:function(){return(0,d.WQX)(zM)},providedIn:"root"})}}return n})(),zM=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(mm||{});function $E(n,t){n.events.pipe(Zn(e=>e instanceof qo||e instanceof vf||e instanceof ql||e instanceof eu),(0,ft.T)(e=>e instanceof qo||e instanceof eu?mm.COMPLETE:e instanceof vf&&(0===e.code||1===e.code)?mm.REDIRECTING:mm.FAILED),Zn(e=>e!==mm.REDIRECTING),tr(1)).subscribe(()=>{t()})}function k_(n){throw n}function tc(n,t,e){return t.parse("/")}const gm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.WQX)(d.H3F),this.isNgZoneEnabled=!1,this._events=new Kt.B,this.options=(0,d.WQX)(pm,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.$K3),this.errorHandler=this.options.errorHandler||k_,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.WQX)(HM),this.routeReuseStrategy=(0,d.WQX)(BM),this.titleStrategy=(0,d.WQX)(zE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.WQX)(Mf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.WQX)(ec),this.urlSerializer=(0,d.WQX)(Xe),this.location=(0,d.WQX)(Qe),this.componentInputBindingEnabled=!!(0,d.WQX)(zd,{optional:!0}),this.eventsSubscription=new es.yU,this.isNgZoneEnabled=(0,d.WQX)(d.SKi)instanceof d.SKi&&d.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new k,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xl(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void($M(i)&&this._events.next(i));if(i instanceof Kl)HE(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof eu)this.rawUrlTree=r.rawUrl;else if(i instanceof g_){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof w_)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof vf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof jd){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||HE(r.source)};this.scheduleNavigation(s,Bd,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof ql&&this.restoreHistory(r,!0),i instanceof qo&&(this.navigated=!0),$M(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(W),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:f}=i,m=f?this.currentUrlTree.fragment:a;let x,v=null;switch(u){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}null!==v&&(v=this.removeEmptyProps(v));try{x=el(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),x=this.currentUrlTree.root}return f_(x,e,v,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=$l(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Bd,null,i)}navigate(e,i={skipLocationChange:!1}){return function WE(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new d.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...gm}:!1===i?{...GE}:i,$l(e))return Pd(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Pd(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let u,f,m;a?(u=a.resolve,f=a.reject,m=a.promise):m=new Promise((x,S)=>{u=x,f=S});const v=this.pendingTasks.add();return $E(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:u,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $M(n){return!(n instanceof w_||n instanceof jd)}let O_=(()=>{class n{constructor(e,i,r,s,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Kt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const f=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(bo),d.rXU(vo),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(We))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&d.bIt("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&i&&d.BMQ("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.L39],skipLocationChange:["skipLocationChange","skipLocationChange",d.L39],replaceUrl:["replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]})}}return n})();class P_{}let KE=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(e=>e instanceof qo),Gi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,d.Ol2)(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,Vn.H)(r).pipe((0,Ho.U)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,lt.of)(null);const s=r.pipe((0,Jn.Z)(a=>null===a?(0,lt.of)(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,Vn.H)([s,a]).pipe((0,Ho.U)())}return s})}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(bo),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(P_),d.KVO(vb))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const wb=new d.nKC("");let qE=(()=>{class n{constructor(e,i,r,s,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Kl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qo?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof eu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof sb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){d.QTQ()}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();function ll(n,t){return{\u0275kind:n,\u0275providers:t}}function lu(){const n=(0,d.WQX)(d.zZn);return t=>{const e=n.get(d.o8S);if(t!==e.components[0])return;const i=n.get(bo),r=n.get(QE);1===n.get(xb)&&i.initialNavigation(),n.get(eC,null,d.$GK.Optional)?.setUpPreloading(),n.get(wb,null,d.$GK.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const QE=new d.nKC("",{factory:()=>new Kt.B}),xb=new d.nKC("",{providedIn:"root",factory:()=>1}),eC=new d.nKC("");function WM(n){return ll(0,[{provide:eC,useExisting:KE},{provide:P_,useExisting:n}])}const Rf=new d.nKC("ROUTER_FORROOT_GUARD"),tC=[Qe,{provide:Xe,useClass:_t},bo,tu,{provide:vo,useFactory:function XE(n){return n.routerState.root},deps:[bo]},vb,[]];function nC(){return new d.NEm("Router",bo)}let L_=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[tC,[],{provide:Mf,multi:!0,useValue:e},{provide:Rf,useFactory:sC,deps:[[bo,new d.Xx1,new d.kdw]]},{provide:pm,useValue:i||{}},i?.useHash?{provide:We,useClass:Ve}:{provide:We,useClass:et},{provide:wb,useFactory:()=>{const n=(0,d.WQX)(Ir),t=(0,d.WQX)(d.SKi),e=(0,d.WQX)(pm),i=(0,d.WQX)(ec),r=(0,d.WQX)(Xe);return e.scrollOffset&&n.setOffset(e.scrollOffset),new qE(r,i,n,t,e)}},i?.preloadingStrategy?WM(i.preloadingStrategy).\u0275providers:[],{provide:d.NEm,multi:!0,useFactory:nC},i?.initialNavigation?V_(i):[],i?.bindToComponentInputs?ll(8,[Hr,{provide:zd,useExisting:Hr}]).\u0275providers:[],[{provide:XM,useFactory:lu},{provide:d.iLQ,multi:!0,useExisting:XM}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Mf,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(Rf,8))}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})();function sC(n){return"guarded"}function V_(n){return["disabled"===n.initialNavigation?ll(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const t=(0,d.WQX)(bo);return()=>{t.setUpLocationChangeListener()}}},{provide:xb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ll(2,[{provide:xb,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:t=>{const e=t.get(Be,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(bo),s=t.get(QE);$E(r,()=>{i(!0)}),t.get(ec).afterPreactivation=()=>(i(!0),s.closed?(0,lt.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const XM=new d.nKC("");let _m;try{_m=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_m=!1}let cu,ki=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Al(n){return n===Kn}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_m)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ym=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Da(){if(cu)return cu;if("object"!=typeof document||!document)return cu=new Set(ym),cu;let n=document.createElement("input");return cu=new Set(ym.filter(t=>(n.setAttribute("type",t),n.type===t))),cu}let cl,uu,Db;function vm(n){return function Cb(){if(null==cl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cl=!0}))}finally{cl=cl||!1}return cl}()?n:!!n.capture}function Of(){if(null==uu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return uu=!1,uu;if("scrollBehavior"in document.documentElement.style)uu=!0;else{const n=Element.prototype.scrollTo;uu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return uu}function du(n){return n.composedPath?n.composedPath()[0]:n.target}function U_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function X_(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Im=B(3236);function Ob(n,t=Im.E){return(0,Mi.N)((e,i)=>{let r=null,s=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function f(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);u()}e.subscribe((0,un._)(i,m=>{s=m,a=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{s=r=null}))})}function DR(n){return Zn((t,e)=>n<=e)}var Nf=B(3294);function ai(n){return null!=n&&"false"!=`${n}`}function Pb(n,t=0){return xC(n)?Number(n):t}function xC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Sm(n){return Array.isArray(n)?n:[n]}function Ki(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pt(n){return n instanceof d.aKT?n.nativeElement:n}const Qd=new Set;let pu,TR=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ff}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Y_(n,t){if(!Qd.has(n))try{pu||(pu=document.createElement("style"),t&&(pu.nonce=t),pu.setAttribute("type","text/css"),document.head.appendChild(pu)),pu.sheet&&(pu.sheet.insertRule(`@media ${n} {body{ }}`,0),Qd.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(ki),d.KVO(d.BIS,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ff(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Nb=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Kt.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Lf(Sm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=ys(Lf(Sm(e)).map(a=>this._registerQuery(a).observable));return s=Jr(s.pipe(tr(1)),s.pipe(DR(1),Ob(0))),s.pipe((0,ft.T)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:m})=>{u.matches=u.matches||f,u.breakpoints[m]=f}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new pi.c(a=>{const u=f=>this._zone.run(()=>a.next(f));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(vs(i),(0,ft.T)(({matches:a})=>({query:e,matches:a})),oi(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(TR),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lf(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Z_(n,t,e){const r=Lb(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function Lb(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}class CC{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Kt.B,this._typeaheadSubscription=es.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Kt.B,this.change=new Kt.B,t instanceof d.rOR&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Hn.M)(e=>this._pressedLetters.push(e)),Ob(t),Zn(()=>this._pressedLetters.length>0),(0,ft.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}return;default:return void((r||X_(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof d.rOR?this._items.toArray():this._items}}class OR extends CC{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function J_(n){return 0===n.buttons||0===n.detail}function TC(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const AC=new d.nKC("cdk-input-modality-detector-options"),UR={ignoreKeys:[18,17,224,91,16]},Zd=vm({passive:!0,capture:!0});let ey=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new mi.t(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=du(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(J_(a)?"keyboard":"mouse"),this._mostRecentTarget=du(a))},this._onTouchstart=a=>{TC(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=du(a))},this._options={...UR,...s},this.modalityDetected=this._modality.pipe(DR(1)),this.modalityChanged=this.modalityDetected.pipe((0,Nf.F)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Zd),r.addEventListener("mousedown",this._onMousedown,Zd),r.addEventListener("touchstart",this._onTouchstart,Zd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Zd),document.removeEventListener("mousedown",this._onMousedown,Zd),document.removeEventListener("touchstart",this._onTouchstart,Zd))}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(ki),d.KVO(d.SKi),d.KVO(he),d.KVO(AC,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ub=new d.nKC("liveAnnouncerElement",{providedIn:"root",factory:function RB(){return null}}),MC=new d.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let RC=0,kC=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+RC++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],a=s.getAttribute("aria-owns");a?-1===a.indexOf(e)&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(Ub,8),d.KVO(d.SKi),d.KVO(he),d.KVO(MC,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const jb=new d.nKC("cdk-focus-monitor-default-options"),Qo=vm({passive:!0,capture:!0});let HR=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Kt.B,this._rootNodeFocusAndBlurListener=u=>{for(let m=du(u);m;m=m.parentElement)"focus"===u.type?this._onFocus(u,m):this._onBlur(u,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Pt(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,lt.of)();const s=function Ib(n){if(function ZM(){if(null==Db){const n=typeof document<"u"?document.head:null;Db=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Db}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new Kt.B,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=Pt(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Pt(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,f])=>this._originChanged(u,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=du(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qo),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qo)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(oi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qo),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qo),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(d.SKi),d.KVO(ki),d.KVO(ey),d.KVO(he,8),d.KVO(jb,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ty="cdk-high-contrast-black-on-white",OC="cdk-high-contrast-white-on-black",ny="cdk-high-contrast-active";let zR=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,d.WQX)(Nb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ny,ty,OC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(ny,ty):2===i&&e.add(ny,OC)}}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(ki),d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Tm=new d.nKC("cdk-dir-doc",{providedIn:"root",factory:function PC(){return(0,d.WQX)(he)}}),iy=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Am=(()=>{class n{constructor(e){this.value="ltr",this.change=new d.bkB,e&&(this.value=function OB(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?iy.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(Tm,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})();const FC=["text"];function Mm(n,t){if(1&n&&d.nrm(0,"mat-pseudo-checkbox",6),2&n){const e=d.XpG();d.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function WR(n,t){if(1&n&&d.nrm(0,"mat-pseudo-checkbox",7),2&n){const e=d.XpG();d.Y8G("disabled",e.disabled)}}function LC(n,t){if(1&n&&(d.j41(0,"span",8),d.EFF(1),d.k0s()),2&n){const e=d.XpG();d.R7$(1),d.SpI("(",e.group.label,")")}}const VC=[[["mat-icon"]],"*"],KR=["mat-icon","*"],XR=new d.nKC("mat-sanity-checks",{providedIn:"root",factory:function qR(){return!0}});let nr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!U_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(zR),d.KVO(XR,8),d.KVO(he))}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[Vf,Vf]})}}return n})();function UC(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=ai(t)}constructor(...t){super(...t),this._disabled=!1}}}function sy(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function oy(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ai(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function YR(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Pb(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function Rm(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let zb=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Gb{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jC=vm({passive:!0,capture:!0});class dl{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=du(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const a=s.get(i);a?a.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,jC)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,jC)))}}const Bf={enterDuration:225,exitDuration:150},mu=vm({passive:!0,capture:!0}),Om=["mousedown","touchstart"],wo=["mouseup","mouseleave","touchend","touchcancel"];class Uf{static{this._eventManager=new dl}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pt(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Bf,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function jf(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,f=e-r.top,m=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=u-a+"px",v.style.top=f-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v);const x=window.getComputedStyle(v),A=x.transitionDuration,O="none"===x.transitionProperty||"0s"===A||"0s, 0s"===A||0===r.width&&0===r.height,P=new Gb(this,v,i,O);v.style.transform="scale3d(1, 1, 1)",P.state=0,i.persistent||(this._mostRecentTransientRipple=P);let L=null;return!O&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $=()=>this._finishRippleTransition(P),X=()=>this._destroyRipple(P);v.addEventListener("transitionend",$),v.addEventListener("transitioncancel",X),L={onTransitionEnd:$,onTransitionCancel:X}}),this._activeRipples.set(P,L),(O||!m)&&this._finishRippleTransition(P),P}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Bf,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pt(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Om.forEach(i=>{Uf._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wo.forEach(e=>{this._triggerElement.addEventListener(e,this,mu)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=J_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!TC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Om.forEach(e=>Uf._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&wo.forEach(e=>t.removeEventListener(e,this,mu)))}}const Jd=new d.nKC("mat-ripple-global-options");let eh=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Uf(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(ki),d.rXU(Jd,8),d.rXU(d.bc$,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),th=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,nr]})}}return n})(),Hf=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&d.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),zf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr]})}}return n})();const nh=new d.nKC("MAT_OPTION_PARENT_COMPONENT"),Wb=new d.nKC("MatOptgroup");let HC=0;class zC{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let $C=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=ai(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+HC++,this.onSelectionChange=new d.bkB,this._stateChanges=new Kt.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!X_(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new zC(this,e))}static{this.\u0275fac=function(i){d.QTQ()}}static{this.\u0275dir=d.FsC({type:n,viewQuery:function(i,r){if(1&i&&d.GBs(FC,7),2&i){let s;d.mGM(s=d.lsd())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}}return n})(),Kb=(()=>{class n extends $C{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(nh,8),d.rXU(Wb,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&d.bIt("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&i&&(d.Mr5("id",r.id),d.BMQ("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),d.AVh("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[d.Vt3],ngContentSelectors:KR,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(d.NAR(VC),d.DNE(0,Mm,1,2,"mat-pseudo-checkbox",0),d.SdG(1),d.j41(2,"span",1,2),d.SdG(4,1),d.k0s(),d.DNE(5,WR,1,1,"mat-pseudo-checkbox",3),d.DNE(6,LC,2,1,"span",4),d.nrm(7,"div",5)),2&i&&(d.Y8G("ngIf",r.multiple),d.R7$(5),d.Y8G("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),d.R7$(1),d.Y8G("ngIf",r.group&&r.group._inert),d.R7$(1),d.Y8G("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[eh,La,Hf],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),Fm=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[th,Yr,nr,zf]})}}return n})();const KC={capture:!0},ik=["focus","click","mouseenter","touchstart"],qC="mat-ripple-loader-uninitialized",qb="mat-ripple-loader-class-name",XC="mat-ripple-loader-centered",Xb="mat-ripple-loader-disabled";let rk=(()=>{class n{constructor(){this._document=(0,d.WQX)(he,{optional:!0}),this._animationMode=(0,d.WQX)(d.bc$,{optional:!0}),this._globalRippleOptions=(0,d.WQX)(Jd,{optional:!0}),this._platform=(0,d.WQX)(ki),this._ngZone=(0,d.WQX)(d.SKi),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${qC}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of ik)this._document?.addEventListener(e,this._onInteraction,KC)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of ik)this._document?.removeEventListener(i,this._onInteraction,KC)}configureRipple(e,i){e.setAttribute(qC,""),(i.className||!e.hasAttribute(qb))&&e.setAttribute(qb,i.className||""),i.centered&&e.setAttribute(XC,""),i.disabled&&e.setAttribute(Xb,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(Xb,""):e.removeAttribute(Xb)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(qb)),e.append(r);const s=new eh(new d.aKT(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(XC),s.disabled=e.hasAttribute(Xb),this.attachRipple(e,s),s}attachRipple(e,i){e.removeAttribute(qC),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const sk=["mat-button",""],YC=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],QC=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ay=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",JC=["mat-icon-button",""],Lm=["*"],lk=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ck=sy(UC(oy(class{constructor(n){this._elementRef=n}})));let Qb=(()=>{class n extends ck{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ai(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=ai(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.WQX)(HR),this._rippleLoader=(0,d.WQX)(rk),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const a=e.nativeElement.classList;for(const u of lk)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(f=>{a.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){d.QTQ()}}static{this.\u0275dir=d.FsC({type:n,features:[d.Vt3]})}}return n})(),uy=(()=>{class n extends Qb{constructor(e,i,r,s){super(e,i,r,s),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static{this.\u0275fac=function(i){d.QTQ()}}static{this.\u0275dir=d.FsC({type:n,features:[d.Vt3]})}}return n})(),Vm=(()=>{class n extends Qb{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(ki),d.rXU(d.SKi),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(d.BMQ("disabled",r.disabled||null),d.AVh("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.Vt3],attrs:sk,ngContentSelectors:QC,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.NAR(YC),d.nrm(0,"span",0),d.SdG(1),d.j41(2,"span",1),d.SdG(3,1),d.k0s(),d.SdG(4,2),d.nrm(5,"span",2)(6,"span",3)),2&i&&d.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),qB=(()=>{class n extends uy{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(ki),d.rXU(d.SKi),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(d.BMQ("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),d.AVh("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.Vt3],attrs:sk,ngContentSelectors:QC,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.NAR(YC),d.nrm(0,"span",0),d.SdG(1),d.j41(2,"span",1),d.SdG(3,1),d.k0s(),d.SdG(4,2),d.nrm(5,"span",2)(6,"span",3)),2&i&&d.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',ay],encapsulation:2,changeDetection:0})}}return n})(),nD=(()=>{class n extends Qb{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(ki),d.rXU(d.SKi),d.rXU(d.bc$,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(d.BMQ("disabled",r.disabled||null),d.AVh("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.Vt3],attrs:JC,ngContentSelectors:Lm,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.NAR(),d.nrm(0,"span",0),d.SdG(1),d.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',ay],encapsulation:2,changeDetection:0})}}return n})(),mk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,th,nr]})}}return n})(),gk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-about"]],decls:9,vars:0,consts:[[1,"about-container"],["mat-raised-button","","color","accent","routerLink","/auth"]],template:function(i,r){1&i&&(d.j41(0,"div",0)(1,"h1"),d.EFF(2,"Welcome to Expense Tracker \u{1f4b8}"),d.k0s(),d.j41(3,"p"),d.EFF(4," Track your income, expenses, and savings easily with visual charts, monthly summaries, and secure access to your financial history. "),d.k0s(),d.j41(5,"p"),d.EFF(6," Start taking control of your finances today! "),d.k0s(),d.j41(7,"button",1),d.EFF(8,"Get Started"),d.k0s()())},dependencies:[O_,Vm],styles:[".about-container[_ngcontent-%COMP%]{max-width:600px;margin:80px auto;padding:24px;text-align:center}.about-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:16px}.about-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:12px}.about-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 24px}"]})}}return n})();function $f(n){return n+.5|0}const hl=(n,t,e)=>Math.max(Math.min(n,e),t);function ih(n){return hl($f(2.55*n),0,255)}function gu(n){return hl($f(255*n),0,255)}function Zo(n){return hl($f(n/2.55)/100,0,1)}function Bm(n){return hl($f(100*n),0,100)}const Bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dy=[..."0123456789ABCDEF"],_k=n=>dy[15&n],yk=n=>dy[(240&n)>>4]+dy[15&n],hy=n=>(240&n)>>4==(15&n);const vk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sD(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function oD(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Jb(n,t,e){const i=sD(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Um(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),u=(s+a)/2;let f,m,v;return s!==a&&(v=s-a,m=u>.5?v/(2-s-a):v/(s+a),f=function aD(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,s),f=60*f+.5),[0|f,m||0,u]}function my(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(gu)}function e0(n,t,e){return my(sD,n,t,e)}function t0(n){return(n%360+360)%360}const n0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},r0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let jm;const fD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,gy=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,rh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function sh(n,t,e){if(n){let i=Um(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=e0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function rc(n,t){return n&&Object.assign(t||{},n)}function _D(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gu(n[3]))):(t=rc(n,{r:0,g:0,b:0,a:1})).a=gu(t.a),t}function wk(n){return"r"===n.charAt(0)?function pD(n){const t=fD.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?ih(a):hl(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?ih(i):hl(i,0,255)),r=255&(t[4]?ih(r):hl(r,0,255)),s=255&(t[6]?ih(s):hl(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function uD(n){const t=vk.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?ih(+t[5]):gu(+t[5]));const r=t0(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function lD(n,t,e){return my(Jb,n,t,e)}(r,s,a):"hsv"===t[1]?function cD(n,t,e){return my(oD,n,t,e)}(r,s,a):e0(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class _u{constructor(t){if(t instanceof _u)return t;const e=typeof t;let i;"object"===e?i=_D(t):"string"===e&&(i=function py(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Bs[n[1]],g:255&17*Bs[n[2]],b:255&17*Bs[n[3]],a:5===t?17*Bs[n[4]]:255}:(7===t||9===t)&&(e={r:Bs[n[1]]<<4|Bs[n[2]],g:Bs[n[3]]<<4|Bs[n[4]],b:Bs[n[5]]<<4|Bs[n[6]],a:9===t?Bs[n[7]]<<4|Bs[n[8]]:255})),e}(t)||function hD(n){jm||(jm=function s0(){const n={},t=Object.keys(r0),e=Object.keys(n0);let i,r,s,a,u;for(i=0;i<t.length;i++){for(a=u=t[i],r=0;r<e.length;r++)s=e[r],u=u.replace(s,n0[s]);s=parseInt(r0[a],16),n[u]=[s>>16&255,s>>8&255,255&s]}return n}(),jm.transparent=[0,0,0,0]);const t=jm[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||wk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=rc(this._rgb);return t&&(t.a=Zo(t.a)),t}set rgb(t){this._rgb=_D(t)}rgbString(){return this._valid?function mD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Zo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function rD(n){var t=(n=>hy(n.r)&&hy(n.g)&&hy(n.b)&&hy(n.a))(n)?_k:yk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function dD(n){if(!n)return;const t=Um(n),e=t[0],i=Bm(t[1]),r=Bm(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Zo(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,u=2*a-1,f=i.a-r.a,m=((u*f==-1?u:(u+f)/(1+u*f))+1)/2;s=1-m,i.r=255&m*i.r+s*r.r+.5,i.g=255&m*i.g+s*r.g+.5,i.b=255&m*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function gD(n,t,e){const i=rh(Zo(n.r)),r=rh(Zo(n.g)),s=rh(Zo(n.b));return{r:gu(gy(i+e*(rh(Zo(t.r))-i))),g:gu(gy(r+e*(rh(Zo(t.g))-r))),b:gu(gy(s+e*(rh(Zo(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new _u(this.rgb)}alpha(t){return this._rgb.a=gu(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=$f(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return sh(this._rgb,2,t),this}darken(t){return sh(this._rgb,2,-t),this}saturate(t){return sh(this._rgb,1,t),this}desaturate(t){return sh(this._rgb,1,-t),this}rotate(t){return function bk(n,t){var e=Um(n);e[0]=t0(e[0]+t),e=e0(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Ia(){}const xk=(()=>{let n=0;return()=>n++})();function qt(n){return null==n}function li(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function hn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Oi(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function xo(n,t){return Oi(n)?n:t}function Xt(n,t){return typeof n>"u"?t:n}const ir=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function On(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Tn(n,t,e,i){let r,s,a;if(li(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(hn(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function _y(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Hm(n){if(li(n))return n.map(Hm);if(hn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Hm(n[e[r]]);return t}return n}function yD(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function vD(n,t,e,i){if(!yD(n))return;const r=t[n],s=e[n];hn(r)&&hn(s)?Sa(r,s,i):t[n]=Hm(s)}function Sa(n,t,e){const i=li(t)?t:[t],r=i.length;if(!hn(n))return n;const s=(e=e||{}).merger||vD;let a;for(let u=0;u<r;++u){if(a=i[u],!hn(a))continue;const f=Object.keys(a);for(let m=0,v=f.length;m<v;++m)s(f[m],n,a,e)}return n}function fl(n,t){return Sa(n,t,{merger:Ck})}function Ck(n,t,e){if(!yD(n))return;const i=t[n],r=e[n];hn(i)&&hn(r)?fl(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Hm(r))}const o0={"":n=>n,x:n=>n.x,y:n=>n.y};function oh(n,t){return(o0[t]||(o0[t]=function bD(n){const t=function Dk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function zm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ah=n=>typeof n<"u",$r=n=>"function"==typeof n,wD=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},gn=Math.PI,pn=2*gn,Ta=pn+gn,$m=Number.POSITIVE_INFINITY,xD=gn/180,qi=gn/2,lh=gn/4,ED=2*gn/3,yu=Math.log10,Jo=Math.sign;function sc(n,t,e){return Math.abs(n-t)<e}function CD(n){const t=Math.round(n);n=sc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(yu(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Wf(n){return!function Sk(n){return"symbol"==typeof n||"object"==typeof n&&null!==n&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function a0(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Us(n){return n*(gn/180)}function l0(n){return n*(180/gn)}function c0(n){if(!Oi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function u0(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*gn&&(s+=pn),{angle:s,distance:r}}function yy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Tk(n,t){return(n-t+Ta)%pn-gn}function Eo(n){return(n%pn+pn)%pn}function ch(n,t,e,i){const r=Eo(n),s=Eo(t),a=Eo(e),u=Eo(s-r),f=Eo(a-r),m=Eo(r-s),v=Eo(r-a);return r===s||r===a||i&&s===a||u>f&&m<v}function Xi(n,t,e){return Math.max(t,Math.min(e,n))}function pl(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function vy(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const ml=(n,t,e,i)=>vy(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),TD=(n,t,e)=>vy(n,e,i=>n[i][t]>=e),d0=["push","pop","shift","splice","unshift"];function h0(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(d0.forEach(s=>{delete n[s]}),delete n._chartjs)}function RD(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const kD=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function OD(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,kD.call(window,()=>{i=!1,n.apply(t,e)}))}}const f0=n=>"start"===n?"left":"end"===n?"right":"center",ss=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function PD(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,vScale:u,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,v=a.axis,{min:x,max:S,minDefined:A,maxDefined:O}=a.getUserBounds();if(A){if(r=Math.min(ml(f,v,x).lo,e?i:ml(t,v,a.getPixelForValue(x)).lo),m){const P=f.slice(0,r+1).reverse().findIndex(L=>!qt(L[u.axis]));r-=Math.max(0,P)}r=Xi(r,0,i-1)}if(O){let P=Math.max(ml(f,a.axis,S,!0).hi+1,e?0:ml(t,v,a.getPixelForValue(S),!0).hi+1);if(m){const L=f.slice(P-1).findIndex($=>!qt($[u.axis]));P+=Math.max(0,L)}s=Xi(P,r,i)-r}else s=i-r}return{start:r,count:s}}function ND(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const by=n=>0===n||1===n,FD=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*pn/e),LD=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*pn/e)+1,Gm={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*qi),easeOutSine:n=>Math.sin(n*qi),easeInOutSine:n=>-.5*(Math.cos(gn*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>by(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>by(n)?n:FD(n,.075,.3),easeOutElastic:n=>by(n)?n:LD(n,.075,.3),easeInOutElastic:n=>by(n)?n:n<.5?.5*FD(2*n,.1125,.45):.5+.5*LD(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Gm.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Gm.easeInBounce(2*n):.5*Gm.easeOutBounce(2*n-1)+.5};function p0(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function VD(n){return p0(n)?n:new _u(n)}function m0(n){return p0(n)?n:new _u(n).saturate(.5).darken(.1).hexString()}const BD=["x","y","borderWidth","radius","tension"],UD=["color","borderColor","backgroundColor"],g0=new Map;function Kf(n,t,e){return function zD(n,t){t=t||{};const e=n+JSON.stringify(t);let i=g0.get(e);return i||(i=new Intl.NumberFormat(n,t),g0.set(e,i)),i}(t,e).format(n)}const _0={values:n=>li(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),s=function $D(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=yu(Math.abs(s)),u=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Kf(n,i,f)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(yu(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?_0.numeric.call(this,n,t,e):""}};var qf={formatters:_0};const Co=Object.create(null),y0=Object.create(null);function Wm(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function vu(n,t,e){return"string"==typeof t?Sa(Wm(n,t),e):Sa(Wm(n,""),t)}class tU{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>m0(r.backgroundColor),this.hoverBorderColor=(i,r)=>m0(r.borderColor),this.hoverColor=(i,r)=>m0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return vu(this,t,e)}get(t){return Wm(this,t)}describe(t,e){return vu(y0,t,e)}override(t,e){return vu(Co,t,e)}route(t,e,i,r){const s=Wm(this,t),a=Wm(this,i),u="_"+e;Object.defineProperties(s,{[u]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],m=a[r];return hn(f)?Object.assign({},m,f):Xt(f,m)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Bn=new tU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function jD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:UD},numbers:{type:"number",properties:BD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function HD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function GD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Km(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function WD(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const u=e.length;let f,m,v,x,S;for(f=0;f<u;f++)if(x=e[f],null==x||li(x)){if(li(x))for(m=0,v=x.length;m<v;m++)S=x[m],null!=S&&!li(S)&&(a=Km(n,r,s,a,S))}else a=Km(n,r,s,a,x);n.restore();const A=s.length/2;if(A>e.length){for(f=0;f<A;f++)delete r[s[f]];s.splice(0,A)}return a}function Xf(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function uh(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function v0(n,t,e,i){KD(n,t,e,i,null)}function KD(n,t,e,i,r){let s,a,u,f,m,v,x,S;const A=t.pointStyle,O=t.rotation,P=t.radius;let L=(O||0)*xD;if(A&&"object"==typeof A&&(s=A.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(L),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),void n.restore();if(!(isNaN(P)||P<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,i,r/2,P,0,0,pn):n.arc(e,i,P,0,pn),n.closePath();break;case"triangle":v=r?r/2:P,n.moveTo(e+Math.sin(L)*v,i-Math.cos(L)*P),L+=ED,n.lineTo(e+Math.sin(L)*v,i-Math.cos(L)*P),L+=ED,n.lineTo(e+Math.sin(L)*v,i-Math.cos(L)*P),n.closePath();break;case"rectRounded":m=.516*P,f=P-m,a=Math.cos(L+lh)*f,x=Math.cos(L+lh)*(r?r/2-m:f),u=Math.sin(L+lh)*f,S=Math.sin(L+lh)*(r?r/2-m:f),n.arc(e-x,i-u,m,L-gn,L-qi),n.arc(e+S,i-a,m,L-qi,L),n.arc(e+x,i+u,m,L,L+qi),n.arc(e-S,i+a,m,L+qi,L+gn),n.closePath();break;case"rect":if(!O){f=Math.SQRT1_2*P,v=r?r/2:f,n.rect(e-v,i-f,2*v,2*f);break}L+=lh;case"rectRot":x=Math.cos(L)*(r?r/2:P),a=Math.cos(L)*P,u=Math.sin(L)*P,S=Math.sin(L)*(r?r/2:P),n.moveTo(e-x,i-u),n.lineTo(e+S,i-a),n.lineTo(e+x,i+u),n.lineTo(e-S,i+a),n.closePath();break;case"crossRot":L+=lh;case"cross":x=Math.cos(L)*(r?r/2:P),a=Math.cos(L)*P,u=Math.sin(L)*P,S=Math.sin(L)*(r?r/2:P),n.moveTo(e-x,i-u),n.lineTo(e+x,i+u),n.moveTo(e+S,i-a),n.lineTo(e-S,i+a);break;case"star":x=Math.cos(L)*(r?r/2:P),a=Math.cos(L)*P,u=Math.sin(L)*P,S=Math.sin(L)*(r?r/2:P),n.moveTo(e-x,i-u),n.lineTo(e+x,i+u),n.moveTo(e+S,i-a),n.lineTo(e-S,i+a),L+=lh,x=Math.cos(L)*(r?r/2:P),a=Math.cos(L)*P,u=Math.sin(L)*P,S=Math.sin(L)*(r?r/2:P),n.moveTo(e-x,i-u),n.lineTo(e+x,i+u),n.moveTo(e+S,i-a),n.lineTo(e-S,i+a);break;case"line":a=r?r/2:Math.cos(L)*P,u=Math.sin(L)*P,n.moveTo(e-a,i-u),n.lineTo(e+a,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(L)*(r?r/2:P),i+Math.sin(L)*P);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function oc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ac(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function wy(n){n.restore()}function xy(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Ey(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function iU(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,u=t+s.actualBoundingBoxRight,m=e+s.actualBoundingBoxDescent,v=r.strikethrough?(e-s.actualBoundingBoxAscent+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(u,v),n.stroke()}}function qD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function bu(n,t,e,i,r,s={}){const a=li(t)?t:[t],u=s.strokeWidth>0&&""!==s.strokeColor;let f,m;for(n.save(),n.font=r.string,function js(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),qt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),f=0;f<a.length;++f)m=a[f],s.backdrop&&qD(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),qt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(m,e,i,s.maxWidth)),n.fillText(m,e,i,s.maxWidth),iU(n,e,i,m,s),i+=Number(r.lineHeight);n.restore()}function qm(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*gn,gn,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,gn,qi,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,qi,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-qi,!0),n.lineTo(e+a.topLeft,i)}const XD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function QD(n,t){const e=(""+n).match(XD);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const ZD=n=>+n||0;function b0(n,t){const e={},i=hn(t),r=i?Object.keys(t):t,s=hn(n)?i?a=>Xt(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=ZD(s(a));return e}function JD(n){return b0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function dh(n){return b0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Yi(n){const t=JD(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function rr(n,t){let e=Xt((n=n||{}).size,(t=t||Bn.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Xt(n.style,t.style);i&&!(""+i).match(YD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Xt(n.family,t.family),lineHeight:QD(Xt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Xt(n.weight,t.weight),string:""};return r.string=function nU(n){return!n||qt(n.size)||qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function ti(n,t,e,i){let s,a,u,r=!0;for(s=0,a=n.length;s<a;++s)if(u=n[s],void 0!==u&&(void 0!==t&&"function"==typeof u&&(u=u(t),r=!1),void 0!==e&&li(u)&&(u=u[e%u.length],r=!1),void 0!==u))return i&&!r&&(i.cacheable=!1),u}function Aa(n,t){return Object.assign(Object.create(n),t)}function Cy(n,t=[""],e,i,r=(()=>n[0])){const s=e||n;typeof i>"u"&&(i=Vk("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>Cy([u,...n],t,s,i)};return new Proxy(a,{deleteProperty:(u,f)=>(delete u[f],delete u._keys,delete n[0][f],!0),get:(u,f)=>Yf(u,f,()=>function Lk(n,t,e,i){let r;for(const s of t)if(r=Vk(kk(s,n),e),typeof r<"u")return fh(n,r)?E0(e,i,n,r):r}(f,t,n,u)),getOwnPropertyDescriptor:(u,f)=>Reflect.getOwnPropertyDescriptor(u._scopes[0],f),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(u,f)=>Bk(u).includes(f),ownKeys:u=>Bk(u),set(u,f,m){const v=u._storage||(u._storage=r());return u[f]=v[f]=m,delete u._keys,!0}})}function hh(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:w0(n,i),setContext:s=>hh(n,s,e,i),override:s=>hh(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,u)=>Yf(s,a,()=>function Ok(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let u=i[t];return $r(u)&&a.isScriptable(t)&&(u=function Pk(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(s,a||i);return u.delete(n),fh(n,f)&&(f=E0(r._scopes,r,n,f)),f}(t,u,n,e)),li(u)&&u.length&&(u=function Nk(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:u}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(hn(t[0])){const f=t,m=r._scopes.filter(v=>v!==f);t=[];for(const v of f){const x=E0(m,r,n,v);t.push(hh(x,s,a&&a[n],u))}}return t}(t,u,n,a.isIndexable)),fh(t,u)&&(u=hh(u,r,s&&s[t],a)),u}(s,a,u)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,u)=>(n[a]=u,delete s[a],!0)})}function w0(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:$r(e)?e:()=>e,isIndexable:$r(i)?i:()=>i}}const kk=(n,t)=>n?n+zm(t):t,fh=(n,t)=>hn(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Yf(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const i=e();return n[t]=i,i}function x0(n,t,e){return $r(n)?n(t,e):n}const eI=(n,t)=>!0===n?t:"string"==typeof n?oh(t,n):void 0;function tI(n,t,e,i,r){for(const s of t){const a=eI(e,s);if(a){n.add(a);const u=x0(a._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(!1===a&&typeof i<"u"&&e!==i)return null}return!1}function E0(n,t,e,i){const r=t._rootScopes,s=x0(t._fallback,e,i),a=[...n,...r],u=new Set;u.add(i);let f=C0(u,a,e,s||e,i);return!(null===f||typeof s<"u"&&s!==e&&(f=C0(u,a,s,f,i),null===f))&&Cy(Array.from(u),[""],r,s,()=>function Fk(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return li(r)&&hn(e)?e:r||{}}(t,e,i))}function C0(n,t,e,i,r){for(;e;)e=tI(n,t,e,i,r);return e}function Vk(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Bk(n){let t=n._keys;return t||(t=n._keys=function rU(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function Uk(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let u,f,m,v;for(u=0,f=i;u<f;++u)m=u+e,v=t[m],a[u]={r:r.parse(oh(v,s),m)};return a}const nI=Number.EPSILON||1e-14,lc=(n,t)=>t<n.length&&!n[t].skip&&n[t],iI=n=>"x"===n?"y":"x";function jk(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,u=yy(s,r),f=yy(a,s);let m=u/(u+f),v=f/(u+f);m=isNaN(m)?0:m,v=isNaN(v)?0:v;const x=i*m,S=i*v;return{previous:{x:s.x-x*(a.x-r.x),y:s.y-x*(a.y-r.y)},next:{x:s.x+S*(a.x-r.x),y:s.y+S*(a.y-r.y)}}}function Dy(n,t,e){return Math.max(Math.min(n,e),t)}function $k(n,t,e,i,r){let s,a,u,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),"monotone"===t.cubicInterpolationMode)!function Hk(n,t="x"){const e=iI(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,u,f,m=lc(n,0);for(a=0;a<i;++a)if(u=f,f=m,m=lc(n,a+1),f){if(m){const v=m[t]-f[t];r[a]=0!==v?(m[e]-f[e])/v:0}s[a]=u?m?Jo(r[a-1])!==Jo(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function rI(n,t,e){const i=n.length;let r,s,a,u,f,m=lc(n,0);for(let v=0;v<i-1;++v)if(f=m,m=lc(n,v+1),f&&m){if(sc(t[v],0,nI)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],s=e[v+1]/t[v],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(a=3/Math.sqrt(u),e[v]=r*a*t[v],e[v+1]=s*a*t[v])}})(n,r,s),function Xm(n,t,e="x"){const i=iI(e),r=n.length;let s,a,u,f=lc(n,0);for(let m=0;m<r;++m){if(a=u,u=f,f=lc(n,m+1),!u)continue;const v=u[e],x=u[i];a&&(s=(v-a[e])/3,u[`cp1${e}`]=v-s,u[`cp1${i}`]=x-s*t[m]),f&&(s=(f[e]-v)/3,u[`cp2${e}`]=v+s,u[`cp2${i}`]=x+s*t[m])}}(n,s,t)}(n,r);else{let m=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)u=n[s],f=jk(m,u,n[Math.min(s+1,a-(i?0:1))%a],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,m=u}t.capBezierPoints&&function zk(n,t){let e,i,r,s,a,u=oc(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=u,u=e<i-1&&oc(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=Dy(r.cp1x,t.left,t.right),r.cp1y=Dy(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Dy(r.cp2x,t.left,t.right),r.cp2y=Dy(r.cp2y,t.top,t.bottom)))}(n,e)}function sI(){return typeof window<"u"&&typeof document<"u"}function D0(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ym(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const Iy=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),Qm=["top","right","bottom","left"];function ph(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=Qm[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const oI=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function wu(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Iy(e),s="border-box"===r.boxSizing,a=ph(r,"padding"),u=ph(r,"border","width"),{x:f,y:m,box:v}=function Wk(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let u,f,a=!1;if(oI(r,s,n.target))u=r,f=s;else{const m=t.getBoundingClientRect();u=i.clientX-m.left,f=i.clientY-m.top,a=!0}return{x:u,y:f,box:a}}(n,e),x=a.left+(v&&u.left),S=a.top+(v&&u.top);let{width:A,height:O}=t;return s&&(A-=a.width+u.width,O-=a.height+u.height),{x:Math.round((f-x)/A*e.width/i),y:Math.round((m-S)/O*e.height/i)}}const Zm=n=>Math.round(10*n)/10;function Sy(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const Xk=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};sI()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function I0(n,t){const e=function Gk(n,t){return Iy(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function xu(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Yk(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function Qk(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=xu(n,r,e),u=xu(r,s,e),f=xu(s,t,e),m=xu(a,u,e),v=xu(u,f,e);return xu(m,v,e)}function Qf(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function T0(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function aI(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function lI(n){return"angle"===n?{between:ch,compare:Tk,normalize:Eo}:{between:pl,compare:(t,e)=>t-e,normalize:t=>t}}function cI({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function uI(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:u,between:f,normalize:m}=lI(i),{start:v,end:x,loop:S,style:A}=function Jk(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:u}=lI(i),f=t.length;let S,A,{start:m,end:v,loop:x}=n;if(x){for(m+=f,v+=f,S=0,A=f;S<A&&a(u(t[m%f][i]),r,s);++S)m--,v--;m%=f,v%=f}return v<m&&(v+=f),{start:m,end:v,loop:x,style:n.style}}(n,t,e),O=[];let $,X,ee,P=!1,L=null;for(let Ge=v,pt=v;Ge<=x;++Ge)X=t[Ge%a],!X.skip&&($=m(X[i]),$!==ee&&(P=f($,r,s),null===L&&(P||f(r,ee,$)&&0!==u(r,ee))&&(L=0===u($,r)?Ge:pt),null!==L&&(!P||0===u(s,$)||f(s,ee,$))&&(O.push(cI({start:L,end:Ge,loop:S,count:a,style:A})),L=null),pt=Ge,ee=$));return null!==L&&O.push(cI({start:L,end:x,loop:S,count:a,style:A})),O}function dI(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=uI(i[r],n.points,t);s.length&&e.push(...s)}return e}function fI(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pI(n,t){if(!t)return!1;const e=[],i=function(r,s){return p0(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class r1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(u=>u({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=kD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let f,a=s.length-1,u=!1;for(;a>=0;--a)f=s[a],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(s[a]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cc=new r1;const mI="transparent",s1={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=VD(n||mI),r=i.valid&&VD(t||mI);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class M0{constructor(t,e,i,r){const s=e[i];r=ti([t.to,r,s,t.from]);const a=ti([t.from,s,r]);this._active=!0,this._fn=t.fn||s1[t.type||typeof a],this._easing=Gm[t.easing]||Gm.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=ti([t.to,e,r,t.from]),this._from=ti([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,u=this._to;let f;if(this._active=s!==u&&(a||e<i),!this._active)return this._target[r]=u,void this._notify(!0);e<0?this._target[r]=s:(f=e/i%2,f=a&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(s,u,f))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class Ty{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!hn(t))return;const e=Object.keys(Bn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!hn(s))return;const a={};for(const u of e)a[u]=s[u];(li(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,a)})})}_animateOptions(t,e){const i=e.options,r=function R0(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function gI(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),u=Date.now();let f;for(f=a.length-1;f>=0;--f){const m=a[f];if("$"===m.charAt(0))continue;if("options"===m){r.push(...this._animateOptions(t,e));continue}const v=e[m];let x=s[m];const S=i.get(m);if(x){if(S&&x.active()){x.update(S,v,u);continue}x.cancel()}S&&S.duration?(s[m]=x=new M0(S,t,m,v),r.push(x)):t[m]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(cc.add(this._chart,i),!0):void 0}}function _I(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function yI(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function O0(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,u,f,m;if(null===t)return;let v=!1;for(a=0,u=r.length;a<u;++a){if(f=+r[a],f===e){if(v=!0,i.all)continue;break}m=n.values[f],Oi(m)&&(s||0===t||Jo(t)===Jo(m))&&(t+=m)}return v||i.all?t:0}function Ay(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function P0(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function My(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function vI(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:u}=i,f=s.axis,m=a.axis,v=function a1(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),x=t.length;let S;for(let A=0;A<x;++A){const O=t[A],{[f]:P,[m]:L}=O;S=(O._stacks||(O._stacks={}))[m]=P0(r,v,P),S[u]=L,S._top=My(S,a,!0,i.type),S._bottom=My(S,a,!1,i.type),(S._visualValues||(S._visualValues={}))[u]=L}}function Ry(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Zf(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[e]&&delete s[i]._visualValues[e]}}}const Jm=n=>"reset"===n||"none"===n,N0=(n,t)=>t?n:Object.assign({},n);let uc=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ay(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(S,A,O,P)=>"x"===S?A:"r"===S?P:O,a=i.xAxisID=Xt(r.xAxisID,Ry(e,"x")),u=i.yAxisID=Xt(r.yAxisID,Ry(e,"y")),f=i.rAxisID=Xt(r.rAxisID,Ry(e,"r")),m=i.indexAxis,v=i.iAxisID=s(m,a,u,f),x=i.vAxisID=s(m,u,a,f);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(u),i.rScale=this.getScaleForId(f),i.iScale=this.getScaleForId(v),i.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&h0(this._data,this),e._stacked&&Zf(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(hn(i))this._data=function mh(n,t){const{iScale:e,vScale:i}=t,r="x"===e.axis?"x":"y",s="x"===i.axis?"x":"y",a=Object.keys(n),u=new Array(a.length);let f,m,v;for(f=0,m=a.length;f<m;++f)v=a[f],u[f]={[r]:v,[s]:n[v]};return u}(i,this._cachedMeta);else if(r!==i){if(r){h0(r,this);const s=this._cachedMeta;Zf(s),s._parsed=[]}i&&Object.isExtensible(i)&&function MD(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),d0.forEach(e=>{const i="_onData"+zm(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{"function"==typeof u[i]&&u[i](...s)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=i._stacked;i._stacked=Ay(i.vScale,i),i.stack!==r.stack&&(s=!0,Zf(i),i.stack=r.stack),this._resyncElements(e),(s||a!==i._stacked)&&(vI(this,i._parsed),i._stacked=Ay(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:u}=r,f=a.axis;let x,S,A,m=0===e&&i===s.length||r._sorted,v=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,A=s;else{A=li(s[e])?this.parseArrayData(r,s,e,i):hn(s[e])?this.parseObjectData(r,s,e,i):this.parsePrimitiveData(r,s,e,i);const O=()=>null===S[f]||v&&S[f]<v[f];for(x=0;x<i;++x)r._parsed[x+e]=S=A[x],m&&(O()&&(m=!1),v=S);r._sorted=m}u&&vI(this,A)}parsePrimitiveData(e,i,r,s){const{iScale:a,vScale:u}=e,f=a.axis,m=u.axis,v=a.getLabels(),x=a===u,S=new Array(s);let A,O,P;for(A=0,O=s;A<O;++A)P=A+r,S[A]={[f]:x||a.parse(v[P],P),[m]:u.parse(i[P],P)};return S}parseArrayData(e,i,r,s){const{xScale:a,yScale:u}=e,f=new Array(s);let m,v,x,S;for(m=0,v=s;m<v;++m)x=m+r,S=i[x],f[m]={x:a.parse(S[0],x),y:u.parse(S[1],x)};return f}parseObjectData(e,i,r,s){const{xScale:a,yScale:u}=e,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,v=new Array(s);let x,S,A,O;for(x=0,S=s;x<S;++x)A=x+r,O=i[A],v[x]={x:a.parse(oh(O,f),A),y:u.parse(oh(O,m),A)};return v}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const a=this._cachedMeta,u=i[e.axis];return O0({keys:yI(this.chart,!0),values:i._stacks[e.axis]._visualValues},u,a.index,{mode:r})}updateRangeFromParsed(e,i,r,s){const a=r[i.axis];let u=null===a?NaN:a;const f=s&&r._stacks[i.axis];s&&f&&(s.values=f,u=O0(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,i){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,u=s.length,f=this._getOtherScale(e),m=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:yI(this.chart,!0),values:null})(i,r),v={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:S}=function sU(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(f);let A,O;function P(){O=s[A];const L=O[f.axis];return!Oi(O[e.axis])||x>L||S<L}for(A=0;A<u&&(P()||(this.updateRangeFromParsed(v,e,O,m),!a));++A);if(a)for(A=u-1;A>=0;--A)if(!P()){this.updateRangeFromParsed(v,e,O,m);break}return v}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let s,a,u;for(s=0,a=i.length;s<a;++s)u=i[s][e.axis],Oi(u)&&r.push(u);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,s=i.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function k0(n){let t,e,i,r;return hn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Xt(this.options.clip,function o1(n,t,e){if(!1===e)return!1;const i=_I(n,e),r=_I(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,s=r.data||[],a=this.chart.chartArea,u=[],f=this._drawStart||0,m=this._drawCount||s.length-f,v=this.options.drawActiveElementsOnTop;let x;for(r.dataset&&r.dataset.draw(e,a,f,m),x=f;x<f+m;++x){const S=s[x];S.hidden||(S.active&&v?u.push(S):S.draw(e,a))}for(x=0;x<u.length;++x)u[x].draw(e,a)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];a=u.$context||(u.$context=function l1(n,t,e){return Aa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,u)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function bI(n,t){return Aa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const s="active"===i,a=this._cachedDataOpts,u=e+"-"+i,f=a[u],m=this.enableOptionSharing&&ah(r);if(f)return N0(f,m);const v=this.chart.config,x=v.datasetElementScopeKeys(this._type,e),S=s?[`${e}Hover`,"hover",e,""]:[e,""],A=v.getOptionScopes(this.getDataset(),x),O=Object.keys(Bn.elements[e]),L=v.resolveNamedOptions(A,O,()=>this.getContext(r,s,i),S);return L.$shared&&(L.$shared=m,a[u]=Object.freeze(N0(L,m))),L}_resolveAnimations(e,i,r){const s=this.chart,a=this._cachedDataOpts,u=`animation-${i}`,f=a[u];if(f)return f;let m;if(!1!==s.options.animation){const x=this.chart.config,S=x.datasetAnimationScopeKeys(this._type,i),A=x.getOptionScopes(this.getDataset(),S);m=x.createResolver(A,this.getContext(e,r,i))}const v=new Ty(s,m&&m.animations);return m&&m._cacheable&&(a[u]=Object.freeze(v)),v}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Jm(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),s=this._sharedOptions,a=this.getSharedOptions(r),u=this.includeOptions(i,a)||a!==s;return this.updateSharedOptions(a,i,r),{sharedOptions:a,includeOptions:u}}updateElement(e,i,r,s){Jm(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!Jm(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;const a=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[f,m,v]of this._syncList)this[f](m,v);this._syncList=[];const s=r.length,a=i.length,u=Math.min(a,s);u&&this.parse(0,u),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,i,r=!0){const s=this._cachedMeta,a=s.data,u=e+i;let f;const m=v=>{for(v.length+=i,f=v.length-1;f>=u;f--)v[f]=v[f-i]};for(m(a),f=e;f<u;++f)a[f]=new this.dataElementType;this._parsing&&m(s._parsed),this.parse(e,i),r&&this.updateElements(a,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,i);r._stacked&&Zf(r,s)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,s]=e;this[i](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function c1(n){const t=n.iScale,e=function xI(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=RD(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,u,i=t._length;const f=()=>{32767===a||-32768===a||(ah(u)&&(i=Math.min(i,Math.abs(a-u)||i)),u=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),f();return i}function F0(n,t,e,i){return li(n)?function h1(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),u=Math.max(r,s);let f=a,m=u;Math.abs(a)>Math.abs(u)&&(f=u,m=a),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:s,min:a,max:u}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function f1(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),u=r===s,f=[];let m,v,x,S;for(m=e,v=e+i;m<v;++m)S=t[m],x={},x[r.axis]=u||r.parse(a[m],m),f.push(F0(S,x,s,m));return f}function ky(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function oU(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:u,reverse:f,top:m,bottom:v}=function m1(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=v:(s[EI(v,a,u,f)]=!0,r=m)),s[EI(r,a,u,f)]=!0,n.borderSkipped=s}function EI(n,t,e,i){return i?(n=function g1(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=L0(n,e,t)):n=L0(n,t,e),n}function L0(n,t,e){return"start"===n?t:"end"===n?e:n}function _1(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let y1=(()=>class n extends uc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,s){return f1(e,i,r,s)}parseArrayData(e,i,r,s){return f1(e,i,r,s)}parseObjectData(e,i,r,s){const{iScale:a,vScale:u}=e,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,v="x"===a.axis?f:m,x="x"===u.axis?f:m,S=[];let A,O,P,L;for(A=r,O=r+s;A<O;++A)L=i[A],P={},P[a.axis]=a.parse(oh(L,v),A),S.push(F0(oh(L,x),P,u,A));return S}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);const a=r._custom;a&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:s}=i,a=this.getParsed(e),u=a._custom,f=ky(u)?"["+u.start+", "+u.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,s){const a="reset"===s,{index:u,_cachedMeta:{vScale:f}}=this,m=f.getBasePixel(),v=f.isHorizontal(),x=this._getRuler(),{sharedOptions:S,includeOptions:A}=this._getSharedOptions(i,s);for(let O=i;O<i+r;O++){const P=this.getParsed(O),L=a||qt(P[f.axis])?{base:m,head:m}:this._calculateBarValuePixels(O),$=this._calculateBarIndexPixels(O,x),X=(P._stacks||{})[f.axis],ee={horizontal:v,base:L.base,enableBorderRadius:!X||ky(P._custom)||u===X._top||u===X._bottom,x:v?L.head:$.center,y:v?$.center:L.head,height:v?$.size:Math.abs(L.size),width:v?Math.abs(L.size):$.size};A&&(ee.options=S||this.resolveDataElementOptions(O,e[O].active?"active":s));const le=ee.options||e[O].options;oU(ee,le,X,u),_1(ee,le,x.ratio),this.updateElement(e[O],O,ee,s)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(x=>x.controller.options.grouped),a=r.options.stacked,u=[],f=this._cachedMeta.controller.getParsed(i),m=f&&f[r.axis],v=x=>{const S=x._parsed.find(O=>O[r.axis]===m),A=S&&S[x.vScale.axis];if(qt(A)||isNaN(A))return!0};for(const x of s)if((void 0===i||!v(x))&&((!1===a||-1===u.indexOf(x.stack)||void 0===a&&void 0===x.stack)&&u.push(x.stack),x.index===e))break;return u.length||u.push(void 0),u}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const s=this._getStacks(e,r),a=void 0!==i?s.indexOf(i):-1;return-1===a?s.length-1:a}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,s=[];let a,u;for(a=0,u=i.data.length;a<u;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const f=e.barThickness;return{min:f||c1(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:a,minBarLength:u}}=this,f=a||0,m=this.getParsed(e),v=m._custom,x=ky(v);let P,L,S=m[i.axis],A=0,O=r?this.applyStack(i,m,r):S;O!==S&&(A=O-S,O=S),x&&(S=v.barStart,O=v.barEnd-v.barStart,0!==S&&Jo(S)!==Jo(v.barEnd)&&(A=0),A+=S);const $=qt(a)||x?A:a;let X=i.getPixelForValue($);if(P=this.chart.getDataVisibility(e)?i.getPixelForValue(A+O):X,L=P-X,Math.abs(L)<u){L=function p1(n,t,e){return 0!==n?Jo(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(L,i,f)*u,S===f&&(X-=L/2);const ee=i.getPixelForDecimal(0),le=i.getPixelForDecimal(1),ce=Math.min(ee,le),xe=Math.max(ee,le);X=Math.max(Math.min(X,xe),ce),P=X+L,r&&!x&&(m._stacks[i.axis]._visualValues[s]=i.getValueForPixel(P)-i.getValueForPixel(X))}if(X===i.getPixelForValue(f)){const ee=Jo(L)*i.getLineWidthForValue(f)/2;X+=ee,L-=ee}return{size:L,base:X,head:P,center:P+L/2}}_calculateBarIndexPixels(e,i){const r=i.scale,s=this.options,a=s.skipNull,u=Xt(s.maxBarThickness,1/0);let f,m;if(i.grouped){const v=a?this._getStackCount(e):i.stackCount,x="flex"===s.barThickness?function d1(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;null===a&&(a=s-(null===u?t.end-t.start:u-s)),null===u&&(u=s+s-a);const m=s-(s-Math.min(a,u))/2*f;return{chunk:Math.abs(u-a)/2*f/i,ratio:e.barPercentage,start:m}}(e,i,s,v):function u1(n,t,e,i){const r=e.barThickness;let s,a;return qt(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(e,i,s,v),S=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);f=x.start+x.chunk*S+x.chunk/2,m=Math.min(u,x.chunk*x.ratio)}else f=r.getPixelForValue(this.getParsed(e)[r.axis],e),m=Math.min(u,i.min*i.ratio);return{base:f-m/2,head:f+m/2,center:f,size:m}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)null!==this.getParsed(a)[i.axis]&&!r[a].hidden&&r[a].draw(this._ctx)}})(),v1=(()=>class n extends uc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,s){const a=super.parsePrimitiveData(e,i,r,s);for(let u=0;u<a.length;u++)a[u]._custom=this.resolveDataElementOptions(u+r).radius;return a}parseArrayData(e,i,r,s){const a=super.parseArrayData(e,i,r,s);for(let u=0;u<a.length;u++)a[u]._custom=Xt(i[r+u][2],this.resolveDataElementOptions(u+r).radius);return a}parseObjectData(e,i,r,s){const a=super.parseObjectData(e,i,r,s);for(let u=0;u<a.length;u++){const f=i[r+u];a[u]._custom=Xt(f&&f.r&&+f.r,this.resolveDataElementOptions(u+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:a}=i,u=this.getParsed(e),f=s.getLabelForValue(u.x),m=a.getLabelForValue(u.y),v=u._custom;return{label:r[e]||"",value:"("+f+", "+m+(v?", "+v:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,s){const a="reset"===s,{iScale:u,vScale:f}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(i,s),x=u.axis,S=f.axis;for(let A=i;A<i+r;A++){const O=e[A],P=!a&&this.getParsed(A),L={},$=L[x]=a?u.getPixelForDecimal(.5):u.getPixelForValue(P[x]),X=L[S]=a?f.getBasePixel():f.getPixelForValue(P[S]);L.skip=isNaN($)||isNaN(X),v&&(L.options=m||this.resolveDataElementOptions(A,O.active?"active":s),a&&(L.options.radius=0)),this.updateElement(O,A,L,s)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return"active"!==i&&(s.radius=0),s.radius+=Xt(r&&r._custom,a),s}})(),V0=(()=>class n extends uc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return i.labels.map((a,u)=>{const m=e.getDatasetMeta(0).controller.getStyle(u);return{text:a,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:s,lineWidth:m.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(u),index:u}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let u,f,a=m=>+r[m];if(hn(r[e])){const{key:m="value"}=this._parsing;a=v=>+oh(r[v],m)}for(u=e,f=e+i;u<f;++u)s._parsed[u]=a(u)}}_getRotation(){return Us(this.options.rotation-90)}_getCircumference(){return Us(this.options.circumference)}_getRotationExtents(){let e=pn,i=-pn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),u=s._getCircumference();e=Math.min(e,a),i=Math.max(i,a+u)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,a=s.data,u=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,f=Math.max((Math.min(r.width,r.height)-u)/2,0),m=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,f),1),v=this._getRingWeight(this.index),{circumference:x,rotation:S}=this._getRotationExtents(),{ratioX:A,ratioY:O,offsetX:P,offsetY:L}=function b1(n,t,e){let i=1,r=1,s=0,a=0;if(t<pn){const u=n,f=u+t,m=Math.cos(u),v=Math.sin(u),x=Math.cos(f),S=Math.sin(f),A=(ee,le,ce)=>ch(ee,u,f,!0)?1:Math.max(le,le*e,ce,ce*e),O=(ee,le,ce)=>ch(ee,u,f,!0)?-1:Math.min(le,le*e,ce,ce*e),P=A(0,m,x),L=A(qi,v,S),$=O(gn,m,x),X=O(gn+qi,v,S);i=(P-$)/2,r=(L-X)/2,s=-(P+$)/2,a=-(L+X)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(S,x,m),ee=Math.max(Math.min((r.width-u)/A,(r.height-u)/O)/2,0),le=ir(this.options.radius,ee),xe=(le-Math.max(le*m,0))/this._getVisibleDatasetWeightTotal();this.offsetX=P*le,this.offsetY=L*le,s.total=this.calculateTotal(),this.outerRadius=le-xe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-xe*v,0),this.updateElements(a,0,a.length,e)}_circumference(e,i){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/pn)}updateElements(e,i,r,s){const a="reset"===s,u=this.chart,f=u.chartArea,x=(f.left+f.right)/2,S=(f.top+f.bottom)/2,A=a&&u.options.animation.animateScale,O=A?0:this.innerRadius,P=A?0:this.outerRadius,{sharedOptions:L,includeOptions:$}=this._getSharedOptions(i,s);let ee,X=this._getRotation();for(ee=0;ee<i;++ee)X+=this._circumference(ee,a);for(ee=i;ee<i+r;++ee){const le=this._circumference(ee,a),ce=e[ee],xe={x:x+this.offsetX,y:S+this.offsetY,startAngle:X,endAngle:X+le,circumference:le,outerRadius:P,innerRadius:O};$&&(xe.options=L||this.resolveDataElementOptions(ee,ce.active?"active":s)),X+=le,this.updateElement(ce,ee,xe,s)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let s,r=0;for(s=0;s<i.length;s++){const a=e._parsed[s];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?pn*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],a=Kf(this._cachedMeta._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let i=0;const r=this.chart;let s,a,u,f,m;if(!e)for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){u=r.getDatasetMeta(s),e=u.data,f=u.controller;break}if(!e)return 0;for(s=0,a=e.length;s<a;++s)m=f.resolveDataElementOptions(s),"inner"!==m.borderAlign&&(i=Math.max(i,m.borderWidth||0,m.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Xt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),w1=(()=>class n extends uc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=i,u=this.chart._animationsDisabled;let{start:f,count:m}=PD(i,s,u);this._drawStart=f,this._drawCount=m,ND(i)&&(f=0,m=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const v=this.resolveDatasetElementOptions(e);this.options.showLine||(v.borderWidth=0),v.segment=this.options.segment,this.updateElement(r,void 0,{animated:!u,options:v},e),this.updateElements(s,f,m,e)}updateElements(e,i,r,s){const a="reset"===s,{iScale:u,vScale:f,_stacked:m,_dataset:v}=this._cachedMeta,{sharedOptions:x,includeOptions:S}=this._getSharedOptions(i,s),A=u.axis,O=f.axis,{spanGaps:P,segment:L}=this.options,$=Wf(P)?P:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||a||"none"===s,ee=i+r,le=e.length;let ce=i>0&&this.getParsed(i-1);for(let xe=0;xe<le;++xe){const ze=e[xe],Ge=X?ze:{};if(xe<i||xe>=ee){Ge.skip=!0;continue}const pt=this.getParsed(xe),jt=qt(pt[O]),nn=Ge[A]=u.getPixelForValue(pt[A],xe),ln=Ge[O]=a||jt?f.getBasePixel():f.getPixelForValue(m?this.applyStack(f,pt,m):pt[O],xe);Ge.skip=isNaN(nn)||isNaN(ln)||jt,Ge.stop=xe>0&&Math.abs(pt[A]-ce[A])>$,L&&(Ge.parsed=pt,Ge.raw=v.data[xe]),S&&(Ge.options=x||this.resolveDataElementOptions(xe,ze.active?"active":s)),X||this.updateElement(ze,xe,Ge,s),ce=pt}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),u=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),CI=(()=>class n extends uc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return i.labels.map((a,u)=>{const m=e.getDatasetMeta(0).controller.getStyle(u);return{text:a,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:s,lineWidth:m.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(u),index:u}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],a=Kf(this._cachedMeta._parsed[e].r,r.options.locale);return{label:s[e]||"",value:a}}parseObjectData(e,i,r,s){return Uk.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(s/2,0),f=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(e,i,r,s){const a="reset"===s,u=this.chart,m=u.options.animation,v=this._cachedMeta.rScale,x=v.xCenter,S=v.yCenter,A=v.getIndexAngle(0)-.5*gn;let P,O=A;const L=360/this.countVisibleElements();for(P=0;P<i;++P)O+=this._computeAngle(P,s,L);for(P=i;P<i+r;P++){const $=e[P];let X=O,ee=O+this._computeAngle(P,s,L),le=u.getDataVisibility(P)?v.getDistanceFromCenterForValue(this.getParsed(P).r):0;O=ee,a&&(m.animateScale&&(le=0),m.animateRotate&&(X=ee=A));const ce={x,y:S,innerRadius:0,outerRadius:le,startAngle:X,endAngle:ee,options:this.resolveDataElementOptions(P,$.active?"active":s)};this.updateElement($,P,ce,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Us(this.resolveDataElementOptions(e,i).angle||r):0}})();var DI=Object.freeze({__proto__:null,BarController:y1,BubbleController:v1,DoughnutController:V0,LineController:w1,PieController:(()=>class n extends V0{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:CI,RadarController:(()=>class n extends uc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,s){return Uk.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta,r=i.dataset,s=i.data||[],a=i.iScale.getLabels();if(r.points=s,"resize"!==e){const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===s.length,options:u},e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,r,s){const a=this._cachedMeta.rScale,u="reset"===s;for(let f=i;f<i+r;f++){const m=e[f],v=this.resolveDataElementOptions(f,m.active?"active":s),x=a.getPointPositionForValue(f,this.getParsed(f).r),S=u?a.xCenter:x.x,A=u?a.yCenter:x.y,O={x:S,y:A,angle:x.angle,skip:isNaN(S)||isNaN(A),options:v};this.updateElement(m,f,O,s)}}})(),ScatterController:(()=>class n extends uc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:a}=i,u=this.getParsed(e),f=s.getLabelForValue(u.x),m=a.getLabelForValue(u.y);return{label:r[e]||"",value:"("+f+", "+m+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:a,count:u}=PD(i,r,s);if(this._drawStart=a,this._drawCount=u,ND(i)&&(a=0,u=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:f,_dataset:m}=i;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!m._decimated,f.points=r;const v=this.resolveDatasetElementOptions(e);v.segment=this.options.segment,this.updateElement(f,void 0,{animated:!s,options:v},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,a,u,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,s){const a="reset"===s,{iScale:u,vScale:f,_stacked:m,_dataset:v}=this._cachedMeta,x=this.resolveDataElementOptions(i,s),S=this.getSharedOptions(x),A=this.includeOptions(s,S),O=u.axis,P=f.axis,{spanGaps:L,segment:$}=this.options,X=Wf(L)?L:Number.POSITIVE_INFINITY,ee=this.chart._animationsDisabled||a||"none"===s;let le=i>0&&this.getParsed(i-1);for(let ce=i;ce<i+r;++ce){const xe=e[ce],ze=this.getParsed(ce),Ge=ee?xe:{},pt=qt(ze[P]),jt=Ge[O]=u.getPixelForValue(ze[O],ce),nn=Ge[P]=a||pt?f.getBasePixel():f.getPixelForValue(m?this.applyStack(f,ze,m):ze[P],ce);Ge.skip=isNaN(jt)||isNaN(nn)||pt,Ge.stop=ce>0&&Math.abs(ze[O]-le[O])>X,$&&(Ge.parsed=ze,Ge.raw=v.data[ce]),A&&(Ge.options=S||this.resolveDataElementOptions(ce,xe.active?"active":s)),ee||this.updateElement(xe,ce,Ge,s),le=ze}this.updateSharedOptions(S,s,x)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let f=0;for(let m=i.length-1;m>=0;--m)f=Math.max(f,i[m].size(this.resolveDataElementOptions(m))/2);return f>0&&f}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),u=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,u)/2}})()});function Eu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Py{static override(t){Object.assign(Py.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Eu()}parse(){return Eu()}format(){return Eu()}add(){return Eu()}diff(){return Eu()}startOf(){return Eu()}endOf(){return Eu()}}var II__date=Py;function SI(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&"r"!==t&&a&&s.length){const m=u._reversePixels?TD:ml;if(!i){const v=m(s,t,e);if(f){const{vScale:x}=r._cachedMeta,{_parsed:S}=n,A=S.slice(0,v.lo+1).reverse().findIndex(P=>!qt(P[x.axis]));v.lo-=Math.max(0,A);const O=S.slice(v.hi).findIndex(P=>!qt(P[x.axis]));v.hi+=Math.max(0,O)}return v}if(r._sharedOptions){const v=s[0],x="function"==typeof v.getRange&&v.getRange(t);if(x){const S=m(s,t,e-x),A=m(s,t,e+x);return{lo:S.lo,hi:A.hi}}}}return{lo:0,hi:s.length-1}}function Jf(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let u=0,f=s.length;u<f;++u){const{index:m,data:v}=s[u],{lo:x,hi:S}=SI(s[u],t,a,r);for(let A=x;A<=S;++A){const O=v[A];O.skip||i(O,m,A)}}}function TI(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||Jf(n,e,t,function(u,f,m){!r&&!oc(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&s.push({element:u,datasetIndex:f,index:m})},!0),s}function B0(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function AI(n,t,e,i,r,s){let a=[];const u=function x1(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let f=Number.POSITIVE_INFINITY;return Jf(n,e,t,function m(v,x,S){const A=v.inRange(t.x,t.y,r);if(i&&!A)return;const O=v.getCenterPoint(r);if(!s&&!n.isPointInArea(O)&&!A)return;const L=u(t,O);L<f?(a=[{element:v,datasetIndex:x,index:S}],f=L):L===f&&a.push({element:v,datasetIndex:x,index:S})}),a}(n,t,e,i,r,s):function cU(n,t,e,i){let r=[];return Jf(n,e,t,function s(a,u,f){const{startAngle:m,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:x}=u0(a,{x:t.x,y:t.y});ch(x,m,v)&&r.push({element:a,datasetIndex:u,index:f})}),r}(n,t,e,r):[]}function MI(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let u=!1;return Jf(n,e,t,(f,m,v)=>{f[a]&&f[a](t[e],r)&&(s.push({element:f,datasetIndex:m,index:v}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:s}var E1={evaluateInteractionItems:Jf,modes:{index(n,t,e,i){const r=wu(t,n),s=e.axis||"x",a=e.includeInvisible||!1,u=e.intersect?TI(n,r,s,i,a):B0(n,r,s,!1,i,a),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const v=u[0].index,x=m.data[v];x&&!x.skip&&f.push({element:x,datasetIndex:m.index,index:v})}),f):[]},dataset(n,t,e,i){const r=wu(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let u=e.intersect?TI(n,r,s,i,a):B0(n,r,s,!1,i,a);if(u.length>0){const f=u[0].datasetIndex,m=n.getDatasetMeta(f).data;u=[];for(let v=0;v<m.length;++v)u.push({element:m[v],datasetIndex:f,index:v})}return u},point:(n,t,e,i)=>TI(n,wu(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>B0(n,wu(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>MI(n,wu(t,n),"x",e.intersect,i),y:(n,t,e,i)=>MI(n,wu(t,n),"y",e.intersect,i)}};const RI=["left","top","right","bottom"];function dc(n,t){return n.filter(e=>e.pos===t)}function kI(n,t){return n.filter(e=>-1===RI.indexOf(e.pos)&&e.box.axis===t)}function Cu(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function ep(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function OI(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function I1(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!hn(r)){e.size&&(n[r]-=e.size);const x=i[e.stack]||{size:0,count:1};x.size=Math.max(x.size,e.horizontal?s.height:s.width),e.size=x.size/x.count,n[r]+=e.size}s.getPadding&&OI(a,s.getPadding());const u=Math.max(0,t.outerWidth-ep(a,n,"left","right")),f=Math.max(0,t.outerHeight-ep(a,n,"top","bottom")),m=u!==n.w,v=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:m,other:v}:{same:v,other:m}}function Ny(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function tp(n,t,e,i){const r=[];let s,a,u,f,m,v;for(s=0,a=n.length,m=0;s<a;++s){u=n[s],f=u.box,f.update(u.width||t.w,u.height||t.h,Ny(u.horizontal,t));const{same:x,other:S}=I1(t,e,u,i);m|=x&&r.length,v=v||S,f.fullSize||r.push(u)}return m&&tp(r,t,e,i)||v}function Fy(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function U0(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const u of n){const f=u.box,m=i[u.stack]||{count:1,placed:0,weight:1},v=u.stackWeight/m.weight||1;if(u.horizontal){const x=t.w*v,S=m.size||f.height;ah(m.start)&&(a=m.start),f.fullSize?Fy(f,r.left,a,e.outerWidth-r.right-r.left,S):Fy(f,t.left+m.placed,a,x,S),m.start=a,m.placed+=x,a=f.bottom}else{const x=t.h*v,S=m.size||f.width;ah(m.start)&&(s=m.start),f.fullSize?Fy(f,s,r.top,S,e.outerHeight-r.bottom-r.top):Fy(f,s,t.top+m.placed,S,x),m.start=s,m.placed+=x,s=f.right}}t.x=s,t.y=a}var pr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Yi(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),u=function dU(n){const t=function C1(n){const t=[];let e,i,r,s,a,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:u=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:u});return t}(n),e=Cu(t.filter(m=>m.box.fullSize),!0),i=Cu(dc(t,"left"),!0),r=Cu(dc(t,"right")),s=Cu(dc(t,"top"),!0),a=Cu(dc(t,"bottom")),u=kI(t,"x"),f=kI(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(f).concat(a).concat(u),chartArea:dc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:s.concat(a).concat(u)}}(n.boxes),f=u.vertical,m=u.horizontal;Tn(n.boxes,P=>{"function"==typeof P.beforeLayout&&P.beforeLayout()});const v=f.reduce((P,L)=>L.box.options&&!1===L.box.options.display?P:P+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),S=Object.assign({},r);OI(S,Yi(i));const A=Object.assign({maxPadding:S,w:s,h:a,x:r.left,y:r.top},r),O=function D1(n,t){const e=function uU(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!RI.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,u;for(s=0,a=n.length;s<a;++s){u=n[s];const{fullSize:f}=u.box,m=e[u.stack],v=m&&u.stackWeight/m.weight;u.horizontal?(u.width=v?v*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=v?v*r:f&&t.availableHeight)}return e}(f.concat(m),x);tp(u.fullSize,A,x,O),tp(f,A,x,O),tp(m,A,x,O)&&tp(f,A,x,O),function S1(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(A),U0(u.leftAndTop,A,x,O),A.x+=A.w,A.y+=A.h,U0(u.rightAndBottom,A,x,O),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Tn(u.chartArea,P=>{const L=P.box;Object.assign(L,n.chartArea),L.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class PI{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class T1 extends PI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const eg="$chartjs",A1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NI=n=>null===n||""===n,tg=!!Xk&&{passive:!0};function R1(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,tg)}function ng(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function j0(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||ng(u.addedNodes,i),a=a&&!ng(u.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function VI(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||ng(u.removedNodes,i),a=a&&!ng(u.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ig=new Map;let H0=0;function z0(){const n=window.devicePixelRatio;n!==H0&&(H0=n,ig.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function $0(n,t,e){const i=n.canvas,r=i&&D0(i);if(!r)return;const s=OD((u,f)=>{const m=r.clientWidth;e(u,f),m<r.clientWidth&&e()},window),a=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,v=f.contentRect.height;0===m&&0===v||s(m,v)});return a.observe(r),function k1(n,t){ig.size||window.addEventListener("resize",z0),ig.set(n,t)}(n,s),a}function rg(n,t,e){e&&e.disconnect(),"resize"===t&&function O1(n){ig.delete(n),ig.size||window.removeEventListener("resize",z0)}(n)}function BI(n,t,e){const i=n.canvas,r=OD(s=>{null!==n.ctx&&e(function LI(n,t){const e=A1[n.type]||n.type,{x:i,y:r}=wu(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function M1(n,t,e){n&&n.addEventListener(t,e,tg)}(i,t,r),r}class G0 extends PI{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function FI(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[eg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",NI(r)){const s=I0(n,"width");void 0!==s&&(n.width=s)}if(NI(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=I0(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[eg])return!1;const i=e[eg].initial;["height","width"].forEach(s=>{const a=i[s];qt(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[eg],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:j0,detach:VI,resize:$0}[e]||BI)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:rg,detach:rg,resize:rg}[e]||R1)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function qk(n,t,e,i){const r=Iy(n),s=ph(r,"margin"),a=Ym(r.maxWidth,n,"clientWidth")||$m,u=Ym(r.maxHeight,n,"clientHeight")||$m,f=function Kk(n,t,e){let i,r;if(void 0===t||void 0===e){const s=n&&D0(n);if(s){const a=s.getBoundingClientRect(),u=Iy(s),f=ph(u,"border","width"),m=ph(u,"padding");t=a.width-m.width-f.width,e=a.height-m.height-f.height,i=Ym(u.maxWidth,s,"clientWidth"),r=Ym(u.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||$m,maxHeight:r||$m}}(n,t,e);let{width:m,height:v}=f;if("content-box"===r.boxSizing){const S=ph(r,"border","width"),A=ph(r,"padding");m-=A.width+S.width,v-=A.height+S.height}return m=Math.max(0,m-s.width),v=Math.max(0,i?m/i:v-s.height),m=Zm(Math.min(m,a,f.maxWidth)),v=Zm(Math.min(v,u,f.maxHeight)),m&&!v&&(v=Zm(m/2)),(void 0!==t||void 0!==e)&&i&&f.height&&v>f.height&&(v=f.height,m=Zm(Math.floor(v*i))),{width:m,height:v}}(t,e,i,r)}isAttached(t){const e=t&&D0(t);return!(!e||!e.isConnected)}}class hc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Wf(this.x)&&Wf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function sg(n,t,e,i,r){const s=Xt(i,0),a=Math.min(Xt(r,n.length),n.length);let f,m,v,u=0;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),v=s;v<0;)u++,v=Math.round(s+u*e);for(m=Math.max(s,0);m<a;m++)m===v&&(t.push(n[m]),u++,v=Math.round(s+u*e))}const q0=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,zI=(n,t)=>Math.min(t||n,n);function X0(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function $I(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,u=1e-6;let m,f=n.getPixelForTick(r);if(!(e&&(m=1===i?Math.max(f-s,a-f):0===t?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<s-u||f>a+u)))return f}function np(n){return n.drawTicks?n.tickLength:0}function Y0(n,t){if(!n.display)return 0;const e=rr(n.font,t),i=Yi(n.padding);return(li(n.text)?n.text.length:1)*e.lineHeight+i.height}function V1(n,t,e){let i=f0(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class rp extends hc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=xo(t,Number.POSITIVE_INFINITY),e=xo(e,Number.NEGATIVE_INFINITY),i=xo(i,Number.POSITIVE_INFINITY),r=xo(r,Number.NEGATIVE_INFINITY),{min:xo(t,i),max:xo(e,r),minDefined:Oi(t),maxDefined:Oi(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)a=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:xo(e,xo(i,e)),max:xo(i,xo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){On(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Rk(n,t,e){const{min:i,max:r}=n,s=ir(t,(r-i)/2),a=(u,f)=>e&&0===u?0:u+f;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?X0(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function P1(n,t){const e=n.options.ticks,i=function N1(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function UI(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,u=s[0],f=s[a-1],m=[];if(a>r)return function K0(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,m,s,a/r),m;const v=function F1(n,t,e){const i=function jI(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function DD(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,u=s.length-1;a<u;a++){const f=s[a];if(f>r)return f}return Math.max(r,1)}(s,t,r);if(a>0){let x,S;const A=a>1?Math.round((f-u)/(a-1)):null;for(sg(t,m,v,qt(A)?0:u-A,u),x=0,S=a-1;x<S;x++)sg(t,m,v,s[x],s[x+1]);return sg(t,m,v,f,qt(A)?t.length:f+A),m}return sg(t,m,v),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){On(this.options.afterUpdate,[this])}beforeSetDimensions(){On(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){On(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),On(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){On(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=On(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){On(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){On(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=zI(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let u,f,m,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),x=v.widest.width,S=v.highest.height,A=Xi(this.chart.width-x,0,this.maxWidth);u=t.offset?this.maxWidth/i:A/(i-1),x+6>u&&(u=A/(i-(t.offset?.5:1)),f=this.maxHeight-np(t.grid)-e.padding-Y0(t.title,this.chart.options.font),m=Math.sqrt(x*x+S*S),a=l0(Math.min(Math.asin(Xi((v.highest.height+6)/u,-1,1)),Math.asin(Xi(f/m,-1,1))-Math.asin(Xi(S/m,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){On(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){On(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const f=Y0(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=np(s)+f):(t.height=this.maxHeight,t.width=np(s)+f),i.display&&this.ticks.length){const{first:m,last:v,widest:x,highest:S}=this._getLabelSizes(),A=2*i.padding,O=Us(this.labelRotation),P=Math.cos(O),L=Math.sin(O);u?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:L*x.width+P*S.height)+A):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:P*x.width+L*S.height)+A),this._calculatePadding(m,v,L,P)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:u}=this.options,f=0!==this.labelRotation,m="top"!==u&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,A=0;f?m?(S=r*t.width,A=i*e.height):(S=i*t.height,A=r*e.width):"start"===s?A=e.width:"end"===s?S=t.width:"inner"!==s&&(S=t.width/2,A=e.width/2),this.paddingLeft=Math.max((S-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((A-x+a)*this.width/(this.width-x),0)}else{let v=e.height/2,x=t.height/2;"start"===s?(v=0,x=t.height):"end"===s&&(v=e.height,x=0),this.paddingTop=v+a,this.paddingBottom=x+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){On(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)qt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=X0(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,a=[],u=[],f=Math.floor(e/zI(e,i));let x,S,A,O,P,L,$,X,ee,le,ce,m=0,v=0;for(x=0;x<e;x+=f){if(O=t[x].label,P=this._resolveTickFontOptions(x),r.font=L=P.string,$=s[L]=s[L]||{data:{},gc:[]},X=P.lineHeight,ee=le=0,qt(O)||li(O)){if(li(O))for(S=0,A=O.length;S<A;++S)ce=O[S],!qt(ce)&&!li(ce)&&(ee=Km(r,$.data,$.gc,ee,ce),le+=X)}else ee=Km(r,$.data,$.gc,ee,O),le=X;a.push(ee),u.push(le),m=Math.max(ee,m),v=Math.max(le,v)}!function L1(n,t){Tn(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(s,e);const xe=a.indexOf(m),ze=u.indexOf(v),Ge=pt=>({width:a[pt]||0,height:u[pt]||0});return{first:Ge(0),last:Ge(e-1),widest:Ge(xe),highest:Ge(ze),widths:a,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function SD(n){return Xi(n,-32768,32767)}(this._alignToPixels?Xf(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function ip(n,t,e){return Aa(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function Es(n,t){return Aa(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Us(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,u=s?s.widest.width+a:0,f=s?s.highest.height+a:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:u}=r,f=s.offset,m=this.isHorizontal(),x=this.ticks.length+(f?1:0),S=np(s),A=[],O=u.setContext(this.getContext()),P=O.display?O.width:0,L=P/2,$=function(Ze){return Xf(i,Ze,P)};let X,ee,le,ce,xe,ze,Ge,pt,jt,nn,ln,xi;if("top"===a)X=$(this.bottom),ze=this.bottom-S,pt=X-L,nn=$(t.top)+L,xi=t.bottom;else if("bottom"===a)X=$(this.top),nn=t.top,xi=$(t.bottom)-L,ze=X+L,pt=this.top+S;else if("left"===a)X=$(this.right),xe=this.right-S,Ge=X-L,jt=$(t.left)+L,ln=t.right;else if("right"===a)X=$(this.left),jt=t.left,ln=$(t.right)-L,xe=X+L,Ge=this.left+S;else if("x"===e){if("center"===a)X=$((t.top+t.bottom)/2+.5);else if(hn(a)){const Ze=Object.keys(a)[0];X=$(this.chart.scales[Ze].getPixelForValue(a[Ze]))}nn=t.top,xi=t.bottom,ze=X+L,pt=ze+S}else if("y"===e){if("center"===a)X=$((t.left+t.right)/2);else if(hn(a)){const Ze=Object.keys(a)[0];X=$(this.chart.scales[Ze].getPixelForValue(a[Ze]))}xe=X-L,Ge=xe-S,jt=t.left,ln=t.right}const Xs=Xt(r.ticks.maxTicksLimit,x),Nn=Math.max(1,Math.ceil(x/Xs));for(ee=0;ee<x;ee+=Nn){const Ze=this.getContext(ee),ut=s.setContext(Ze),Tt=u.setContext(Ze),Ht=ut.lineWidth,Ei=ut.color,Ro=Tt.dash||[],Nr=Tt.dashOffset,na=ut.tickWidth,Fn=ut.tickColor,Vp=ut.tickBorderDash||[],Vh=ut.tickBorderDashOffset;le=$I(this,ee,f),void 0!==le&&(ce=Xf(i,le,Ht),m?xe=Ge=jt=ln=ce:ze=pt=nn=xi=ce,A.push({tx1:xe,ty1:ze,tx2:Ge,ty2:pt,x1:jt,y1:nn,x2:ln,y2:xi,width:Ht,color:Ei,borderDash:Ro,borderDashOffset:Nr,tickWidth:na,tickColor:Fn,tickBorderDash:Vp,tickBorderDashOffset:Vh}))}return this._ticksLength=x,this._borderValue=X,A}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:v,mirror:x}=s,S=np(i.grid),A=S+v,O=x?-v:A,P=-Us(this.labelRotation),L=[];let $,X,ee,le,ce,xe,ze,Ge,pt,jt,nn,ln,xi="middle";if("top"===r)xe=this.bottom-O,ze=this._getXAxisLabelAlignment();else if("bottom"===r)xe=this.top+O,ze=this._getXAxisLabelAlignment();else if("left"===r){const Nn=this._getYAxisLabelAlignment(S);ze=Nn.textAlign,ce=Nn.x}else if("right"===r){const Nn=this._getYAxisLabelAlignment(S);ze=Nn.textAlign,ce=Nn.x}else if("x"===e){if("center"===r)xe=(t.top+t.bottom)/2+A;else if(hn(r)){const Nn=Object.keys(r)[0];xe=this.chart.scales[Nn].getPixelForValue(r[Nn])+A}ze=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)ce=(t.left+t.right)/2-A;else if(hn(r)){const Nn=Object.keys(r)[0];ce=this.chart.scales[Nn].getPixelForValue(r[Nn])}ze=this._getYAxisLabelAlignment(S).textAlign}"y"===e&&("start"===f?xi="top":"end"===f&&(xi="bottom"));const Xs=this._getLabelSizes();for($=0,X=u.length;$<X;++$){ee=u[$],le=ee.label;const Nn=s.setContext(this.getContext($));Ge=this.getPixelForTick($)+s.labelOffset,pt=this._resolveTickFontOptions($),jt=pt.lineHeight,nn=li(le)?le.length:1;const Ze=nn/2,ut=Nn.color,Tt=Nn.textStrokeColor,Ht=Nn.textStrokeWidth;let Ro,Ei=ze;if(a?(ce=Ge,"inner"===ze&&(Ei=$===X-1?this.options.reverse?"left":"right":0===$?this.options.reverse?"right":"left":"center"),ln="top"===r?"near"===m||0!==P?-nn*jt+jt/2:"center"===m?-Xs.highest.height/2-Ze*jt+jt:jt/2-Xs.highest.height:"near"===m||0!==P?jt/2:"center"===m?Xs.highest.height/2-Ze*jt:Xs.highest.height-nn*jt,x&&(ln*=-1),0!==P&&!Nn.showLabelBackdrop&&(ce+=jt/2*Math.sin(P))):(xe=Ge,ln=(1-nn)*jt/2),Nn.showLabelBackdrop){const Nr=Yi(Nn.backdropPadding),na=Xs.heights[$],Fn=Xs.widths[$];let Vp=ln-Nr.top,Vh=0-Nr.left;switch(xi){case"middle":Vp-=na/2;break;case"bottom":Vp-=na}switch(ze){case"center":Vh-=Fn/2;break;case"right":Vh-=Fn;break;case"inner":$===X-1?Vh-=Fn:$>0&&(Vh-=Fn/2)}Ro={left:Vh,top:Vp,width:Fn+Nr.width,height:na+Nr.height,color:Nn.backdropColor}}L.push({label:le,font:pt,textOffset:ln,options:{rotation:P,color:ut,strokeColor:Tt,strokeWidth:Ht,textAlign:Ei,textBaseline:xi,translation:[ce,xe],backdrop:Ro}})}return L}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Us(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,u=t+s,f=this._getLabelSizes().widest.width;let m,v;return"left"===e?r?(v=this.right+s,"near"===i?m="left":"center"===i?(m="center",v+=f/2):(m="right",v+=f)):(v=this.right-u,"near"===i?m="right":"center"===i?(m="center",v-=f/2):(m="left",v=this.left)):"right"===e?r?(v=this.left+s,"near"===i?m="right":"center"===i?(m="center",v-=f/2):(m="left",v-=f)):(v=this.left+u,"near"===i?m="left":"center"===i?(m="center",v+=f/2):(m="right",v=this.right)):m="right",{textAlign:m,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const u=(f,m,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const f=r[s];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,v,x,S;this.isHorizontal()?(m=Xf(t,this.left,a)-a/2,v=Xf(t,this.right,u)+u/2,x=S=f):(x=Xf(t,this.top,a)-a/2,S=Xf(t,this.bottom,u)+u/2,m=v=f),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(m,x),e.lineTo(v,S),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ac(i,r);const s=this.getLabelItems(t);for(const a of s)bu(i,a.label,0,a.textOffset,a.font,a.options);r&&wy(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=rr(i.font),a=Yi(i.padding),u=i.align;let f=s.lineHeight/2;"bottom"===e||"center"===e||hn(e)?(f+=a.bottom,li(i.text)&&(f+=s.lineHeight*(i.text.length-1))):f+=a.top;const{titleX:m,titleY:v,maxWidth:x,rotation:S}=function B1(n,t,e,i){const{top:r,left:s,bottom:a,right:u,chart:f}=n,{chartArea:m,scales:v}=f;let S,A,O,x=0;const P=a-r,L=u-s;if(n.isHorizontal()){if(A=ss(i,s,u),hn(e)){const $=Object.keys(e)[0];O=v[$].getPixelForValue(e[$])+P-t}else O="center"===e?(m.bottom+m.top)/2+P-t:q0(n,e,t);S=u-s}else{if(hn(e)){const $=Object.keys(e)[0];A=v[$].getPixelForValue(e[$])-L+t}else A="center"===e?(m.left+m.right)/2-L+t:q0(n,e,t);O=ss(i,a,r),x="left"===e?-qi:qi}return{titleX:A,titleY:O,maxWidth:S,rotation:x}}(this,f,e,u);bu(t,i.text,0,0,s,{color:i.color,maxWidth:x,rotation:S,textAlign:V1(u,e,r),textBaseline:"middle",translation:[m,v]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Xt(t.grid&&t.grid.z,-1),r=Xt(t.border&&t.border.z,0);return this._isVisible()&&this.draw===rp.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const u=e[s];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){return rr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Q0{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function hU(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function GI(n,t,e){const i=Sa(Object.create(null),[e?Bn.get(e):{},Bn.get(t),n.defaults]);Bn.set(t,i),n.defaultRoutes&&function Z0(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),u=a.pop(),f=a.join(".");Bn.route(s,r,f,u)})}(t,n.defaultRoutes),n.descriptors&&Bn.describe(t,n.descriptors)}(t,a,i),this.override&&Bn.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Bn[r]&&(delete Bn[r][i],this.override&&delete Co[i])}}class fU{constructor(){this.controllers=new Q0(uc,"datasets",!0),this.elements=new Q0(hc,"elements"),this.plugins=new Q0(Object,"plugins"),this.scales=new Q0(rp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Tn(r,a=>{const u=i||this._getRegistryForType(a);this._exec(t,u,a)})})}_exec(t,e,i){const r=zm(t);On(i["before"+r],[],i),e[t](i),On(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var fc=new fU;class og{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===On(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Xt(i.options&&i.options.plugins,{}),s=function U1(n){const t={},e=[],i=Object.keys(fc.plugins.items);for(let s=0;s<i.length;s++)e.push(fc.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function j1(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const u of t){const f=u.id,m=J0(i[f],r);null!==m&&s.push({plugin:u,options:WI(n.config,{plugin:u,local:e[f]},m,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(u=>!a.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function J0(n,t){return t||!1!==n?!0===n?{}:n:null}function WI(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ew(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Bn.datasets[n]||{}).indexAxis||"x"}function Ly(n){if("x"===n||"y"===n||"r"===n)return n}function KI(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function tw(n,...t){if(Ly(n))return n;for(const e of t){const i=e.axis||KI(e.position)||n.length>1&&Ly(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ag(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function iw(n){const t=n.options||(n.options={});t.plugins=Xt(t.plugins,{}),t.scales=function pU(n,t){const e=Co[n.type]||{scales:{}},i=t.scales||{},r=ew(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const u=i[a];if(!hn(u))return console.error(`Invalid scale configuration for scale: ${a}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const f=tw(a,u,function nw(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return ag(n,"x",e[0])||ag(n,"y",e[0])}return{}}(a,n),Bn.scales[u.type]),m=function z1(n,t){return n===t?"_index_":"_value_"}(f,r),v=e.scales||{};s[a]=fl(Object.create(null),[{axis:f},u,v[f],v[m]])}),n.data.datasets.forEach(a=>{const u=a.type||n.type,f=a.indexAxis||ew(u,t),v=(Co[u]||{}).scales||{};Object.keys(v).forEach(x=>{const S=function H1(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(x,f),A=a[S+"AxisID"]||S;s[A]=s[A]||Object.create(null),fl(s[A],[{axis:S},i[A],v[x]])})}),Object.keys(s).forEach(a=>{const u=s[a];fl(u,[Bn.scales[u.type],Bn.scale])}),s}(n,t)}function qI(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const gh=new Map,YI=new Set;function lg(n,t){let e=gh.get(n);return e||(e=t(),gh.set(n,e),YI.add(e)),e}const _h=(n,t,e)=>{const i=oh(t,e);void 0!==i&&n.add(i)};class mU{constructor(t){this._config=function XI(n){return(n=n||{}).data=qI(n.data),iw(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return lg(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),u=a.get(e);if(u)return u;const f=new Set;e.forEach(v=>{t&&(f.add(t),v.forEach(x=>_h(f,t,x))),v.forEach(x=>_h(f,r,x)),v.forEach(x=>_h(f,Co[s]||{},x)),v.forEach(x=>_h(f,Bn,x)),v.forEach(x=>_h(f,y0,x))});const m=Array.from(f);return 0===m.length&&m.push(Object.create(null)),YI.has(e)&&a.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Co[e]||{},Bn.datasets[e]||{},{type:e},Bn,y0]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:u}=QI(this._resolverCache,t,r);let f=a;(function $1(n,t){const{isScriptable:e,isIndexable:i}=w0(n);for(const r of t){const s=e(r),a=i(r),u=(a||s)&&n[r];if(s&&($r(u)||gU(u))||a&&li(u))return!0}return!1})(a,e)&&(s.$shared=!1,f=hh(a,i=$r(i)?i():i,this.createResolver(t,i,u)));for(const m of e)s[m]=f[m];return s}createResolver(t,e,i=[""],r){const{resolver:s}=QI(this._resolverCache,t,i);return hn(e)?hh(s,e,void 0,r):s}}function QI(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:Cy(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const gU=n=>hn(n)&&Object.getOwnPropertyNames(n).some(t=>$r(n[t])),W1=["top","bottom","left","right","chartArea"];function rw(n,t){return"top"===n||"bottom"===n||-1===W1.indexOf(n)&&"x"===t}function sw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function ZI(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),On(e&&e.onComplete,[n],t)}function JI(n){const t=n.chart,e=t.options.animation;On(e&&e.onProgress,[n],t)}function ow(n){return sI()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Vy={},eS=n=>{const t=ow(n);return Object.values(Vy).filter(e=>e.canvas===t).pop()};function tS(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}function cg(n,t,e){return n.options.clip?n[e]:t[e]}let Du=(()=>class n{static defaults=Bn;static instances=Vy;static overrides=Co;static registry=fc;static version="4.4.8";static getChart=eS;static register(...e){fc.add(...e),aw()}static unregister(...e){fc.remove(...e),aw()}constructor(e,i){const r=this.config=new mU(i),s=ow(e),a=eS(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const u=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function W0(n){return!sI()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?T1:G0}(s)),this.platform.updateConfig(r);const f=this.platform.acquireContext(s,u.aspectRatio),m=f&&f.canvas,v=m&&m.height,x=m&&m.width;this.id=xk(),this.ctx=f,this.canvas=m,this.width=x,this.height=v,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new og,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Ak(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(S=>this.update(S),u.resizeDelay||0),this._dataChanges=[],Vy[this.id]=this,f&&m?(cc.listen(this,"complete",ZI),cc.listen(this,"progress",JI),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:s,_aspectRatio:a}=this;return qt(e)?i&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uh(this.canvas,this.ctx),this}stop(){return cc.stop(this),this}resize(e,i){cc.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,u=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),f=r.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Sy(this,f,!0)&&(this.notifyPlugins("resize",{size:u}),On(r.onResize,[this,u],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){Tn(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,s=Object.keys(r).reduce((u,f)=>(u[f]=!1,u),{});let a=[];i&&(a=a.concat(Object.keys(i).map(u=>{const f=i[u],m=tw(u,f),v="r"===m,x="x"===m;return{options:f,dposition:v?"chartArea":x?"bottom":"left",dtype:v?"radialLinear":x?"category":"linear"}}))),Tn(a,u=>{const f=u.options,m=f.id,v=tw(m,f),x=Xt(f.type,u.dtype);(void 0===f.position||rw(f.position,v)!==rw(u.dposition))&&(f.position=u.dposition),s[m]=!0;let S=null;m in r&&r[m].type===x?S=r[m]:(S=new(fc.getScale(x))({id:m,type:x,ctx:this.ctx,chart:this}),r[S.id]=S),S.init(f,e)}),Tn(s,(u,f)=>{u||delete r[f]}),Tn(r,u=>{pr.configure(this,u,u.options),pr.addBox(this,u)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(sw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,s)=>{0===i.filter(a=>a===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){const a=i[r];let u=this.getDatasetMeta(r);const f=a.type||this.config.type;if(u.type&&u.type!==f&&(this._destroyDatasetMeta(r),u=this.getDatasetMeta(r)),u.type=f,u.indexAxis=a.indexAxis||ew(f,this.options),u.order=a.order||0,u.index=r,u.label=""+a.label,u.visible=this.isDatasetVisible(r),u.controller)u.controller.updateIndex(r),u.controller.linkScales();else{const m=fc.getController(f),{datasetElementType:v,dataElementType:x}=Bn.datasets[f];Object.assign(m,{dataElementType:fc.getElement(x),datasetElementType:v&&fc.getElement(v)}),u.controller=new m(this,r),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){Tn(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let v=0,x=this.data.datasets.length;v<x;v++){const{controller:S}=this.getDatasetMeta(v),A=!s&&-1===a.indexOf(S);S.buildOrUpdateElements(A),u=Math.max(+S.getMaxOverflow(),u)}u=this._minPadding=r.layout.autoPadding?u:0,this._updateLayout(u),s||Tn(a,v=>{v.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(sw("z","_idx"));const{_active:f,_lastEvent:m}=this;m?this._eventHandler(m,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Tn(this.scales,e=>{pr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!wD(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of i)tS(e,s,"_removeElements"===r?-a:a)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=a=>new Set(e.filter(u=>u[0]===a).map((u,f)=>f+","+u.splice(1).join(","))),s=r(0);for(let a=1;a<i;a++)if(!wD(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;pr.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Tn(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,$r(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(cc.has(this)?this.attached&&!cc.running(this)&&cc.start(this):(this.draw(),ZI({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let s,a;for(s=0,a=i.length;s<a;++s){const u=i[s];(!e||u.visible)&&r.push(u)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,s=!r.disabled,a=function nS(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:cg(e,t,"left"),right:cg(e,t,"right"),top:cg(i,t,"top"),bottom:cg(i,t,"bottom")}:t}(e,this.chartArea),u={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",u)&&(s&&ac(i,{left:!1===r.left?0:a.left-r.left,right:!1===r.right?this.width:a.right+r.right,top:!1===r.top?0:a.top-r.top,bottom:!1===r.bottom?this.height:a.bottom+r.bottom}),e.controller.draw(),s&&wy(i),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(e){return oc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,s){const a=E1.modes[i];return"function"==typeof a?a(this,e,r,s):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Aa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),u=a.controller._resolveAnimations(void 0,s);ah(i)?(a.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),u.update(a,{visible:r}),this.update(f=>f.datasetIndex===e?s:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),cc.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uh(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Vy[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(a,u)=>{i.addEventListener(this,a,u),e[a]=u},s=(a,u,f)=>{a.offsetX=u,a.offsetY=f,this._eventHandler(a)};Tn(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(m,v)=>{i.addEventListener(this,m,v),e[m]=v},s=(m,v)=>{e[m]&&(i.removeEventListener(this,m,v),delete e[m])},a=(m,v)=>{this.canvas&&this.resize(m,v)};let u;const f=()=>{s("attach",f),this.attached=!0,this.resize(),r("resize",a),r("detach",u)};u=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",f)},i.isAttached(this.canvas)?f():u()}unbindEvents(){Tn(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Tn(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const s=r?"set":"remove";let a,u,f,m;for("dataset"===i&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),f=0,m=e.length;f<m;++f){u=e[f];const v=u&&this.getDatasetMeta(u.datasetIndex).controller;v&&v[s+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:a,index:u})=>{const f=this.getDatasetMeta(a);if(!f)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:f.data[u],index:u}});!_y(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const s=this.options.hover,a=(m,v)=>m.filter(x=>!v.some(S=>x.datasetIndex===S.datasetIndex&&x.index===S.index)),u=a(i,e),f=r?e:a(e,i);u.length&&this.updateHoverStyle(u,s.mode,!1),f.length&&s.mode&&this.updateHoverStyle(f,s.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},s=u=>(u.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const a=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:s=[],options:a}=this,f=this._getActiveElements(e,s,r,i),m=function Ik(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),v=function K1(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(e,this._lastEvent,r,m);r&&(this._lastEvent=null,On(a.onHover,[e,f,this],this),m&&On(a.onClick,[e,f,this],this));const x=!_y(f,s);return(x||i)&&(this._active=f,this._updateHoverStyles(f,s,i)),this._lastEvent=v,x}_getActiveElements(e,i,r,s){if("mouseout"===e.type)return[];if(!r)return i;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}})();function aw(){return Tn(Du.instances,n=>n._plugins.invalidate())}function yh(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function lw(n,t,e,i,r,s){const{x:a,y:u,startAngle:f,pixelMargin:m,innerRadius:v}=t,x=Math.max(t.outerRadius+i+e-m,0),S=v>0?v+i+e+m:0;let A=0;const O=r-f;if(i){const ut=((v>0?v-i:0)+(x>0?x-i:0))/2;A=(O-(0!==ut?O*ut/(ut+i):O))/2}const L=(O-Math.max(.001,O*x-e/gn)/x)/2,$=f+L+A,X=r-L-A,{outerStart:ee,outerEnd:le,innerStart:ce,innerEnd:xe}=function _U(n,t,e,i){const r=function X1(n){return b0(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),u=f=>{const m=(e-Math.min(s,f))*i/2;return Xi(f,0,Math.min(s,m))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Xi(r.innerStart,0,a),innerEnd:Xi(r.innerEnd,0,a)}}(t,S,x,X-$),ze=x-ee,Ge=x-le,pt=$+ee/ze,jt=X-le/Ge,nn=S+ce,ln=S+xe,xi=$+ce/nn,Xs=X-xe/ln;if(n.beginPath(),s){const Nn=(pt+jt)/2;if(n.arc(a,u,x,pt,Nn),n.arc(a,u,x,Nn,jt),le>0){const Ht=yh(Ge,jt,a,u);n.arc(Ht.x,Ht.y,le,jt,X+qi)}const Ze=yh(ln,X,a,u);if(n.lineTo(Ze.x,Ze.y),xe>0){const Ht=yh(ln,Xs,a,u);n.arc(Ht.x,Ht.y,xe,X+qi,Xs+Math.PI)}const ut=(X-xe/S+($+ce/S))/2;if(n.arc(a,u,S,X-xe/S,ut,!0),n.arc(a,u,S,ut,$+ce/S,!0),ce>0){const Ht=yh(nn,xi,a,u);n.arc(Ht.x,Ht.y,ce,xi+Math.PI,$-qi)}const Tt=yh(ze,$,a,u);if(n.lineTo(Tt.x,Tt.y),ee>0){const Ht=yh(ze,pt,a,u);n.arc(Ht.x,Ht.y,ee,$-qi,pt)}}else{n.moveTo(a,u);const Nn=Math.cos(pt)*x+a,Ze=Math.sin(pt)*x+u;n.lineTo(Nn,Ze);const ut=Math.cos(jt)*x+a,Tt=Math.sin(jt)*x+u;n.lineTo(ut,Tt)}n.closePath()}class Y1 extends hc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=u0(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:m,outerRadius:v,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),S=(this.options.spacing+this.options.borderWidth)/2,A=Xt(x,f-u),O=ch(s,u,f)&&u!==f,P=A>=pn||O,L=pl(a,m+S,v+S);return P&&L}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:m}=this.options,v=(r+s)/2,x=(a+u+m+f)/2;return{x:e+Math.cos(v)*x,y:i+Math.sin(v)*x}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>pn?Math.floor(i/pn):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const m=r*(1-Math.sin(Math.min(gn,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function yU(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:u}=t;let f=t.endAngle;if(s){lw(n,t,e,i,f,r);for(let m=0;m<s;++m)n.fill();isNaN(u)||(f=a+(u%pn||pn))}lw(n,t,e,i,f,r),n.fill()}(t,this,m,s,a),function vU(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:u,options:f}=t,{borderWidth:m,borderJoinStyle:v,borderDash:x,borderDashOffset:S}=f,A="inner"===f.borderAlign;if(!m)return;n.setLineDash(x||[]),n.lineDashOffset=S,A?(n.lineWidth=2*m,n.lineJoin=v||"round"):(n.lineWidth=m,n.lineJoin=v||"bevel");let O=t.endAngle;if(s){lw(n,t,e,i,O,r);for(let P=0;P<s;++P)n.stroke();isNaN(u)||(O=a+(u%pn||pn))}A&&function q1(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:u,innerRadius:f}=t;let m=r/u;n.beginPath(),n.arc(s,a,u,i-m,e+m),f>r?(m=r/f,n.arc(s,a,f,e+m,i-m,!0)):n.arc(s,a,r,e+qi,i-qi),n.closePath(),n.clip()}(n,t,O),s||(lw(n,t,e,i,O,r),n.stroke())}(t,this,m,s,a),t.restore()}}function Q1(n,t,e=t){n.lineCap=Xt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Xt(e.borderDash,t.borderDash)),n.lineDashOffset=Xt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Xt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Xt(e.borderWidth,t.borderWidth),n.strokeStyle=Xt(e.borderColor,t.borderColor)}function bU(n,t,e){n.lineTo(e.x,e.y)}function Z1(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:u}=t,f=Math.max(r,a),m=Math.min(s,u);return{count:i,start:f,loop:t.loop,ilen:m<f&&!(r<a&&s<a||r>u&&s>u)?i+m-f:m-f}}function xU(n,t,e,i){const{points:r,options:s}=t,{count:a,start:u,loop:f,ilen:m}=Z1(r,e,i),v=function wU(n){return n.stepped?xy:n.tension||"monotone"===n.cubicInterpolationMode?Ey:bU}(s);let A,O,P,{move:x=!0,reverse:S}=i||{};for(A=0;A<=m;++A)O=r[(u+(S?m-A:A))%a],!O.skip&&(x?(n.moveTo(O.x,O.y),x=!1):v(n,P,O,S,s.stepped),P=O);return f&&(O=r[(u+(S?m:0))%a],v(n,P,O,S,s.stepped)),!!f}function iS(n,t,e,i){const r=t.points,{count:s,start:a,ilen:u}=Z1(r,e,i),{move:f=!0,reverse:m}=i||{};let S,A,O,P,L,$,v=0,x=0;const X=le=>(a+(m?u-le:le))%s,ee=()=>{P!==L&&(n.lineTo(v,L),n.lineTo(v,P),n.lineTo(v,$))};for(f&&(A=r[X(0)],n.moveTo(A.x,A.y)),S=0;S<=u;++S){if(A=r[X(S)],A.skip)continue;const le=A.x,ce=A.y,xe=0|le;xe===O?(ce<P?P=ce:ce>L&&(L=ce),v=(x*v+le)/++x):(ee(),n.lineTo(le,ce),O=xe,x=0,P=L=ce),$=ce}ee()}function ug(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?xU:iS}const eO="function"==typeof Path2D;let cw=(()=>class n extends hc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||($k(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function hI(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:u}=function e1(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function A0(n,t,e,i){return i&&i.setContext&&e?function n1(n,t,e,i){const r=n._chart.getContext(),s=fI(n.options),{_datasetIndex:a,options:{spanGaps:u}}=n,f=e.length,m=[];let v=s,x=t[0].start,S=x;function A(O,P,L,$){const X=u?-1:1;if(O!==P){for(O+=f;e[O%f].skip;)O-=X;for(;e[P%f].skip;)P+=X;O%f!=P%f&&(m.push({start:O%f,end:P%f,loop:L,style:$}),v=$,x=P%f)}}for(const O of t){x=u?x:O.start;let L,P=e[x%f];for(S=x+1;S<=O.end;S++){const $=e[S%f];L=fI(i.setContext(Aa(r,{type:"segment",p0:P,p1:$,p0DataIndex:(S-1)%f,p1DataIndex:S%f,datasetIndex:a}))),pI(L,v)&&A(x,S-1,O.loop,v),P=$,v=L}x<S-1&&A(x,S-1,O.loop,v)}return m}(n,t,e,i):t}(n,!0===i?[{start:a,end:u,loop:s}]:function t1(n,t,e,i){const r=n.length,s=[];let f,a=t,u=n[t];for(f=t+1;f<=e;++f){const m=n[f%r];m.skip||m.stop?u.skip||(s.push({start:t%r,end:(f-1)%r,loop:i=!1}),t=a=m.stop?f:null):(a=f,u.skip&&(t=f)),u=m}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,u<a?u+r:u,!!n._fullLoop&&0===a&&u===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,s=e[i],a=this.points,u=dI(this,{property:i,start:s,end:s});if(!u.length)return;const f=[],m=function rS(n){return n.stepped?Yk:n.tension||"monotone"===n.cubicInterpolationMode?Qk:xu}(r);let v,x;for(v=0,x=u.length;v<x;++v){const{start:S,end:A}=u[v],O=a[S],P=a[A];if(O===P){f.push(O);continue}const $=m(O,P,Math.abs((s-O[i])/(P[i]-O[i])),r.stepped);$[i]=e[i],f.push($)}return 1===f.length?f[0]:f}pathSegment(e,i,r){return ug(this)(e,this,i,r)}path(e,i,r){const s=this.segments,a=ug(this);let u=this._loop;i=i||0,r=r||this.points.length-i;for(const f of s)u&=a(e,this,f,{start:i,end:i+r-1});return!!u}draw(e,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function EU(n,t,e,i){eO&&!t.options.segment?function J1(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Q1(n,t.options),n.stroke(r)}(n,t,e,i):function By(n,t,e,i){const{segments:r,options:s}=t,a=ug(t);for(const u of r)Q1(n,s,u.style),n.beginPath(),a(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function sS(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}let uw=(()=>class n extends hc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:a,y:u}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return sS(this,e,"x",i)}inYRange(e,i){return sS(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!oc(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,v0(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function oS(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let u,f,m,v,x;return n.horizontal?(x=a/2,u=Math.min(e,r),f=Math.max(e,r),m=i-x,v=i+x):(x=s/2,u=e-x,f=e+x,m=Math.min(i,r),v=Math.max(i,r)),{left:u,top:m,right:f,bottom:v}}function Iu(n,t,e,i){return n?0:Xi(t,e,i)}function vh(n,t,e,i){const r=null===t,s=null===e,u=n&&!(r&&s)&&oS(n,i);return u&&(r||pl(t,u.left,u.right))&&(s||pl(e,u.top,u.bottom))}function iO(n,t){n.rect(t.x,t.y,t.w,t.h)}function dw(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class aS extends hc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function nO(n){const t=oS(n),e=t.right-t.left,i=t.bottom-t.top,r=function tO(n,t,e){const r=n.borderSkipped,s=JD(n.options.borderWidth);return{t:Iu(r.top,s.top,0,e),r:Iu(r.right,s.right,0,t),b:Iu(r.bottom,s.bottom,0,e),l:Iu(r.left,s.left,0,t)}}(n,e/2,i/2),s=function CU(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=dh(r),a=Math.min(t,e),u=n.borderSkipped,f=i||hn(r);return{topLeft:Iu(!f||u.top||u.left,s.topLeft,0,a),topRight:Iu(!f||u.top||u.right,s.topRight,0,a),bottomLeft:Iu(!f||u.bottom||u.left,s.bottomLeft,0,a),bottomRight:Iu(!f||u.bottom||u.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),u=function Uy(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?qm:iO;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),u(t,dw(a,e,s)),t.clip(),u(t,dw(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,dw(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return vh(this,t,e,i)}inXRange(t,e){return vh(this,t,null,e)}inYRange(t,e){return vh(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}var rO=Object.freeze({__proto__:null,ArcElement:Y1,BarElement:aS,LineElement:cw,PointElement:uw});const hw=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lS=hw.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function jy(n){return hw[n%hw.length]}function cS(n){return lS[n%lS.length]}function uS(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var dO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r,a=uS(i)||function cO(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&uS(s)||function uO(){return"rgba(0,0,0,0.1)"!==Bn.borderColor||"rgba(0,0,0,0.1)"!==Bn.backgroundColor}();if(!e.forceOverride&&a)return;const u=function lO(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof V0?t=function oO(n,t){return n.backgroundColor=n.data.map(()=>jy(t++)),t}(e,t):r instanceof CI?t=function aO(n,t){return n.backgroundColor=n.data.map(()=>cS(t++)),t}(e,t):r&&(t=function sO(n,t){return n.borderColor=jy(t),n.backgroundColor=cS(t),++t}(e,t))}}(n);i.forEach(u)}};function fw(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Hy(n){n.data.datasets.forEach(t=>{fw(t)})}var mO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Hy(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:u}=r,f=n.getDatasetMeta(s),m=a||r.data;if("y"===ti([u,n.options.indexAxis])||!f.controller.supportsDecimation)return;const v=n.scales[f.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let O,{start:x,count:S}=function pO(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:u,minDefined:f,maxDefined:m}=s.getUserBounds();return f&&(i=Xi(ml(t,s.axis,a).lo,0,e-1)),r=m?Xi(ml(t,s.axis,u).hi+1,i,e)-i:e-i,{start:i,count:r}}(f,m);if(S<=(e.threshold||4*i))fw(r);else{switch(qt(a)&&(r._data=m,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(P){this._data=P}})),e.algorithm){case"lttb":O=function hO(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],u=(e-2)/(s-2);let f=0;const m=t+e-1;let x,S,A,O,P,v=t;for(a[f++]=n[v],x=0;x<s-2;x++){let X,L=0,$=0;const ee=Math.floor((x+1)*u)+1+t,le=Math.min(Math.floor((x+2)*u)+1,e)+t,ce=le-ee;for(X=ee;X<le;X++)L+=n[X].x,$+=n[X].y;L/=ce,$/=ce;const xe=Math.floor(x*u)+1+t,ze=Math.min(Math.floor((x+1)*u)+1,e)+t,{x:Ge,y:pt}=n[v];for(A=O=-1,X=xe;X<ze;X++)O=.5*Math.abs((Ge-L)*(n[X].y-pt)-(Ge-n[X].x)*($-pt)),O>A&&(A=O,S=n[X],P=X);a[f++]=S,v=P}return a[f++]=n[m],a}(m,x,S,i,e);break;case"min-max":O=function fO(n,t,e,i){let a,u,f,m,v,x,S,A,O,P,r=0,s=0;const L=[],X=n[t].x,le=n[t+e-1].x-X;for(a=t;a<t+e;++a){u=n[a],f=(u.x-X)/le*i,m=u.y;const ce=0|f;if(ce===v)m<O?(O=m,x=a):m>P&&(P=m,S=a),r=(s*r+u.x)/++s;else{const xe=a-1;if(!qt(x)&&!qt(S)){const ze=Math.min(x,S),Ge=Math.max(x,S);ze!==A&&ze!==xe&&L.push({...n[ze],x:r}),Ge!==A&&Ge!==xe&&L.push({...n[Ge],x:r})}a>0&&xe!==A&&L.push(n[xe]),L.push(u),v=ce,s=0,O=P=m,x=S=A=a}}return L}(m,x,S,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=O}})},destroy(n){Hy(n)}};function zy(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=Eo(r),s=Eo(s)),{property:n,start:r,end:s}}function os(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function pw(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function mw(n,t){let e=[],i=!1;return li(n)?(i=!0,e=n):e=function DU(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:u})=>{u=os(a,u,r);const f=r[a],m=r[u];null!==i?(s.push({x:f.x,y:i}),s.push({x:m.x,y:i})):null!==e&&(s.push({x:e,y:f.y}),s.push({x:e,y:m.y}))}),s}(n,t),e.length?new cw({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function hS(n){return n&&!1!==n.fill}function fS(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Oi(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function gO(n,t,e){const i=function _w(n){const t=n.options,e=t.fill;let i=Xt(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(hn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Oi(r)&&Math.floor(r)===r?function gw(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function IU(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:u,point:f}=mS(s,t,"x");if(!(!f||a&&u))if(a)i.unshift(f);else if(n.push(f),!u)break}n.push(...i)}function mS(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let u=!1,f=!1;for(let m=0;m<s.length;m++){const v=s[m],x=a[v.start][e],S=a[v.end][e];if(pl(r,x,S)){u=r===x,f=r===S;break}}return{first:u,last:f,point:i}}class gS{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:pn}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function $y(n,t,e){const i=function yO(n){const{chart:t,fill:e,line:i}=n;if(Oi(e))return function vO(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function yw(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,u=function _O(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);u.push(mw({x:null,y:t.bottom},i));for(let f=0;f<s.length;f++){const m=s[f];for(let v=m.start;v<=m.end;v++)IU(r,a[v],u)}return new cw({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function bO(n){return(n.scale||{}).getPointPositionForValue?function SU(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function pS(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:hn(n)?n.value:t.getBaseValue(),i}(e,t,s),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,s);return new gS({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(a)})}for(let f=0;f<r;++f)u.push(t.getPointPositionForValue(f,a));return u}(n):function _S(n){const{scale:t={},fill:e}=n,i=function Su(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:hn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Oi(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof gS?r:mw(r,i)}(t),{line:r,scale:s,axis:a}=t,u=r.options,f=u.fill,m=u.backgroundColor,{above:v=m,below:x=m}=f||{};i&&r.points.length&&(ac(n,e),function wO(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:u}=t,f=e._loop?"angle":t.axis;n.save(),"x"===f&&s!==r&&(vw(n,i,a.top),xO(n,{line:e,target:i,color:r,scale:u,property:f}),n.restore(),n.save(),vw(n,i,a.bottom)),xO(n,{line:e,target:i,color:s,scale:u,property:f}),n.restore()}(n,{line:r,target:i,above:v,below:x,area:e,scale:s,axis:a}),wy(n))}function vw(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const u of i){const{start:f,end:m}=u,v=r[f],x=r[os(f,m,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),a=!!t.pathSegment(n,u,{move:a}),a?n.closePath():n.lineTo(x.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function xO(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,u=function dS(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const u of i){let{start:f,end:m}=u;m=os(f,m,r);const v=zy(e,r[f],r[m],u.loop);if(!t.segments){a.push({source:u,target:v,start:r[f],end:r[m]});continue}const x=dI(t,v);for(const S of x){const A=zy(e,s[S.start],s[S.end],S.loop),O=uI(u,r,A);for(const P of O)a.push({source:P,target:S,start:{[e]:pw(v,A,"start",Math.max)},end:{[e]:pw(v,A,"end",Math.min)}})}}return a}(e,i,r);for(const{source:f,target:m,start:v,end:x}of u){const{style:{backgroundColor:S=s}={}}=f,A=!0!==i;n.save(),n.fillStyle=S,bw(n,a,A&&zy(r,v,x)),n.beginPath();const O=!!e.pathSegment(n,f);let P;if(A){O?n.closePath():ww(n,i,x,r);const L=!!i.pathSegment(n,m,{move:O,reverse:!0});P=O&&L,P||ww(n,i,v,r)}n.closePath(),n.fill(P?"evenodd":"nonzero"),n.restore()}}function bw(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:u}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,u-a,r-i),n.clip())}function ww(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var yS={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,u,f;for(a=0;a<i;++a)s=n.getDatasetMeta(a),u=s.dataset,f=null,u&&u.options&&u instanceof cw&&(f={visible:n.isDatasetVisible(a),index:a,fill:gO(u,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=f,r.push(f);for(a=0;a<i;++a)f=r[a],f&&!1!==f.fill&&(f.fill=fS(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const u=r[a].$filler;u&&(u.line.updateControlPoints(s,u.axis),i&&u.fill&&$y(n.ctx,u,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;hS(s)&&$y(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!hS(i)||"beforeDatasetDraw"!==e.drawTime||$y(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class xw extends hc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=On(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=rr(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=vS(i,s);let m,v;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,v=this._fitRows(a,s,u,f)+10):(v=this.maxHeight,m=this._fitCols(a,r,u,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],v=r+u;let x=t;s.textAlign="left",s.textBaseline="middle";let S=-1,A=-v;return this.legendItems.forEach((O,P)=>{const L=i+e/2+s.measureText(O.text).width;(0===P||m[m.length-1]+L+2*u>a)&&(x+=v,m[m.length-(P>0?0:1)]=0,A+=v,S++),f[P]={left:0,top:A,row:S,width:L,height:r},m[m.length-1]+=L+u}),x}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],v=a-t;let x=u,S=0,A=0,O=0,P=0;return this.legendItems.forEach((L,$)=>{const{itemWidth:X,itemHeight:ee}=function sp(n,t,e,i,r){const s=function Gy(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function wS(n,t,e){let i=n;return"string"!=typeof t.text&&(i=Ew(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,L,r);$>0&&A+ee+2*u>v&&(x+=S+u,m.push({width:S,height:A}),O+=S+u,P++,S=A=0),f[$]={left:O,top:A,col:P,width:X,height:ee},S=Math.max(S,X),A+=ee+u}),x+=S,m.push({width:S,height:A}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Qf(s,this.left,this.width);if(this.isHorizontal()){let u=0,f=ss(i,this.left+r,this.right-this.lineWidths[u]);for(const m of e)u!==m.row&&(u=m.row,f=ss(i,this.left+r,this.right-this.lineWidths[u])),m.top+=this.top+t+r,m.left=a.leftForLtr(a.x(f),m.width),f+=m.width+r}else{let u=0,f=ss(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const m of e)m.col!==u&&(u=m.col,f=ss(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+r,m.left=a.leftForLtr(a.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ac(t,this),this._draw(),wy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,u=Bn.color,f=Qf(t.rtl,this.left,this.width),m=rr(a.font),{padding:v}=a,x=m.size,S=x/2;let A;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:O,boxHeight:P,itemHeight:L}=vS(a,x),ee=this.isHorizontal(),le=this._computeTitleHeight();A=ee?{x:ss(s,this.left+v,this.right-i[0]),y:this.top+v+le,line:0}:{x:this.left+v,y:ss(s,this.top+le+v,this.bottom-e[0].height),line:0},T0(this.ctx,t.textDirection);const ce=L+v;this.legendItems.forEach((xe,ze)=>{r.strokeStyle=xe.fontColor,r.fillStyle=xe.fontColor;const Ge=r.measureText(xe.text).width,pt=f.textAlign(xe.textAlign||(xe.textAlign=a.textAlign)),jt=O+S+Ge;let nn=A.x,ln=A.y;f.setWidth(this.width),ee?ze>0&&nn+jt+v>this.right&&(ln=A.y+=ce,A.line++,nn=A.x=ss(s,this.left+v,this.right-i[A.line])):ze>0&&ln+ce>this.bottom&&(nn=A.x=nn+e[A.line].width+v,A.line++,ln=A.y=ss(s,this.top+le+v,this.bottom-e[A.line].height)),function(xe,ze,Ge){if(isNaN(O)||O<=0||isNaN(P)||P<0)return;r.save();const pt=Xt(Ge.lineWidth,1);if(r.fillStyle=Xt(Ge.fillStyle,u),r.lineCap=Xt(Ge.lineCap,"butt"),r.lineDashOffset=Xt(Ge.lineDashOffset,0),r.lineJoin=Xt(Ge.lineJoin,"miter"),r.lineWidth=pt,r.strokeStyle=Xt(Ge.strokeStyle,u),r.setLineDash(Xt(Ge.lineDash,[])),a.usePointStyle){const jt={radius:P*Math.SQRT2/2,pointStyle:Ge.pointStyle,rotation:Ge.rotation,borderWidth:pt},nn=f.xPlus(xe,O/2);KD(r,jt,nn,ze+S,a.pointStyleWidth&&O)}else{const jt=ze+Math.max((x-P)/2,0),nn=f.leftForLtr(xe,O),ln=dh(Ge.borderRadius);r.beginPath(),Object.values(ln).some(xi=>0!==xi)?qm(r,{x:nn,y:jt,w:O,h:P,radius:ln}):r.rect(nn,jt,O,P),r.fill(),0!==pt&&r.stroke()}r.restore()}(f.x(nn),ln,xe),nn=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(pt,nn+O+S,ee?nn+jt:this.right,t.rtl),function(xe,ze,Ge){bu(r,Ge.text,xe,ze+L/2,m,{strikethrough:Ge.hidden,textAlign:f.textAlign(Ge.textAlign)})}(f.x(nn),ln,xe),ee?A.x+=jt+v:A.y+="string"!=typeof xe.text?Ew(xe,m.lineHeight)+v:ce}),aI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=rr(e.font),r=Yi(e.padding);if(!e.display)return;const s=Qf(t.rtl,this.left,this.width),a=this.ctx,u=e.position,m=r.top+i.size/2;let v,x=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),v=this.top+m,x=ss(t.align,x,this.right-S);else{const O=this.columnSizes.reduce((P,L)=>Math.max(P,L.height),0);v=m+ss(t.align,this.top,this.bottom-O-t.labels.padding-this._computeTitleHeight())}const A=ss(u,x,x+S);a.textAlign=s.textAlign(f0(u)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,bu(a,e.text,A,v,i)}_computeTitleHeight(){const t=this.options.title,e=rr(t.font),i=Yi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(pl(t,this.left,this.right)&&pl(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],pl(t,r.left,r.left+r.width)&&pl(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function EO(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&On(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&On(e.onHover,[t,i,this],this)}else i&&On(e.onClick,[t,i,this],this)}}function Ew(n,t){return t*(n.text?n.text.length:0)}var CO={id:"legend",_element:xw,start(n,t,e){const i=n.legend=new xw({ctx:n.ctx,options:e,chart:n});pr.configure(n,i,e),pr.addBox(n,i)},stop(n){pr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;pr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),v=Yi(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:s,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:a&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class xS extends hc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=li(i.text)?i.text.length:1;this._padding=Yi(i.padding);const s=r*rr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,u=a.align;let m,v,x,f=0;return this.isHorizontal()?(v=ss(u,i,s),x=e+t,m=s-i):("left"===a.position?(v=i+t,x=ss(u,r,e),f=-.5*gn):(v=s-t,x=ss(u,e,r),f=.5*gn),m=r-e),{titleX:v,titleY:x,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=rr(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:f,rotation:m}=this._drawArgs(s);bu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:f0(e.align),textBaseline:"middle",translation:[a,u]})}}var DO={id:"title",_element:xS,start(n,t,e){!function ES(n,t){const e=new xS({ctx:n.ctx,options:t,chart:n});pr.configure(n,e,t),pr.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){pr.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;pr.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wy=new WeakMap;var TU={id:"subtitle",start(n,t,e){const i=new xS({ctx:n.ctx,options:e,chart:n});pr.configure(n,i,e),pr.addBox(n,i),Wy.set(n,i)},stop(n){pr.removeBox(n,Wy.get(n)),Wy.delete(n)},beforeUpdate(n,t,e){const i=Wy.get(n);pr.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ky={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,s=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++s}}return 0!==s&&0!==i.size&&{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,u,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const f=n[s].element;if(f&&f.hasValue()){const v=yy(t,f.getCenterPoint());v<r&&(r=v,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function pc(n,t){return t&&(li(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function gl(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function IO(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:u}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function CS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:u}=t,f=rr(t.bodyFont),m=rr(t.titleFont),v=rr(t.footerFont),x=s.length,S=r.length,A=i.length,O=Yi(t.padding);let P=O.height,L=0,$=i.reduce((le,ce)=>le+ce.before.length+ce.lines.length+ce.after.length,0);$+=n.beforeBody.length+n.afterBody.length,x&&(P+=x*m.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),$&&(P+=A*(t.displayColors?Math.max(u,f.lineHeight):f.lineHeight)+($-A)*f.lineHeight+($-1)*t.bodySpacing),S&&(P+=t.footerMarginTop+S*v.lineHeight+(S-1)*t.footerSpacing);let X=0;const ee=function(le){L=Math.max(L,e.measureText(le).width+X)};return e.save(),e.font=m.string,Tn(n.title,ee),e.font=f.string,Tn(n.beforeBody.concat(n.afterBody),ee),X=t.displayColors?a+2+t.boxPadding:0,Tn(i,le=>{Tn(le.before,ee),Tn(le.lines,ee),Tn(le.after,ee)}),X=0,e.font=v.string,Tn(n.footer,ee),e.restore(),L+=O.width,{width:L,height:P}}function MU(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:u,right:f}}=n;let m="center";return"center"===i?m=r<=(u+f)/2?"left":"right":r<=s/2?m="left":r>=a-s/2&&(m="right"),function AU(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(m,n,t,e)&&(m="center"),m}function TO(n,t,e){const i=e.yAlign||t.yAlign||function SO(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||MU(n,t,e,i),yAlign:i}}function Cw(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:u,yAlign:f}=e,m=r+s,{topLeft:v,topRight:x,bottomLeft:S,bottomRight:A}=dh(a);let O=function RU(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,u);const P=function kU(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,f,m);return"center"===f?"left"===u?O+=m:"right"===u&&(O-=m):"left"===u?O-=Math.max(v,S)+r:"right"===u&&(O+=Math.max(x,A)+r),{x:Xi(O,0,i.width-t.width),y:Xi(P,0,i.height-t.height)}}function bh(n,t,e){const i=Yi(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function DS(n){return pc([],gl(n))}function Dw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Tu={beforeTitle:Ia,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ia,beforeBody:Ia,beforeLabel:Ia,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return qt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ia,afterBody:Ia,beforeFooter:Ia,footer:Ia,afterFooter:Ia};function Cs(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Tu[t].call(e,i):r}let qy=(()=>class n extends hc{static positioners=Ky;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,a=new Ty(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function AO(n,t,e){return Aa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,s=Cs(r,"beforeTitle",this,e),a=Cs(r,"title",this,e),u=Cs(r,"afterTitle",this,e);let f=[];return f=pc(f,gl(s)),f=pc(f,gl(a)),f=pc(f,gl(u)),f}getBeforeBody(e,i){return DS(Cs(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,s=[];return Tn(e,a=>{const u={before:[],lines:[],after:[]},f=Dw(r,a);pc(u.before,gl(Cs(f,"beforeLabel",this,a))),pc(u.lines,Cs(f,"label",this,a)),pc(u.after,gl(Cs(f,"afterLabel",this,a))),s.push(u)}),s}getAfterBody(e,i){return DS(Cs(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,s=Cs(r,"beforeFooter",this,e),a=Cs(r,"footer",this,e),u=Cs(r,"afterFooter",this,e);let f=[];return f=pc(f,gl(s)),f=pc(f,gl(a)),f=pc(f,gl(u)),f}_createItems(e){const i=this._active,r=this.chart.data,s=[],a=[],u=[];let m,v,f=[];for(m=0,v=i.length;m<v;++m)f.push(IO(this.chart,i[m]));return e.filter&&(f=f.filter((x,S,A)=>e.filter(x,S,A,r))),e.itemSort&&(f=f.sort((x,S)=>e.itemSort(x,S,r))),Tn(f,x=>{const S=Dw(e.callbacks,x);s.push(Cs(S,"labelColor",this,x)),a.push(Cs(S,"labelPointStyle",this,x)),u.push(Cs(S,"labelTextColor",this,x))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=u,this.dataPoints=f,f}update(e,i){const r=this.options.setContext(this.getContext()),s=this._active;let a,u=[];if(s.length){const f=Ky[r.position].call(this,s,this._eventPosition);u=this._createItems(r),this.title=this.getTitle(u,r),this.beforeBody=this.getBeforeBody(u,r),this.body=this.getBody(u,r),this.afterBody=this.getAfterBody(u,r),this.footer=this.getFooter(u,r);const m=this._size=CS(this,r),v=Object.assign({},f,m),x=TO(this.chart,r,v),S=Cw(r,v,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,a={opacity:1,x:S.x,y:S.y,width:m.width,height:m.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=u,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,s){const a=this.getCaretPosition(e,r,s);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(e,i,r){const{xAlign:s,yAlign:a}=this,{caretSize:u,cornerRadius:f}=r,{topLeft:m,topRight:v,bottomLeft:x,bottomRight:S}=dh(f),{x:A,y:O}=e,{width:P,height:L}=i;let $,X,ee,le,ce,xe;return"center"===a?(ce=O+L/2,"left"===s?($=A,X=$-u,le=ce+u,xe=ce-u):($=A+P,X=$+u,le=ce-u,xe=ce+u),ee=$):(X="left"===s?A+Math.max(m,x)+u:"right"===s?A+P-Math.max(v,S)-u:this.caretX,"top"===a?(le=O,ce=le-u,$=X-u,ee=X+u):(le=O+L,ce=le+u,$=X+u,ee=X-u),xe=le),{x1:$,x2:X,x3:ee,y1:le,y2:ce,y3:xe}}drawTitle(e,i,r){const s=this.title,a=s.length;let u,f,m;if(a){const v=Qf(r.rtl,this.x,this.width);for(e.x=bh(this,r.titleAlign,r),i.textAlign=v.textAlign(r.titleAlign),i.textBaseline="middle",u=rr(r.titleFont),f=r.titleSpacing,i.fillStyle=r.titleColor,i.font=u.string,m=0;m<a;++m)i.fillText(s[m],v.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+f,m+1===a&&(e.y+=r.titleMarginBottom-f)}}_drawColorBox(e,i,r,s,a){const u=this.labelColors[r],f=this.labelPointStyles[r],{boxHeight:m,boxWidth:v}=a,x=rr(a.bodyFont),S=bh(this,"left",a),A=s.x(S),P=i.y+(m<x.lineHeight?(x.lineHeight-m)/2:0);if(a.usePointStyle){const L={radius:Math.min(v,m)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},$=s.leftForLtr(A,v)+v/2,X=P+m/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,v0(e,L,$,X),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,v0(e,L,$,X)}else{e.lineWidth=hn(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const L=s.leftForLtr(A,v),$=s.leftForLtr(s.xPlus(A,1),v-2),X=dh(u.borderRadius);Object.values(X).some(ee=>0!==ee)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,qm(e,{x:L,y:P,w:v,h:m,radius:X}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),qm(e,{x:$,y:P+1,w:v-2,h:m-2,radius:X}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(L,P,v,m),e.strokeRect(L,P,v,m),e.fillStyle=u.backgroundColor,e.fillRect($,P+1,v-2,m-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:s}=this,{bodySpacing:a,bodyAlign:u,displayColors:f,boxHeight:m,boxWidth:v,boxPadding:x}=r,S=rr(r.bodyFont);let A=S.lineHeight,O=0;const P=Qf(r.rtl,this.x,this.width),L=function(pt){i.fillText(pt,P.x(e.x+O),e.y+A/2),e.y+=A+a},$=P.textAlign(u);let X,ee,le,ce,xe,ze,Ge;for(i.textAlign=u,i.textBaseline="middle",i.font=S.string,e.x=bh(this,$,r),i.fillStyle=r.bodyColor,Tn(this.beforeBody,L),O=f&&"right"!==$?"center"===u?v/2+x:v+2+x:0,ce=0,ze=s.length;ce<ze;++ce){for(X=s[ce],ee=this.labelTextColors[ce],i.fillStyle=ee,Tn(X.before,L),le=X.lines,f&&le.length&&(this._drawColorBox(i,e,ce,P,r),A=Math.max(S.lineHeight,m)),xe=0,Ge=le.length;xe<Ge;++xe)L(le[xe]),A=S.lineHeight;Tn(X.after,L)}O=0,A=S.lineHeight,Tn(this.afterBody,L),e.y-=a}drawFooter(e,i,r){const s=this.footer,a=s.length;let u,f;if(a){const m=Qf(r.rtl,this.x,this.width);for(e.x=bh(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=m.textAlign(r.footerAlign),i.textBaseline="middle",u=rr(r.footerFont),i.fillStyle=r.footerColor,i.font=u.string,f=0;f<a;++f)i.fillText(s[f],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){const{xAlign:a,yAlign:u}=this,{x:f,y:m}=e,{width:v,height:x}=r,{topLeft:S,topRight:A,bottomLeft:O,bottomRight:P}=dh(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(f+S,m),"top"===u&&this.drawCaret(e,i,r,s),i.lineTo(f+v-A,m),i.quadraticCurveTo(f+v,m,f+v,m+A),"center"===u&&"right"===a&&this.drawCaret(e,i,r,s),i.lineTo(f+v,m+x-P),i.quadraticCurveTo(f+v,m+x,f+v-P,m+x),"bottom"===u&&this.drawCaret(e,i,r,s),i.lineTo(f+O,m+x),i.quadraticCurveTo(f,m+x,f,m+x-O),"center"===u&&"left"===a&&this.drawCaret(e,i,r,s),i.lineTo(f,m+S),i.quadraticCurveTo(f,m,f+S,m),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const u=Ky[e.position].call(this,this._active,this._eventPosition);if(!u)return;const f=this._size=CS(this,e),m=Object.assign({},u,this._size),v=TO(i,e,m),x=Cw(e,m,v,i);(s._to!==x.x||a._to!==x.y)&&(this.xAlign=v.xAlign,this.yAlign=v.yAlign,this.width=f.width,this.height=f.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const u=Yi(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,i),T0(e,i.textDirection),a.y+=u.top,this.drawTitle(a,e,i),this.drawBody(a,e,i),this.drawFooter(a,e,i),aI(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,s=e.map(({datasetIndex:f,index:m})=>{const v=this.chart.getDatasetMeta(f);if(!v)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:v.data[m],index:m}}),a=!_y(r,s),u=this._positionChanged(s,i);(a||u)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],u=this._getActiveElements(e,a,i,r),f=this._positionChanged(u,e),m=i||!_y(u,a)||f;return m&&(this._active=u,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),m}_getActiveElements(e,i,r,s){const a=this.options;if("mouseout"===e.type)return[];if(!s)return i.filter(f=>this.chart.data.datasets[f.datasetIndex]&&void 0!==this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index));const u=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&u.reverse(),u}_positionChanged(e,i){const{caretX:r,caretY:s,options:a}=this,u=Ky[a.position].call(this,e,i);return!1!==u&&(r!==u.x||s!==u.y)}})();var Iw={id:"tooltip",_element:qy,positioners:Ky,afterInit(n,t,e){e&&(n.tooltip=new qy({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},MO=Object.freeze({__proto__:null,Colors:dO,Decimation:mO,Filler:yS,Legend:CO,SubTitle:TU,Title:DO,Tooltip:Iw});function RO(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let OU=(()=>class n extends rp{static id="category";static defaults={ticks:{callback:RO}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:s,label:a}of i)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(qt(e))return null;const r=this.getLabels();return((n,t)=>null===n?null:Xi(Math.round(n),0,t))(i=isFinite(i)&&r[i]===e?i:function Tw(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(r,e,Xt(i,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=0===e&&i===a.length-1?a:a.slice(e,i+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let u=e;u<=i;u++)s.push({value:u});return s}getLabelForValue(e){return RO.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function Aw(n,t,{horizontal:e,minRotation:i}){const r=Us(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}class Yy extends rp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return qt(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=f=>r=e?r:f,u=f=>s=i?s:f;if(t){const f=Jo(r),m=Jo(s);f<0&&m<0?u(0):f>0&&m>0&&a(0)}if(r===s){let f=0===s?1:Math.abs(.05*s);u(s+f),t||a(r-f)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function PU(n,t){const e=[],{bounds:r,step:s,min:a,max:u,precision:f,count:m,maxTicks:v,maxDigits:x,includeBounds:S}=n,A=s||1,O=v-1,{min:P,max:L}=t,$=!qt(a),X=!qt(u),ee=!qt(m),le=(L-P)/(x+1);let xe,ze,Ge,pt,ce=CD((L-P)/O/A)*A;if(ce<1e-14&&!$&&!X)return[{value:P},{value:L}];pt=Math.ceil(L/ce)-Math.floor(P/ce),pt>O&&(ce=CD(pt*ce/O/A)*A),qt(f)||(xe=Math.pow(10,f),ce=Math.ceil(ce*xe)/xe),"ticks"===r?(ze=Math.floor(P/ce)*ce,Ge=Math.ceil(L/ce)*ce):(ze=P,Ge=L),$&&X&&s&&function ID(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((u-a)/s,ce/1e3)?(pt=Math.round(Math.min((u-a)/ce,v)),ce=(u-a)/pt,ze=a,Ge=u):ee?(ze=$?a:ze,Ge=X?u:Ge,pt=m-1,ce=(Ge-ze)/pt):(pt=(Ge-ze)/ce,pt=sc(pt,Math.round(pt),ce/1e3)?Math.round(pt):Math.ceil(pt));const jt=Math.max(c0(ce),c0(ze));xe=Math.pow(10,qt(f)?jt:f),ze=Math.round(ze*xe)/xe,Ge=Math.round(Ge*xe)/xe;let nn=0;for($&&(S&&ze!==a?(e.push({value:a}),ze<a&&nn++,sc(Math.round((ze+nn*ce)*xe)/xe,a,Aw(a,le,n))&&nn++):ze<a&&nn++);nn<pt;++nn){const ln=Math.round((ze+nn*ce)*xe)/xe;if(X&&ln>u)break;e.push({value:ln})}return X&&S&&Ge!==u?e.length&&sc(e[e.length-1].value,u,Aw(u,le,n))?e[e.length-1].value=u:e.push({value:u}):(!X||Ge===u)&&e.push({value:Ge}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&a0(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Kf(t,this.chart.options.locale,this.options.ticks.format)}}const dg=n=>Math.floor(yu(n)),wh=(n,t)=>Math.pow(10,dg(n)+t);function Mw(n){return n/Math.pow(10,dg(n))==1}function Rw(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function Qy(n){const t=n.ticks;if(t.display&&n.display){const e=Yi(t.backdropPadding);return Xt(t.font&&t.font.size,Bn.font.size)+e.height}return 0}function kw(n,t,e){return e=li(e)?e:[e],{w:WD(n,t.string,e),h:e.length*t.lineHeight}}function NO(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Ow(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let u=0,f=0;i.start<t.l?(u=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(f=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+f))}function FO(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:u}=e,f=n.getPointPosition(t,i+r+a,s),m=Math.round(l0(Eo(f.angle+qi))),v=function BO(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(f.y,u.h,m),x=function FU(n){return 0===n||180===n?"center":n<180?"left":"right"}(m),S=function VO(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(f.x,u.w,x);return{visible:!0,x:f.x,y:v,textAlign:x,left:S,top:v,right:S+u.w,bottom:v+u.h}}function LO(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:s}=n;return!(oc({x:e,y:i},t)||oc({x:e,y:s},t)||oc({x:r,y:i},t)||oc({x:r,y:s},t))}function UO(n,t,e){const{left:i,top:r,right:s,bottom:a}=e,{backdropColor:u}=t;if(!qt(u)){const f=dh(t.borderRadius),m=Yi(t.backdropPadding);n.fillStyle=u;const v=i-m.left,x=r-m.top,S=s-i+m.width,A=a-r+m.height;Object.values(f).some(O=>0!==O)?(n.beginPath(),qm(n,{x:v,y:x,w:S,h:A,radius:f}),n.fill()):n.fillRect(v,x,S,A)}}function Pw(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,pn);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}const hg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Do=Object.keys(hg);function MS(n,t){return n-t}function Zy(n,t){if(qt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),Oi(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!Wf(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function Nw(n,t,e,i){const r=Do.length;for(let s=Do.indexOf(n);s<r-1;++s){const a=hg[Do[s]];if(a.common&&Math.ceil((e-t)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=i)return Do[s]}return Do[r-1]}function fg(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=vy(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function kS(n,t,e){const i=[],r={},s=t.length;let a,u;for(a=0;a<s;++a)u=t[a],r[u]=a,i.push({value:u,major:!1});return 0!==s&&e?function $O(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let u,f;for(u=s;u<=a;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}(n,i,r,e):i}let Jy=(()=>class n extends rp{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),s=this._adapter=new II__date(e.adapters.date);s.init(i),fl(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:Zy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:u,maxDefined:f}=this.getUserBounds();function m(v){!u&&!isNaN(v.min)&&(s=Math.min(s,v.min)),!f&&!isNaN(v.max)&&(a=Math.max(a,v.max))}(!u||!f)&&(m(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&m(this.getMinMax(!1))),s=Oi(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),a=Oi(a)&&!isNaN(a)?a:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,f=function AD(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,a,this.max);return this._unit=i.unit||(r.autoSkip?Nw(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function RS(n,t,e,i,r){for(let s=Do.length-1;s>=Do.indexOf(e);s--){const a=Do[s];if(hg[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return Do[e?Do.indexOf(e):0]}(this,f.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function zO(n){for(let t=Do.indexOf(n)+1,e=Do.length;t<e;++t)if(hg[Do[t]].common)return Do[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&f.reverse(),kS(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s,a,i=0,r=0;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),i=1===e.length?1-s:(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),r=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;i=Xi(i,0,u),r=Xi(r,0,u),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,s=this.options,a=s.time,u=a.unit||Nw(a.minUnit,i,r,this._getLabelCapacity(i)),f=Xt(s.ticks.stepSize,1),m="week"===u&&a.isoWeekday,v=Wf(m)||!0===m,x={};let A,O,S=i;if(v&&(S=+e.startOf(S,"isoWeek",m)),S=+e.startOf(S,v?"day":u),e.diff(r,i,u)>1e5*f)throw new Error(i+" and "+r+" are too far apart with stepSize of "+f+" "+u);const P="data"===s.ticks.source&&this.getDataTimestamps();for(A=S,O=0;A<r;A=+e.add(A,f,u),O++)fg(x,A,P);return(A===r||"ticks"===s.bounds||1===O)&&fg(x,A,P),Object.keys(x).sort(MS).map(L=>+L)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,s){const a=this.options,u=a.ticks.callback;if(u)return On(u,[e,i,r],this);const f=a.time.displayFormats,m=this._unit,v=this._majorUnit,S=v&&f[v],A=r[i];return this._adapter.format(e,s||(v&&S&&A&&A.major?S:m&&f[m]))}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,s=Us(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(s),u=Math.sin(s),f=this._resolveTickFontOptions(0).size;return{w:r*a+f*u,h:r*u+f*a}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,a=this._tickFormatFunction(e,0,kS(this,[e],this._majorUnit),s),u=this._getLabelSize(a),f=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return f>0?f:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)e.push(Zy(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return RD(e.sort(MS))}})();function pg(n,t,e){let s,a,u,f,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ml(n,"pos",t)),({pos:s,time:u}=n[i]),({pos:a,time:f}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ml(n,"time",t)),({time:s,pos:u}=n[i]),({time:a,pos:f}=n[r]));const m=a-s;return m?u+(f-u)*(t-s)/m:u}var GO=Object.freeze({__proto__:null,CategoryScale:OU,LinearScale:class kO extends Yy{static id="linear";static defaults={ticks:{callback:qf.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Oi(t)?t:0,this.max=Oi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Us(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class PO extends rp{static id="logarithmic";static defaults={ticks:{callback:qf.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Yy.prototype.parse.apply(this,[t,e]);if(0!==i)return Oi(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Oi(t)?Math.max(0,t):null,this.max=Oi(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Oi(this._userMin)&&(this.min=t===wh(this.min,0)?wh(this.min,-1):wh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=u=>i=t?i:u,a=u=>r=e?r:u;i===r&&(i<=0?(s(1),a(10)):(s(wh(i,-1)),a(wh(r,1)))),i<=0&&s(wh(r,-1)),r<=0&&a(wh(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function OO(n,{min:t,max:e}){t=xo(n.min,t);const i=[],r=dg(t);let s=function IS(n,t){let i=dg(t-n);for(;Rw(n,t,i)>10;)i++;for(;Rw(n,t,i)<10;)i--;return Math.min(i,dg(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const u=Math.pow(10,s),f=r>s?Math.pow(10,r):0,m=Math.round((t-f)*a)/a,v=Math.floor((t-f)/u/10)*u*10;let x=Math.floor((m-v)/Math.pow(10,s)),S=xo(n.min,Math.round((f+v+x*Math.pow(10,s))*a)/a);for(;S<e;)i.push({value:S,major:Mw(S),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(s++,x=2,a=s>=0?1:a),S=Math.round((f+v+x*Math.pow(10,s))*a)/a;const A=xo(n.max,S);return i.push({value:A,major:Mw(A),significand:x}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&a0(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Kf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=yu(t),this._valueRange=yu(this.max)-yu(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(yu(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class AS extends Yy{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Yi(Qy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Oi(t)&&!isNaN(t)?t:0,this.max=Oi(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qy(this.options))}generateTickLabels(t){Yy.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=On(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function SS(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,u=a.centerPointLabels?gn/s:0;for(let f=0;f<s;f++){const m=a.setContext(n.getPointLabelContext(f));r[f]=m.padding;const v=n.getPointPosition(f,n.drawingArea+r[f],u),x=rr(m.font),S=kw(n.ctx,x,n._pointLabels[f]);i[f]=S;const A=Eo(n.getIndexAngle(f)+u),O=Math.round(l0(A));Ow(e,t,A,NO(O,v.x,S.w,0,180),NO(O,v.y,S.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function NU(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:u}=s.pointLabels,f={extra:Qy(s)/2,additionalAngle:a?gn/r:0};let m;for(let v=0;v<r;v++){f.padding=e[v],f.size=t[v];const x=FO(n,v,f);i.push(x),"auto"===u&&(x.visible=LO(x,m),x.visible&&(m=x))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return Eo(t*(pn/(this._pointLabels.length||1))+Us(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(qt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(qt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function HO(n,t,e){return Aa(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-qi+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Pw(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let u,f,m;if(e.pointLabels.display&&function jO(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));UO(e,a,s);const u=rr(a.font),{x:f,y:m,textAlign:v}=s;bu(e,n._pointLabels[r],f,m+u.lineHeight/2,u,{color:a.color,textAlign:v,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,x)=>{if(0!==x||0===x&&this.min<0){f=this.getDistanceFromCenterForValue(v.value);const S=this.getContext(x),A=r.setContext(S),O=s.setContext(S);!function TS(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:u,lineWidth:f}=t;!a&&!i||!u||!f||e<0||(s.save(),s.strokeStyle=u,s.lineWidth=f,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Pw(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,A,f,a,O)}}),i.display){for(t.save(),u=a-1;u>=0;u--){const v=i.setContext(this.getPointLabelContext(u)),{color:x,lineWidth:S}=v;!S||!x||(t.lineWidth=S,t.strokeStyle=x,t.setLineDash(v.borderDash),t.lineDashOffset=v.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),m=this.getPointPosition(u,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,f)=>{if(0===f&&this.min>=0&&!e.reverse)return;const m=i.setContext(this.getContext(f)),v=rr(m.font);if(s=this.getDistanceFromCenterForValue(this.ticks[f].value),m.showLabelBackdrop){t.font=v.string,a=t.measureText(u.label).width,t.fillStyle=m.backdropColor;const x=Yi(m.backdropPadding);t.fillRect(-a/2-x.left,-s-v.size/2-x.top,a+x.width,v.size+x.height)}bu(t,u.label,0,-s,v,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:Jy,TimeSeriesScale:class LU extends Jy{static id="timeseries";static defaults=Jy.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pg(e,this.min),this._tableRange=pg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,u,f,m,v;for(a=0,u=t.length;a<u;++a)m=t[a],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,u=r.length;a<u;++a)v=r[a+1],f=r[a-1],m=r[a],Math.round((v+f)/2)!==m&&s.push({time:m,pos:a/(u-1)});return s}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return pg(this._table,i*this._tableRange+this._minPos,!0)}}});const VU=[DI,rO,MO,GO];var OS=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),ev_textSize=function(n,t,e){var u,i=[].concat(t),r=i.length,s=n.font,a=0;for(n.font=e.string,u=0;u<r;++u)a=Math.max(n.measureText(i[u]).width,a);return n.font=s,{height:r*e.lineHeight,width:a}};function PS(n,t){var e=t.x,i=t.y;if(null===e)return{x:0,y:-1};if(null===i)return{x:1,y:0};var r=n.x-e,s=n.y-i,a=Math.sqrt(r*r+s*s);return{x:a?r/a:0,y:a?s/a:-1}}var KO=0,qO=1,XO=2,YO=4,QO=8;function Fw(n,t,e){var i=KO;return n<e.left?i|=qO:n>e.right&&(i|=XO),t<e.top?i|=QO:t>e.bottom&&(i|=YO),i}function Lw(n,t){var r,s,e=t.anchor,i=n;return t.clamp&&(i=function ZO(n,t){for(var f,m,v,e=n.x0,i=n.y0,r=n.x1,s=n.y1,a=Fw(e,i,t),u=Fw(r,s,t);a|u&&!(a&u);)(f=a||u)&QO?(m=e+(r-e)*(t.top-i)/(s-i),v=t.top):f&YO?(m=e+(r-e)*(t.bottom-i)/(s-i),v=t.bottom):f&XO?(v=i+(s-i)*(t.right-e)/(r-e),m=t.right):f&qO&&(v=i+(s-i)*(t.left-e)/(r-e),m=t.left),f===a?a=Fw(e=m,i=v,t):u=Fw(r=m,s=v,t);return{x0:e,x1:r,y0:i,y1:s}}(i,t.area)),"start"===e?(r=i.x0,s=i.y0):"end"===e?(r=i.x1,s=i.y1):(r=(i.x0+i.x1)/2,s=(i.y0+i.y1)/2),function WO(n,t,e,i,r){switch(r){case"center":e=i=0;break;case"bottom":e=0,i=1;break;case"right":e=1,i=0;break;case"left":e=-1,i=0;break;case"top":e=0,i=-1;break;case"start":e=-e,i=-i;break;case"end":break;default:r*=Math.PI/180,e=Math.cos(r),i=Math.sin(r)}return{x:n,y:t,vx:e,vy:i}}(r,s,n.vx,n.vy,t.align)}var Vw={arc:function(n,t){var e=(n.startAngle+n.endAngle)/2,i=Math.cos(e),r=Math.sin(e),s=n.innerRadius,a=n.outerRadius;return Lw({x0:n.x+i*s,y0:n.y+r*s,x1:n.x+i*a,y1:n.y+r*a,vx:i,vy:r},t)},point:function(n,t){var e=PS(n,t.origin),i=e.x*n.options.radius,r=e.y*n.options.radius;return Lw({x0:n.x-i,y0:n.y-r,x1:n.x+i,y1:n.y+r,vx:e.x,vy:e.y},t)},bar:function(n,t){var e=PS(n,t.origin),i=n.x,r=n.y,s=0,a=0;return n.horizontal?(i=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(r=Math.min(n.y,n.base),a=Math.abs(n.base-n.y)),Lw({x0:i,y0:r+a,x1:i+s,y1:r,vx:e.x,vy:e.y},t)},fallback:function(n,t){var e=PS(n,t.origin);return Lw({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:e.x,vy:e.y},t)}},Au=function(n){return Math.round(n*OS)/OS};function UU(n,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(void 0!==e.xCenter&&void 0!==e.yCenter)return{x:e.xCenter,y:e.yCenter};var i=e.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function JO(n){return n instanceof Y1?Vw.arc:n instanceof uw?Vw.point:n instanceof aS?Vw.bar:Vw.fallback}function c(n,t,e){var i=n.shadowBlur,r=e.stroked,s=Au(e.x),a=Au(e.y),u=Au(e.w);r&&n.strokeText(t,s,a,u),e.filled&&(i&&r&&(n.shadowBlur=0),n.fillText(t,s,a,u),i&&r&&(n.shadowBlur=i))}var p=function(n,t,e,i){var r=this;r._config=n,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=e};Sa(p.prototype,{_modelize:function(n,t,e,i){var r=this,s=r._index,a=rr(ti([e.font,{}],i,s)),u=ti([e.color,Bn.color],i,s);return{align:ti([e.align,"center"],i,s),anchor:ti([e.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:ti([e.backgroundColor,null],i,s),borderColor:ti([e.borderColor,null],i,s),borderRadius:ti([e.borderRadius,0],i,s),borderWidth:ti([e.borderWidth,0],i,s),clamp:ti([e.clamp,!1],i,s),clip:ti([e.clip,!1],i,s),color:u,display:n,font:a,lines:t,offset:ti([e.offset,4],i,s),opacity:ti([e.opacity,1],i,s),origin:UU(r._el,i),padding:Yi(ti([e.padding,4],i,s)),positioner:JO(r._el),rotation:ti([e.rotation,0],i,s)*(Math.PI/180),size:ev_textSize(r._ctx,t,a),textAlign:ti([e.textAlign,"start"],i,s),textShadowBlur:ti([e.textShadowBlur,0],i,s),textShadowColor:ti([e.textShadowColor,u],i,s),textStrokeColor:ti([e.textStrokeColor,u],i,s),textStrokeWidth:ti([e.textStrokeWidth,0],i,s)}},update:function(n){var a,u,f,t=this,e=null,i=null,r=t._index,s=t._config,m=ti([s.display,!0],n,r);m&&(f=qt(u=Xt(On(s.formatter,[a=n.dataset.data[r],n]),a))?[]:function(n){var e,t=[];for(n=[].concat(n);n.length;)"string"==typeof(e=n.pop())?t.unshift.apply(t,e.split("\n")):Array.isArray(e)?n.push.apply(n,e):qt(n)||t.unshift(""+e);return t}(u)).length&&(i=function BU(n){var t=n.borderWidth||0,e=n.padding,i=n.size.height,r=n.size.width,s=-r/2,a=-i/2;return{frame:{x:s-e.left-t,y:a-e.top-t,w:r+e.width+2*t,h:i+e.height+2*t},text:{x:s,y:a,w:r,h:i}}}(e=t._modelize(m,f,s,n))),t._model=e,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,t){var a,i=n.ctx,r=this._model,s=this._rects;this.visible()&&(i.save(),r.clip&&(a=r.area,i.beginPath(),i.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),i.clip()),i.globalAlpha=function(n,t,e){return Math.max(n,Math.min(t,e))}(0,r.opacity,1),i.translate(Au(t.x),Au(t.y)),i.rotate(r.rotation),function o(n,t,e){var i=e.backgroundColor,r=e.borderColor,s=e.borderWidth;!i&&(!r||!s)||(n.beginPath(),function jU(n,t,e,i,r,s){var a=Math.PI/2;if(s){var u=Math.min(s,r/2,i/2),f=t+u,m=e+u,v=t+i-u,x=e+r-u;n.moveTo(t,m),f<v&&m<x?(n.arc(f,m,u,-Math.PI,-a),n.arc(v,m,u,-a,0),n.arc(v,x,u,0,a),n.arc(f,x,u,a,Math.PI)):f<v?(n.moveTo(f,e),n.arc(v,m,u,-a,a),n.arc(f,m,u,a,Math.PI+a)):m<x?(n.arc(f,m,u,-Math.PI,0),n.arc(f,x,u,0,Math.PI)):n.arc(f,m,u,-Math.PI,Math.PI),n.closePath(),n.moveTo(t,e)}else n.rect(t,e,i,r)}(n,Au(t.x)+s/2,Au(t.y)+s/2,Au(t.w)-s,Au(t.h)-s,e.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),r&&s&&(n.strokeStyle=r,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}(i,s.frame,r),function h(n,t,e,i){var S,r=i.textAlign,s=i.color,a=!!s,u=i.font,f=t.length,m=i.textStrokeColor,v=i.textStrokeWidth,x=m&&v;if(f&&(a||x))for(e=function l(n,t,e){var i=e.lineHeight,r=n.w,s=n.x;return"center"===t?s+=r/2:("end"===t||"right"===t)&&(s+=r),{h:i,w:r,x:s,y:n.y+i/2}}(e,r,u),n.font=u.string,n.textAlign=r,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,a&&(n.fillStyle=s),x&&(n.lineJoin="round",n.lineWidth=v,n.strokeStyle=m),S=0,f=t.length;S<f;++S)c(n,t[S],{stroked:x,filled:a,w:e.w,x:e.x,y:e.y+e.h*S})}(i,r.lines,s.text,r),i.restore())}});var _=Number.MIN_SAFE_INTEGER||-9007199254740991,b=Number.MAX_SAFE_INTEGER||9007199254740991;function C(n,t,e){var i=Math.cos(e),r=Math.sin(e),s=t.x,a=t.y;return{x:s+i*(n.x-s)-r*(n.y-a),y:a+r*(n.x-s)+i*(n.y-a)}}function I(n,t){var s,a,m,e=b,i=_,r=t.origin;for(s=0;s<n.length;++s)m=t.vx*((a=n[s]).x-r.x)+t.vy*(a.y-r.y),e=Math.min(e,m),i=Math.max(i,m);return{min:e,max:i}}function R(n,t){var e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);return{vx:(t.x-n.x)/r,vy:(t.y-n.y)/r,origin:n,ln:r}}var N=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function j(n,t,e){var i=t.positioner(n,t),r=i.vx,s=i.vy;if(!r&&!s)return{x:i.x,y:i.y};var a=e.w,u=e.h,f=t.rotation,m=Math.abs(a/2*Math.cos(f))+Math.abs(u/2*Math.sin(f)),v=Math.abs(a/2*Math.sin(f))+Math.abs(u/2*Math.cos(f)),x=1/Math.max(Math.abs(r),Math.abs(s));return m*=r*x,v*=s*x,{x:i.x+(m+=t.offset*r),y:i.y+(v+=t.offset*s)}}Sa(N.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,t,e){this._rotation=e,this._rect={x:t.x+n.x,y:t.y+n.y,w:t.w,h:t.h}},contains:function(n){var t=this,i=t._rect;return!((n=C(n,t.center(),-t._rotation)).x<i.x-1||n.y<i.y-1||n.x>i.x+i.w+2||n.y>i.y+i.h+2)},intersects:function(n){var r,s,a,t=this._points(),e=n._points(),i=[R(t[0],t[1]),R(t[0],t[3])];for(this._rotation!==n._rotation&&i.push(R(e[0],e[1]),R(e[0],e[3])),r=0;r<i.length;++r)if(s=I(t,i[r]),a=I(e,i[r]),s.max<a.min||a.max<s.min)return!1;return!0},_points:function(){var n=this,t=n._rect,e=n._rotation,i=n.center();return[C({x:t.x,y:t.y},i,e),C({x:t.x+t.w,y:t.y},i,e),C({x:t.x+t.w,y:t.y+t.h},i,e),C({x:t.x,y:t.y+t.h},i,e)]}});var Ie={prepare:function(n){var e,i,r,s,a,t=[];for(e=0,r=n.length;e<r;++e)for(i=0,s=n[e].length;i<s;++i)t.push(a=n[e][i]),a.$layout={_box:new N,_hidable:!1,_visible:!0,_set:e,_idx:a._index};return t.sort(function(u,f){var m=u.$layout,v=f.$layout;return m._idx===v._idx?v._set-m._set:v._idx-m._idx}),this.update(t),t},update:function(n){var e,i,r,s,a,t=!1;for(e=0,i=n.length;e<i;++e)s=(r=n[e]).model(),(a=r.$layout)._hidable=s&&"auto"===s.display,a._visible=r.visible(),t|=a._hidable;t&&function te(n){var t,e,i,r,s,a,u;for(t=0,e=n.length;t<e;++t)(r=(i=n[t]).$layout)._visible&&(u=new Proxy(i._el,{get:(f,m)=>f.getProps([m],!0)[m]}),s=i.geometry(),a=j(u,i.model(),s),r._box.update(a,s,i.rotation()));(function Y(n,t){var e,i,r,s;for(e=n.length-1;e>=0;--e)for(r=n[e].$layout,i=e-1;i>=0&&r._visible;--i)(s=n[i].$layout)._visible&&r._box.intersects(s._box)&&t(r,s)})(n,function(f,m){var v=f._hidable,x=m._hidable;v&&x||x?m._visible=!1:v&&(f._visible=!1)})}(n)},lookup:function(n,t){var e,i;for(e=n.length-1;e>=0;--e)if((i=n[e].$layout)&&i._visible&&i._box.contains(t))return n[e];return null},draw:function(n,t){var e,i,r,s,a,u;for(e=0,i=t.length;e<i;++e)(s=(r=t[e]).$layout)._visible&&(a=r.geometry(),u=j(r._el,r.model(),a),s._box.update(u,a,r.rotation()),r.draw(n,u))}},nt={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(n){if(qt(n))return null;var e,i,r,t=n;if(hn(n))if(qt(n.label))if(qt(n.r))for(t="",r=0,i=(e=Object.keys(n)).length;r<i;++r)t+=(0!==r?", ":"")+e[r]+": "+n[e[r]];else t=n.r;else t=n.label;return""+t},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},dt="$datalabels",Ne="$default";function tn(n,t,e,i){if(t){var a,r=e.$context,s=e.$groups;t[s._set]&&(a=t[s._set][s._key])&&!0===On(a,[r,i])&&(n[dt]._dirty=!0,e.update(r))}}var xh={id:"datalabels",defaults:nt,beforeInit:function(n){n[dt]={_actives:[]}},beforeUpdate:function(n){var t=n[dt];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(n,t,e){var x,S,A,O,P,L,$,X,i=t.index,r=n[dt],s=r._datasets[i]=[],a=n.isDatasetVisible(i),u=n.data.datasets[i],f=function $t(n,t){var s,a,e=n.datalabels,i={},r=[];return!1===e?null:(!0===e&&(e={}),t=Sa({},[t,e]),s=t.labels||{},a=Object.keys(s),delete t.labels,a.length?a.forEach(function(u){s[u]&&r.push(Sa({},[t,s[u],{_key:u}]))}):r.push(t),i=r.reduce(function(u,f){return Tn(f.listeners||{},function(m,v){u[v]=u[v]||{},u[v][f._key||Ne]=m}),delete f.listeners,u},{}),{labels:r,listeners:i})}(u,e),m=t.meta.data||[],v=n.ctx;for(v.save(),x=0,A=m.length;x<A;++x)if(($=m[x])[dt]=[],a&&$&&n.getDataVisibility(x)&&!$.skip)for(S=0,O=f.labels.length;S<O;++S)L=(P=f.labels[S])._key,(X=new p(P,v,$,x)).$groups={_set:i,_key:L||Ne},X.$context={active:!1,chart:n,dataIndex:x,dataset:u,datasetIndex:i},X.update(X.$context),$[dt].push(X),s.push(X);v.restore(),Sa(r._listeners,f.listeners,{merger:function(ee,le,ce){le[ee]=le[ee]||{},le[ee][t.index]=ce[ee],r._listened=!0}})},afterUpdate:function(n){n[dt]._labels=Ie.prepare(n[dt]._datasets)},afterDatasetsDraw:function(n){Ie.draw(n,n[dt]._labels)},beforeEvent:function(n,t){if(n[dt]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":!function Hs(n,t){var r,s,e=n[dt],i=e._listeners;if(i.enter||i.leave){if("mousemove"===t.type)s=Ie.lookup(e._labels,t);else if("mouseout"!==t.type)return;r=e._hovered,e._hovered=s,function Pn(n,t,e,i,r){var s,a;!e&&!i||(e?i?e!==i&&(a=s=!0):a=!0:s=!0,a&&tn(n,t.leave,e,r),s&&tn(n,t.enter,i,r))}(n,i,r,s,t)}}(n,e);break;case"click":!function mc(n,t){var e=n[dt],i=e._listeners.click,r=i&&Ie.lookup(e._labels,t);r&&tn(n,i,r,t)}(n,e)}}},afterEvent:function(n){var s,a,u,f,m,v,x,t=n[dt],r=function(n,t){var r,s,a,u,e=n.slice(),i=[];for(r=0,a=t.length;r<a;++r)-1===(s=e.indexOf(u=t[r]))?i.push([u,1]):e.splice(s,1);for(r=0,a=e.length;r<a;++r)i.push([e[r],-1]);return i}(t._actives,t._actives=n.getActiveElements());for(s=0,a=r.length;s<a;++s)if((m=r[s])[1])for(u=0,f=(x=m[0].element[dt]||[]).length;u<f;++u)(v=x[u]).$context.active=1===m[1],v.update(v.$context);(t._dirty||r.length)&&(Ie.update(t._labels),n.render()),delete t._dirty}},mr=B(1161);function Bw(){return(0,Mi.N)((n,t)=>{let e,i=!1;n.subscribe((0,un._)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var ct,Ma=B(4783),t6=(B(6922),B(3345)),Te=B(467),mg=B(7852),NS=B(1362),op=B(8041),An=B(1076),n6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gc={},eP=eP||{},Jt=n6||self;function FS(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Uw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var tP="closure_uid_"+(1e9*Math.random()>>>0),r6=0;function s6(n,t,e){return n.call.apply(n.bind,arguments)}function o6(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function zs(n,t,e){return(zs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s6:o6).apply(null,arguments)}function LS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function as(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function ap(){this.s=this.s,this.o=this.o}ap.prototype.s=!1,ap.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function i6(n){Object.prototype.hasOwnProperty.call(n,tP)&&n[tP]||(n[tP]=++r6)}(this)},ap.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function nP(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function zU(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(FS(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function $s(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}$s.prototype.h=function(){this.defaultPrevented=!0};var l6=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",()=>{},t),Jt.removeEventListener("test",()=>{},t)}catch{}return n}();function jw(n){return/^[\s\xa0]*$/.test(n)}function VS(){var n=Jt.navigator;return n&&(n=n.userAgent)?n:""}function Mu(n){return-1!=VS().indexOf(n)}function iP(n){return iP[" "](n),n}iP[" "]=function(){};var sP,n,u6=Mu("Opera"),tv=Mu("Trident")||Mu("MSIE"),$U=Mu("Edge"),rP=$U||tv,GU=Mu("Gecko")&&!(-1!=VS().toLowerCase().indexOf("webkit")&&!Mu("Edge"))&&!(Mu("Trident")||Mu("MSIE"))&&!Mu("Edge"),d6=-1!=VS().toLowerCase().indexOf("webkit")&&!Mu("Edge");function WU(){var n=Jt.document;return n?n.documentMode:void 0}e:{var oP="",aP=(n=VS(),GU?/rv:([^\);]+)(\)|;)/.exec(n):$U?/Edge\/([\d\.]+)/.exec(n):tv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):d6?/WebKit\/(\S+)/.exec(n):u6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aP&&(oP=aP?aP[1]:""),tv){var lP=WU();if(null!=lP&&lP>parseFloat(oP)){sP=String(lP);break e}}sP=oP}var h6=Jt.document&&tv&&(WU()||parseInt(sP,10))||void 0;function Hw(n,t){if($s.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(GU){e:{try{iP(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:f6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hw.$.h.call(this)}}as(Hw,$s);var f6={2:"touch",3:"pen",4:"mouse"};Hw.prototype.h=function(){Hw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zw="closure_listenable_"+(1e6*Math.random()|0),p6=0;function m6(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++p6,this.fa=this.ia=!1}function BS(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function uP(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function qU(n){const t={};for(const e in n)t[e]=n[e];return t}const XU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<XU.length;s++)e=XU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function US(n){this.src=n,this.g={},this.h=0}function dP(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=HU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(BS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function hP(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}US.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=hP(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new m6(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var fP="closure_lm_"+(1e6*Math.random()|0),pP={};function QU(n,t,e,i,r){if(i&&i.once)return JU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)QU(n,t[s],e,i,r);return null}return e=yP(e),n&&n[zw]?n.O(t,e,Uw(i)?!!i.capture:!!i,r):ZU(n,t,e,!1,i,r)}function ZU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=Uw(r)?!!r.capture:!!r,u=gP(n);if(u||(n[fP]=u=new US(n)),(e=u.add(t,e,i,a,s)).proxy)return e;if(i=function _6(){const t=y6;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)l6||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(tj(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function JU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)JU(n,t[s],e,i,r);return null}return e=yP(e),n&&n[zw]?n.P(t,e,Uw(i)?!!i.capture:!!i,r):ZU(n,t,e,!0,i,r)}function ej(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)ej(n,t[s],e,i,r);else i=Uw(i)?!!i.capture:!!i,e=yP(e),n&&n[zw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=hP(s=n.g[t],e,i,r))&&(BS(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=gP(n))&&(t=n.g[t.toString()],n=-1,t&&(n=hP(t,e,i,r)),(e=-1<n?t[n]:null)&&mP(e))}function mP(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[zw])dP(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(tj(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=gP(t))?(dP(e,n),0==e.h&&(e.src=null,t[fP]=null)):BS(n)}}}function tj(n){return n in pP?pP[n]:pP[n]="on"+n}function y6(n,t){if(n.fa)n=!0;else{t=new Hw(t,this);var e=n.listener,i=n.la||n.src;n.ia&&mP(n),n=e.call(i,t)}return n}function gP(n){return(n=n[fP])instanceof US?n:null}var _P="__closure_events_fn_"+(1e9*Math.random()>>>0);function yP(n){return"function"==typeof n?n:(n[_P]||(n[_P]=function(t){return n.handleEvent(t)}),n[_P])}function ls(){ap.call(this),this.i=new US(this),this.S=this,this.J=null}function Ds(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new $s(t,n);else if(t instanceof $s)t.target=t.target||n;else{var r=t;YU(t=new $s(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=jS(a,i,!0,t)&&r}if(r=jS(a=t.g=n,i,!0,t)&&r,r=jS(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=jS(a=t.g=e[s],i,!1,t)&&r}function jS(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var u=a.listener,f=a.la||a.src;a.ia&&dP(n.i,a),r=!1!==u.call(f,i)&&r}}return r&&!i.defaultPrevented}as(ls,ap),ls.prototype[zw]=!0,ls.prototype.removeEventListener=function(n,t,e,i){ej(this,n,t,e,i)},ls.prototype.N=function(){if(ls.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)BS(e[i]);delete n.g[t],n.h--}}this.J=null},ls.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ls.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var vP=Jt.JSON.stringify;function b6(){var n=bP;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var nj=new class v6{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new x6,n=>n.reset());class x6{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function E6(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function C6(n){Jt.setTimeout(()=>{throw n},0)}let $w,Gw=!1,bP=new class w6{constructor(){this.h=this.g=null}add(t,e){const i=nj.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},ij=()=>{const n=Jt.Promise.resolve(void 0);$w=()=>{n.then(D6)}};var D6=()=>{for(var n;n=b6();){try{n.h.call(n.g)}catch(e){C6(e)}var t=nj;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Gw=!1};function HS(n,t){ls.call(this),this.h=n||1,this.g=t||Jt,this.j=zs(this.qb,this),this.l=Date.now()}function wP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function xP(n,t,e){if("function"==typeof n)e&&(n=zs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Jt.setTimeout(n,t||0)}function rj(n){n.g=xP(()=>{n.g=null,n.i&&(n.i=!1,rj(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}as(HS,ls),(ct=HS.prototype).ga=!1,ct.T=null,ct.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ds(this,"tick"),this.ga&&(wP(this),this.start()))}},ct.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.N=function(){HS.$.N.call(this),wP(this),delete this.g};class I6 extends ap{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:rj(this)}N(){super.N(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ww(n){ap.call(this),this.h=n,this.g={}}as(Ww,ap);var sj=[];function oj(n,t,e,i){Array.isArray(e)||(e&&(sj[0]=e.toString()),e=sj);for(var r=0;r<e.length;r++){var s=QU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function aj(n){uP(n.g,function(t,e){this.g.hasOwnProperty(e)&&mP(t)},n),n.g={}}function zS(){this.g=!0}function nv(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function M6(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return vP(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ww.prototype.N=function(){Ww.$.N.call(this),aj(this)},Ww.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zS.prototype.Ea=function(){this.g=!1},zS.prototype.info=function(){};var gg={},lj=null;function $S(){return lj=lj||new ls}function cj(n){$s.call(this,gg.Ta,n)}function Kw(n){const t=$S();Ds(t,new cj(t))}function uj(n,t){$s.call(this,gg.STAT_EVENT,n),this.stat=t}function Io(n){const t=$S();Ds(t,new uj(t,n))}function dj(n,t){$s.call(this,gg.Ua,n),this.size=t}function qw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},t)}gg.Ta="serverreachability",as(cj,$s),gg.STAT_EVENT="statevent",as(uj,$s),gg.Ua="timingevent",as(dj,$s);var GS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function EP(){}function pj(){}EP.prototype.h=null;var IP,Xw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CP(){$s.call(this,"d")}function DP(){$s.call(this,"c")}function WS(){}function Yw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Ww(this),this.P=R6,this.V=new HS(n=rP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mj}function mj(){this.i=null,this.g="",this.h=!1}as(CP,$s),as(DP,$s),as(WS,EP),WS.prototype.g=function(){return new XMLHttpRequest},WS.prototype.i=function(){return{}},IP=new WS;var R6=45e3,SP={},KS={};function TP(n,t,e){n.L=1,n.v=QS(Eh(t)),n.s=e,n.S=!0,gj(n,null)}function gj(n,t){n.G=Date.now(),Qw(n),n.A=Eh(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Ij(e.i,"t",i),n.C=0,e=n.l.J,n.h=new mj,n.g=Yj(n.l,e?t:null,!n.s),0<n.O&&(n.M=new I6(zs(n.Pa,n,n.g),n.O)),oj(n.U,n.g,"readystatechange",n.nb),t=n.I?qU(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Kw(),function S6(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",u=s.split("&"),f=0;f<u.length;f++){var m=u[f].split("=");if(1<m.length){var v=m[0];m=m[1];var x=v.split("_");a=2<=x.length&&"type"==x[1]?a+(v+"=")+m+"&":a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function _j(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function yj(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=k6(n,e),r==KS){4==t&&(n.o=4,Io(14),i=!1),nv(n.j,n.m,null,"[Incomplete Response]");break}if(r==SP){n.o=4,Io(15),nv(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}nv(n.j,n.m,r,null),AP(n,r)}_j(n)&&r!=KS&&r!=SP&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Io(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),FP(t),t.M=!0,Io(11))):(nv(n.j,n.m,e,"[Invalid Chunked Response]"),_g(n),Zw(n))}function k6(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?KS:(e=Number(t.substring(e,i)),isNaN(e)?SP:(i+=1)+e>t.length?KS:(t=t.slice(i,i+e),n.C=i+e,t))}function Qw(n){n.Y=Date.now()+n.P,vj(n,n.P)}function vj(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qw(zs(n.lb,n),t)}function qS(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function Zw(n){0==n.l.H||n.J||Wj(n.l,n)}function _g(n){qS(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,wP(n.V),aj(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function AP(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||MP(e.i,n)))if(!n.K&&MP(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;iT(e),tT(e)}NP(e),Io(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=qw(zs(e.ib,e),6e3));if(1>=Aj(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else vg(e,11)}else if((n.K||e.g==n)&&iT(e),!jw(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let m=r[t];if(e.V=m[0],m=m[1],2==e.H)if("c"==m[0]){e.K=m[1],e.pa=m[2];const v=m[3];null!=v&&(e.ra=v,e.l.info("VER="+e.ra));const x=m[4];null!=x&&(e.Ga=x,e.l.info("SVER="+e.Ga));const S=m[5];null!=S&&"number"==typeof S&&0<S&&(e.L=i=1.5*S,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const A=n.g;if(A){const O=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var s=i.i;s.g||-1==O.indexOf("spdy")&&-1==O.indexOf("quic")&&-1==O.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(RP(s,s.h),s.h=null))}if(i.F){const P=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(i.Da=P,gi(i.I,i.F,P))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=Xj(i,i.J?i.pa:null,i.Y),a.K){Mj(i.i,a);var u=a,f=i.L;f&&u.setTimeout(f),u.B&&(qS(u),Qw(u)),i.g=a}else $j(i);0<e.j.length&&nT(e)}else"stop"!=m[0]&&"close"!=m[0]||vg(e,7);else 3==e.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?vg(e,7):PP(e):"noop"!=m[0]&&e.h&&e.h.Aa(m),e.A=0)}Kw()}catch{}}function bj(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(FS(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function P6(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(FS(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function O6(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(FS(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(ct=Yw.prototype).setTimeout=function(n){this.P=n},ct.nb=function(n){n=n.target;const t=this.M;t&&3==Ru(n)?t.l():this.Pa(n)},ct.Pa=function(n){try{if(n==this.g)e:{const v=Ru(this.g);var t=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||rP||this.g&&(this.h.h||this.g.ja()||Vj(this.g)))){this.J||4!=v||7==t||Kw(),qS(this);var e=this.g.da();this.ca=e;t:if(_j(this)){var i=Vj(this.g);n="";var r=i.length,s=4==Ru(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_g(this),Zw(this);var a="";break t}this.h.i=new Jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function T6(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,v,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jw(u)){var m=u;break t}}m=null}if(!(e=m)){this.i=!1,this.o=3,Io(12),_g(this),Zw(this);break e}nv(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,AP(this,e)}this.S?(yj(this,v,a),rP&&this.i&&3==v&&(oj(this.U,this.V,"tick",this.mb),this.V.start())):(nv(this.j,this.m,a,null),AP(this,a)),4==v&&_g(this),this.i&&!this.J&&(4==v?Wj(this.l,this):(this.i=!1,Qw(this)))}else(function Z6(n){const t={};n=(n.g&&2<=Ru(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(jw(n[i]))continue;var e=E6(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function g6(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),_g(this),Zw(this)}}}catch{}},ct.mb=function(){if(this.g){var n=Ru(this.g),t=this.g.ja();this.C<t.length&&(qS(this),yj(this,n,t),this.i&&4!=n&&Qw(this))}},ct.cancel=function(){this.J=!0,_g(this)},ct.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function A6(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Kw(),Io(17)),_g(this),this.o=2,Zw(this)):vj(this,this.Y-n)};var wj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof yg){this.h=n.h,XS(this,n.j),this.s=n.s,this.g=n.g,YS(this,n.m),this.l=n.l;var t=n.i,e=new tx;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),xj(this,e),this.o=n.o}else n&&(t=String(n).match(wj))?(this.h=!1,XS(this,t[1]||"",!0),this.s=Jw(t[2]||""),this.g=Jw(t[3]||"",!0),YS(this,t[4]),this.l=Jw(t[5]||"",!0),xj(this,t[6]||"",!0),this.o=Jw(t[7]||"")):(this.h=!1,this.i=new tx(null,this.h))}function Eh(n){return new yg(n)}function XS(n,t,e){n.j=e?Jw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function YS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function xj(n,t,e){t instanceof tx?(n.i=t,function j6(n,t){t&&!n.j&&(lp(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Cj(this,i),Ij(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=ex(t,B6)),n.i=new tx(t,n.h))}function gi(n,t,e){n.i.set(t,e)}function QS(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ex(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,F6),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function F6(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ex(t,Ej,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ex(t,Ej,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(ex(e,"/"==e.charAt(0)?V6:L6,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ex(e,U6)),n.join("")};var Ej=/[#\/\?@]/g,L6=/[#\?:]/g,V6=/[#\?]/g,B6=/[#\?@]/g,U6=/#/g;function tx(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function lp(n){n.g||(n.g=new Map,n.h=0,n.i&&function N6(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Cj(n,t){lp(n),t=iv(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Dj(n,t){return lp(n),t=iv(n,t),n.g.has(t)}function Ij(n,t,e){Cj(n,t),0<e.length&&(n.i=null,n.g.set(iv(n,t),nP(e)),n.h+=e.length)}function iv(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Sj(n){this.l=n||z6,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ka&&Jt.g.Ka()&&Jt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=tx.prototype).add=function(n,t){lp(this),this.i=null,n=iv(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ct.forEach=function(n,t){lp(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ct.ta=function(){lp(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},ct.Z=function(n){lp(this);let t=[];if("string"==typeof n)Dj(this,n)&&(t=t.concat(this.g.get(iv(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ct.set=function(n,t){return lp(this),this.i=null,Dj(this,n=iv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ct.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var z6=10;function Tj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Aj(n){return n.h?1:n.g?n.g.size:0}function MP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function RP(n,t){n.g?n.g.add(t):n.h=t}function Mj(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Rj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return nP(n.i)}Sj.prototype.cancel=function(){if(this.i=Rj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var $6=class{stringify(n){return Jt.JSON.stringify(n,void 0)}parse(n){return Jt.JSON.parse(n,void 0)}};function G6(){this.g=new $6}function W6(n,t,e){const i=e||"";try{bj(n,function(r,s){let a=r;Uw(r)&&(a=vP(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function ZS(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function nx(n){this.l=n.fc||null,this.j=n.ob||!1}function JS(n,t){ls.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=kP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}as(nx,EP),nx.prototype.g=function(){return new JS(this.l,this.j)},nx.prototype.i=function(n){return function(){return n}}({}),as(JS,ls);var kP=0;function kj(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ix(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rx(n)}function rx(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=JS.prototype).open=function(n,t){if(this.readyState!=kP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,rx(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Jt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ix(this)),this.readyState=kP},ct.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rx(this)),this.g&&(this.readyState=3,rx(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kj(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ct.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?ix(this):rx(this),3==this.readyState&&kj(this)}},ct.Za=function(n){this.g&&(this.response=this.responseText=n,ix(this))},ct.Ya=function(n){this.g&&(this.response=n,ix(this))},ct.ka=function(){this.g&&ix(this)},ct.setRequestHeader=function(n,t){this.v.append(n,t)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(JS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var q6=Jt.JSON.parse;function sr(n){ls.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Oj,this.L=this.M=!1}as(sr,ls);var Oj="",X6=/^https?$/i,Y6=["POST","PUT"];function Pj(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Nj(n),eT(n)}function Nj(n){n.F||(n.F=!0,Ds(n,"complete"),Ds(n,"error"))}function Fj(n){if(n.h&&typeof eP<"u"&&(!n.C[1]||4!=Ru(n)||2!=n.da()))if(n.v&&4==Ru(n))xP(n.La,0,n);else if(Ds(n,"readystatechange"),4==Ru(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(wj)[1]||null;!r&&Jt.self&&Jt.self.location&&(r=Jt.self.location.protocol.slice(0,-1)),i=!X6.test(r?r.toLowerCase():"")}e=i}if(e)Ds(n,"complete"),Ds(n,"success");else{n.m=6;try{var s=2<Ru(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",Nj(n)}}finally{eT(n)}}}function eT(n,t){if(n.g){Lj(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Ds(n,"ready");try{e.onreadystatechange=i}catch{}}}function Lj(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function Ru(n){return n.g?n.g.readyState:0}function Vj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Oj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Bj(n){let t="";return uP(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function OP(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Bj(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):gi(n,t,e))}function sx(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Uj(n){this.Ga=0,this.j=[],this.l=new zS,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sx("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sx("baseRetryDelayMs",5e3,n),this.hb=sx("retryDelaySeedMs",1e4,n),this.eb=sx("forwardChannelMaxRetries",2,n),this.xa=sx("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Sj(n&&n.concurrentRequestLimit),this.Ja=new G6,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function PP(n){if(jj(n),3==n.H){var t=n.W++,e=Eh(n.I);if(gi(e,"SID",n.K),gi(e,"RID",t),gi(e,"TYPE","terminate"),ox(n,e),(t=new Yw(n,n.l,t)).L=2,t.v=QS(Eh(e)),e=!1,Jt.navigator&&Jt.navigator.sendBeacon)try{e=Jt.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Yj(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Qw(t)}qj(n)}function tT(n){n.g&&(FP(n),n.g.cancel(),n.g=null)}function jj(n){tT(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),iT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function nT(n){if(!Tj(n.i)&&!n.m){n.m=!0;var t=n.Na;$w||ij(),Gw||($w(),Gw=!0),bP.add(t,n),n.C=0}}function Hj(n,t){var e;e=t?t.m:n.W++;const i=Eh(n.I);gi(i,"SID",n.K),gi(i,"RID",e),gi(i,"AID",n.V),ox(n,i),n.o&&n.s&&OP(i,n.o,n.s),e=new Yw(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=zj(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),RP(n.i,e),TP(e,i,t)}function ox(n,t){n.na&&uP(n.na,function(e,i){gi(t,i,e)}),n.h&&bj({},function(e,i){gi(t,i,e)})}function zj(n,t,e){e=Math.min(n.j.length,e);var i=n.h?zs(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let f=0;f<e;f++){let m=r[f].g;const v=r[f].map;if(m-=s,0>m)s=Math.max(0,r[f].g-100),u=!1;else try{W6(v,a,"req"+m+"_")}catch{i&&i(v)}}if(u){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function $j(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;$w||ij(),Gw||($w(),Gw=!0),bP.add(t,n),n.A=0}}function NP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qw(zs(n.Ma,n),Kj(n,n.A)),n.A++,0))}function FP(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function Gj(n){n.g=new Yw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Eh(n.wa);gi(t,"RID","rpc"),gi(t,"SID",n.K),gi(t,"AID",n.V),gi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&gi(t,"TO",n.qa),gi(t,"TYPE","xmlhttp"),ox(n,t),n.o&&n.s&&OP(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=QS(Eh(t)),e.s=null,e.S=!0,gj(e,n)}function iT(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function Wj(n,t){var e=null;if(n.g==t){iT(n),FP(n),n.g=null;var i=2}else{if(!MP(n.i,t))return;e=t.F,Mj(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Ds(i=$S(),new dj(i,e)),nT(n)}else $j(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function J6(n,t){return!(Aj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qw(zs(n.Na,n,t),Kj(n,n.C)),n.C++,0)))}(n,t)||2==i&&NP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:vg(n,5);break;case 4:vg(n,10);break;case 3:vg(n,6);break;default:vg(n,2)}}function Kj(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function vg(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=zs(n.pb,n);e||(e=new yg("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||XS(e,"https"),QS(e)),function K6(n,t){const e=new zS;if(Jt.Image){const i=new Image;i.onload=LS(ZS,e,i,"TestLoadImage: loaded",!0,t),i.onerror=LS(ZS,e,i,"TestLoadImage: error",!1,t),i.onabort=LS(ZS,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=LS(ZS,e,i,"TestLoadImage: timeout",!1,t),Jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Io(2);n.H=0,n.h&&n.h.za(t),qj(n),jj(n)}function qj(n){if(n.H=0,n.ma=[],n.h){const t=Rj(n.i);(0!=t.length||0!=n.j.length)&&(zU(n.ma,t),zU(n.ma,n.j),n.i.i.length=0,nP(n.j),n.j.length=0),n.h.ya()}}function Xj(n,t,e){var i=e instanceof yg?Eh(e):new yg(e);if(""!=i.g)t&&(i.g=t+"."+i.g),YS(i,i.m);else{var r=Jt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new yg(null);i&&XS(s,i),t&&(s.g=t),r&&YS(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&gi(i,e,t),gi(i,"VER",n.ra),ox(n,i),i}function Yj(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new sr(e&&n.Ha&&!n.va?new nx({ob:!0}):n.va)).Oa(n.J),t}function Qj(){}function rT(){if(tv&&!(10<=Number(h6)))throw Error("Environmental error: no available transport.")}function Ra(n,t){ls.call(this),this.g=new Uj(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!jw(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jw(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new rv(this)}function Zj(n){CP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Jj(){DP.call(this),this.status=1}function rv(n){this.g=n}function _c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function LP(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function zn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(ct=sr.prototype).Oa=function(n){this.M=n},ct.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():IP.g(),this.C=function fj(n){return n.h||(n.h=n.i())}(this.u?this.u:IP),this.g.onreadystatechange=zs(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void Pj(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Jt.FormData&&n instanceof Jt.FormData,!(0<=HU(Y6,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lj(this),0<this.B&&((this.L=function Q6(n){return tv&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zs(this.ua,this)):this.A=xP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Pj(this,s)}},ct.ua=function(){typeof eP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ds(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ds(this,"complete"),Ds(this,"abort"),eT(this))},ct.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eT(this,!0)),sr.$.N.call(this)},ct.La=function(){this.s||(this.G||this.v||this.l?Fj(this):this.kb())},ct.kb=function(){Fj(this)},ct.isActive=function(){return!!this.g},ct.da=function(){try{return 2<Ru(this)?this.g.status:-1}catch{return-1}},ct.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),q6(t)}},ct.Ia=function(){return this.m},ct.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=Uj.prototype).ra=8,ct.H=1,ct.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Yw(this,this.l,n);let s=this.s;if(this.U&&(s?(s=qU(s),YU(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=zj(this,r,t),gi(e=Eh(this.I),"RID",n),gi(e,"CVER",22),this.F&&gi(e,"X-HTTP-Session-Id",this.F),ox(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(Bj(s)))+"&"+t:this.o&&OP(e,this.o,s)),RP(this.i,r),this.bb&&gi(e,"TYPE","init"),this.P?(gi(e,"$req",t),gi(e,"SID","null"),r.aa=!0,TP(r,e,null)):TP(r,e,t),this.H=2}}else 3==this.H&&(n?Hj(this,n):0==this.j.length||Tj(this.i)||Hj(this))},ct.Ma=function(){if(this.u=null,Gj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=qw(zs(this.jb,this),n)}},ct.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Io(10),tT(this),Gj(this))},ct.ib=function(){null!=this.v&&(this.v=null,tT(this),NP(this),Io(19))},ct.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Io(2)):(this.l.info("Failed to ping google.com"),Io(1))},ct.isActive=function(){return!!this.h&&this.h.isActive(this)},(ct=Qj.prototype).Ba=function(){},ct.Aa=function(){},ct.za=function(){},ct.ya=function(){},ct.isActive=function(){return!0},ct.Va=function(){},rT.prototype.g=function(n,t){return new Ra(n,t)},as(Ra,ls),Ra.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Io(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=Xj(n,null,n.Y),nT(n)},Ra.prototype.close=function(){PP(this.g)},Ra.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=vP(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&nT(t)},Ra.prototype.N=function(){this.g.h=null,delete this.j,PP(this.g),delete this.g,Ra.$.N.call(this)},as(Zj,CP),as(Jj,DP),as(rv,Qj),rv.prototype.Ba=function(){Ds(this.g,"a")},rv.prototype.Aa=function(n){Ds(this.g,new Zj(n))},rv.prototype.za=function(n){Ds(this.g,new Jj)},rv.prototype.ya=function(){Ds(this.g,"b")},as(_c,function e8(){this.blockSize=-1}),_c.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_c.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)LP(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){LP(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){LP(this,i),r=0;break}}this.h=r,this.i+=t},_c.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var t8={};function VP(n){return-128<=n&&128>n?function c6(n,t){var e=t8;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new zn([0|t],0>t?-1:0)}):new zn([0|n],0>n?-1:0)}function ku(n){if(isNaN(n)||!isFinite(n))return sv;if(0>n)return Is(ku(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=BP;return new zn(t,0)}var BP=4294967296,sv=VP(0),UP=VP(1),tH=VP(16777216);function Ch(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function _l(n){return-1==n.h}function Is(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new zn(e,~n.h).add(UP)}function sT(n,t){return n.add(Is(t))}function oT(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function ax(n,t){this.g=n,this.h=t}function aT(n,t){if(Ch(t))throw Error("division by zero");if(Ch(n))return new ax(sv,sv);if(_l(n))return t=aT(Is(n),t),new ax(Is(t.g),Is(t.h));if(_l(t))return t=aT(n,Is(t)),new ax(Is(t.g),t.h);if(30<n.g.length){if(_l(n)||_l(t))throw Error("slowDivide_ only works with positive integers.");for(var e=UP,i=t;0>=i.X(n);)e=nH(e),i=nH(i);var r=ov(e,1),s=ov(i,1);for(i=ov(i,2),e=ov(e,2);!Ch(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=ov(i,1),e=ov(e,1)}return t=sT(n,r.R(t)),new ax(r,t)}for(r=sv;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=ku(e)).R(t);_l(a)||0<a.X(n);)a=(s=ku(e-=i)).R(t);Ch(s)&&(s=UP),r=r.add(s),n=sT(n,a)}return new ax(r,n)}function nH(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new zn(e,n.h)}function ov(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new zn(r,n.h)}(ct=zn.prototype).ea=function(){if(_l(this))return-Is(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:BP+i)*t,t*=BP}return n},ct.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ch(this))return"0";if(_l(this))return"-"+Is(this).toString(n);for(var t=ku(Math.pow(n,6)),e=this,i="";;){var r=aT(e,t).g,s=((0<(e=sT(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Ch(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},ct.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ct.X=function(n){return _l(n=sT(this,n))?-1:Ch(n)?0:1},ct.abs=function(){return _l(this)?Is(this):this},ct.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new zn(e,-2147483648&e[e.length-1]?-1:0)},ct.R=function(n){if(Ch(this)||Ch(n))return sv;if(_l(this))return _l(n)?Is(this).R(Is(n)):Is(Is(this).R(n));if(_l(n))return Is(this.R(Is(n)));if(0>this.X(tH)&&0>n.X(tH))return ku(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,f=65535&n.D(r);e[2*i+2*r]+=a*f,oT(e,2*i+2*r),e[2*i+2*r+1]+=s*f,oT(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,oT(e,2*i+2*r+1),e[2*i+2*r+2]+=s*u,oT(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new zn(e,0)},ct.gb=function(n){return aT(this,n).h},ct.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new zn(e,this.h&n.h)},ct.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new zn(e,this.h|n.h)},ct.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new zn(e,this.h^n.h)},rT.prototype.createWebChannel=rT.prototype.g,Ra.prototype.send=Ra.prototype.u,Ra.prototype.open=Ra.prototype.m,Ra.prototype.close=Ra.prototype.close,GS.NO_ERROR=0,GS.TIMEOUT=8,GS.HTTP_ERROR=6,hj.COMPLETE="complete",pj.EventType=Xw,Xw.OPEN="a",Xw.CLOSE="b",Xw.ERROR="c",Xw.MESSAGE="d",ls.prototype.listen=ls.prototype.O,sr.prototype.listenOnce=sr.prototype.P,sr.prototype.getLastError=sr.prototype.Sa,sr.prototype.getLastErrorCode=sr.prototype.Ia,sr.prototype.getStatus=sr.prototype.da,sr.prototype.getResponseJson=sr.prototype.Wa,sr.prototype.getResponseText=sr.prototype.ja,sr.prototype.send=sr.prototype.ha,sr.prototype.setWithCredentials=sr.prototype.Oa,_c.prototype.digest=_c.prototype.l,_c.prototype.reset=_c.prototype.reset,_c.prototype.update=_c.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=ku,zn.fromString=function eH(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Is(eH(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ku(Math.pow(t,8)),i=sv,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=ku(Math.pow(t,s)),i=i.R(s).add(ku(a))):i=(i=i.R(e)).add(ku(a))}return i};var n8=gc.createWebChannelTransport=function(){return new rT},i8=gc.getStatEventTarget=function(){return $S()},jP=gc.ErrorCode=GS,r8=gc.EventType=hj,s8=gc.Event=gg,iH=gc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},o8=gc.FetchXmlHttpFactory=nx,lT=gc.WebChannel=pj,a8=gc.XhrIo=sr,l8=gc.Md5=_c,av=gc.Integer=zn;const rH="@firebase/firestore";class cs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let lv="9.23.0";const cp=new op.Vy("@firebase/firestore");function HP(){return cp.logLevel}function Ke(n,...t){if(cp.logLevel<=op.$b.DEBUG){const e=t.map(zP);cp.debug(`Firestore (${lv}): ${n}`,...e)}}function gr(n,...t){if(cp.logLevel<=op.$b.ERROR){const e=t.map(zP);cp.error(`Firestore (${lv}): ${n}`,...e)}}function yl(n,...t){if(cp.logLevel<=op.$b.WARN){const e=t.map(zP);cp.warn(`Firestore (${lv}): ${n}`,...e)}}function zP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yt(n="Unexpected state"){const t=`FIRESTORE (${lv}) INTERNAL ASSERTION FAILED: `+n;throw gr(t),new Error(t)}function At(n,t){n||yt()}function ot(n,t){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends An.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class sH{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class d8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(cs.UNAUTHENTICATED))}shutdown(){}}class h8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class f8{constructor(t){this.t=t,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let a=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gr,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const m=a;t.enqueueRetryable((0,Te.A)(function*(){yield m.promise,yield s(i.currentUser)}))},f=m=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gr)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At("string"==typeof i.accessToken),new sH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(null===t||"string"==typeof t),new cs(t)}}class p8{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class m8{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new p8(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g8{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(At("string"==typeof e.token),this.T=e.token,new oH(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class aH{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=_8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Yt(n,t){return n<t?-1:n>t?1:0}function cv(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function lH(n){return n+"\0"}class Pi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Pi.fromMillis(Date.now())}static fromDate(t){return Pi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Pi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Pi(0,0))}static max(){return new Rt(new Pi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lx{constructor(t,e,i){void 0===e?e=0:e>t.length&&yt(),void 0===i?i=t.length-e:i>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===lx.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof lx?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class xn extends lx{construct(t,e,i){return new xn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Le(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new xn(e)}static emptyPath(){return new xn([])}}const y8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends lx{construct(t,e,i){return new or(t,e,i)}static isValidIdentifier(t){return y8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Le(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Le(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Le(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new Le(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new or(e)}static emptyPath(){return new or([])}}class it{constructor(t){this.path=t}static fromPath(t){return new it(xn.fromString(t))}static fromName(t){return new it(xn.fromString(t).popFirst(5))}static empty(){return new it(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===xn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return xn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new xn(t.slice()))}}class cT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function $P(n){return n.fields.find(t=>2===t.kind)}function bg(n){return n.fields.filter(t=>2!==t.kind)}cT.UNKNOWN_ID=-1;class uT{constructor(t,e){this.fieldPath=t,this.kind=e}}class cx{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new cx(0,ka.min())}}function cH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new Pi(e+1,0):new Pi(e,i));return new ka(r,it.empty(),t)}function uH(n){return new ka(n.readTime,n.key,-1)}class ka{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ka(Rt.min(),it.empty(),-1)}static max(){return new ka(Rt.max(),it.empty(),-1)}}function GP(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=it.comparator(n.documentKey,t.documentKey),0!==e?e:Yt(n.largestBatchId,t.largestBatchId))}const dH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function up(n){return WP.apply(this,arguments)}function WP(){return WP=(0,Te.A)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==dH)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),WP.apply(this,arguments)}class ge{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ge((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.reject(e)}static resolve(t){return new ge((e,i)=>{e(t)})}static reject(t){return new ge((e,i)=>{i(t)})}static waitFor(t){return new ge((e,i)=>{let r=0,s=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&e()},f=>i(f))}),a=!0,s===r&&e()})}static or(t){let e=ge.resolve(!1);for(const i of t)e=e.next(r=>r?ge.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ge((i,r)=>{const s=t.length,a=new Array(s);let u=0;for(let f=0;f<s;f++){const m=f;e(t[m]).next(v=>{a[m]=v,++u,u===s&&i(a)},v=>r(v))}})}static doWhile(t,e){return new ge((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class dT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Gr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new ux(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=KP(i.target.error);this.v.reject(new ux(t,r))}}static open(t,e,i,r){try{return new dT(e,t.transaction(r,i))}catch(s){throw new ux(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ke("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new x8(e)}}class yc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===yc.S((0,An.ZQ)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ke("SimpleDb","Removing database:",t),wg(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,An.zW)())return!1;if(yc.C())return!0;const t=(0,An.ZQ)(),e=yc.S(t),i=0<e&&e<10,r=yc.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,Te.A)(function*(){return e.db||(Ke("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new ux(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new Le(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Le(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new ux(t,u))},s.onupgradeneeded=a=>{Ke("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Te.A)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{s.db=yield s.$(t);const f=dT.open(s.db,t,a?"readonly":"readwrite",i),m=r(f).next(v=>(f.P(),v)).catch(v=>(f.abort(v),ge.reject(v))).toPromise();return m.catch(()=>{}),yield f.R,m}catch(f){const m=f,v="FirebaseError"!==m.name&&u<3;if(Ke("SimpleDb","Transaction failed with error:",m.message,"Retrying:",v),s.close(),!v)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class w8{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return wg(this.L.delete())}}class ux extends Le{constructor(t,e){super(we.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function dp(n){return"IndexedDbTransactionError"===n.name}class x8{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ke("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),wg(i)}add(t){return Ke("SimpleDb","ADD",this.store.name,t,t),wg(this.store.add(t))}get(t){return wg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ke("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ke("SimpleDb","DELETE",this.store.name,t),wg(this.store.delete(t))}count(){return Ke("SimpleDb","COUNT",this.store.name),wg(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,u)=>{s.push(u)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ge((s,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ge((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ge((i,r)=>{e.onerror=s=>{const a=KP(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new ge((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const f=new w8(u),m=e(u.primaryKey,u.value,f);if(m instanceof ge){const v=m.catch(x=>(f.done(),ge.reject(x)));i.push(v)}f.isDone?r():null===f.K?u.continue():u.continue(f.K)}}).next(()=>ge.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function wg(n){return new ge((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=KP(i.target.error);e(r)}})}let fH=!1;function KP(n){const t=yc.S((0,An.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fH||(fH=!0,setTimeout(()=>{throw i},0)),i}}return n}class E8{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ke("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Te.A)(function*(){e.task=null;try{Ke("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){dp(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield up(i)}yield e.et(6e4)}))}}class C8{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Te.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return ge.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return Ke("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(u=>(Ke("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=uH(s);GP(a,i)>0&&(i=a)}),new ka(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Oa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function dx(n){return null==n}function hx(n){return 0===n&&1/n==-1/0}function pH(n){return"number"==typeof n&&Number.isInteger(n)&&!hx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Gs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=mH(t)),t=D8(n.get(e),t);return mH(t)}function D8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function mH(n){return n+"\x01\x01"}function Ou(n){const t=n.length;if(At(t>=2),2===t)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&yt(),n.charAt(a+1)){case"\x01":const u=n.substring(s,a);let f;0===r.length?f=u:(r+=u,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:yt()}s=a+2}return new xn(i)}const gH=["userId","batchId"];function hT(n,t){return[n,Gs(t)]}function _H(n,t,e){return[n,Gs(t),e]}const I8={},S8=["prefixPath","collectionGroup","readTime","documentId"],T8=["prefixPath","collectionGroup","documentId"],A8=["collectionGroup","readTime","prefixPath","documentId"],M8=["canonicalId","targetId"],R8=["targetId","path"],k8=["path","targetId"],O8=["collectionId","parent"],P8=["indexId","uid"],N8=["uid","sequenceNumber"],F8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L8=["indexId","uid","orderedDocumentKey"],V8=["userId","collectionPath","documentId"],B8=["userId","collectionPath","largestBatchId"],U8=["userId","collectionGroup","largestBatchId"],yH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],j8=[...yH,"documentOverlays"],vH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bH=vH,H8=[...bH,"indexConfiguration","indexState","indexEntries"];class qP extends hH{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function us(n,t){const e=ot(n);return yc.M(e.ht,t)}function wH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function xH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ci{constructor(t,e){this.comparator=t,this.root=e||Ss.EMPTY}insert(t,e){return new ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(t){return new ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fT(this.root,t,this.comparator,!1)}getReverseIterator(){return new fT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fT(this.root,t,this.comparator,!0)}}class fT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ss{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ss.RED,this.left=r??Ss.EMPTY,this.right=s??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ss(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ss.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ss(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _i{constructor(t){this.comparator=t,this.data=new ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new EH(this.data.getIterator())}getIteratorFrom(t){return new EH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof _i)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new _i(this.comparator);return e.data=t,e}}class EH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uv(n){return n.hasNext()?n.getNext():void 0}class ea{constructor(t){this.fields=t,t.sort(or.comparator)}static empty(){return new ea([])}unionWith(t){let e=new _i(or.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ea(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return cv(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class CH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new CH("Invalid base64 string: "+r):r}}(t);return new Wr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Wr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const $8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fp(n){if(At(!!n),"string"==typeof n){let t=0;const e=$8.exec(n);if(At(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ar(n.seconds),nanos:ar(n.nanos)}}function ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dh(n){return"string"==typeof n?Wr.fromBase64String(n):Wr.fromUint8Array(n)}function pT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function mT(n){const t=n.mapValue.fields.__previous_value__;return pT(t)?mT(t):t}function fx(n){const t=fp(n.mapValue.fields.__local_write_time__.timestampValue);return new Pi(t.seconds,t.nanos)}class G8{constructor(t,e,i,r,s,a,u,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m}}class pp{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new pp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof pp&&t.projectId===this.projectId&&t.database===this.database}}const mp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gT={nullValue:"NULL_VALUE"};function gp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pT(n)?4:TH(n)?9007199254740991:10:yt()}function Pu(n,t){if(n===t)return!0;const e=gp(n);if(e!==gp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return fx(n).isEqual(fx(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=fp(i.timestampValue),a=fp(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Dh(n.bytesValue).isEqual(Dh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ar(i.geoPointValue.latitude)===ar(r.geoPointValue.latitude)&&ar(i.geoPointValue.longitude)===ar(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ar(i.integerValue)===ar(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ar(i.doubleValue),a=ar(r.doubleValue);return s===a?hx(s)===hx(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return cv(n.arrayValue.values||[],t.arrayValue.values||[],Pu);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(wH(s)!==wH(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Pu(s[u],a[u])))return!1;return!0}(n,t);default:return yt()}var r}function px(n,t){return void 0!==(n.values||[]).find(e=>Pu(e,t))}function _p(n,t){if(n===t)return 0;const e=gp(n),i=gp(t);if(e!==i)return Yt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=ar(r.integerValue||r.doubleValue),u=ar(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return DH(n.timestampValue,t.timestampValue);case 4:return DH(fx(n),fx(t));case 5:return Yt(n.stringValue,t.stringValue);case 6:return function(r,s){const a=Dh(r),u=Dh(s);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let f=0;f<a.length&&f<u.length;f++){const m=Yt(a[f],u[f]);if(0!==m)return m}return Yt(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Yt(ar(r.latitude),ar(s.latitude));return 0!==a?a:Yt(ar(r.longitude),ar(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let f=0;f<a.length&&f<u.length;++f){const m=_p(a[f],u[f]);if(m)return m}return Yt(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===mp.mapValue&&s===mp.mapValue)return 0;if(r===mp.mapValue)return 1;if(s===mp.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),f=s.fields||{},m=Object.keys(f);u.sort(),m.sort();for(let v=0;v<u.length&&v<m.length;++v){const x=Yt(u[v],m[v]);if(0!==x)return x;const S=_p(a[u[v]],f[m[v]]);if(0!==S)return S}return Yt(u.length,m.length)}(n.mapValue,t.mapValue);default:throw yt()}}function DH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yt(n,t);const e=fp(n),i=fp(t),r=Yt(e.seconds,i.seconds);return 0!==r?r:Yt(e.nanos,i.nanos)}function dv(n){return XP(n)}function XP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=fp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dh(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=XP(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${XP(i.fields[u])}`;return s+"}"}(n.mapValue):yt();var t}function xg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function YP(n){return!!n&&"integerValue"in n}function mx(n){return!!n&&"arrayValue"in n}function IH(n){return!!n&&"nullValue"in n}function SH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yT(n){return!!n&&"mapValue"in n}function gx(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return hp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=gx(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gx(n.arrayValue.values[e]);return t}return Object.assign({},n)}function TH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function W8(n){return"nullValue"in n?gT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xg(pp.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yt()}function K8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xg(pp.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mp:yt()}function AH(n,t){const e=_p(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function MH(n,t){const e=_p(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ts{constructor(t){this.value=t}static empty(){return new Ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gx(e)}setAll(t){let e=or.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=gx(a):r.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());yT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){hp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ts(gx(this.value))}}function RH(n){const t=[];return hp(n.fields,(e,i)=>{const r=new or([e]);if(yT(i)){const s=RH(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new ea(t)}class yi{constructor(t,e,i,r,s,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(t){return new yi(t,0,Rt.min(),Rt.min(),Rt.min(),Ts.empty(),0)}static newFoundDocument(t,e,i,r){return new yi(t,1,e,Rt.min(),i,r,0)}static newNoDocument(t,e){return new yi(t,2,e,Rt.min(),Rt.min(),Ts.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,Rt.min(),Rt.min(),Ts.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yp{constructor(t,e){this.position=t,this.inclusive=e}}function kH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?it.comparator(it.fromName(a.referenceValue),e.key):_p(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function OH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pu(n.position[e],t.position[e]))return!1;return!0}class hv{constructor(t,e="asc"){this.field=t,this.dir=e}}function q8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class PH{}class _n extends PH{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new X8(t,e,i):"array-contains"===e?new Z8(t,i):"in"===e?new UH(t,i):"not-in"===e?new J8(t,i):"array-contains-any"===e?new eK(t,i):new _n(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Y8(t,i):new Q8(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(_p(e,this.value)):null!==e&&gp(this.value)===gp(e)&&this.matchesComparison(_p(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends PH{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new $n(t,e)}matches(t){return fv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function fv(n){return"and"===n.op}function QP(n){return"or"===n.op}function ZP(n){return NH(n)&&fv(n)}function NH(n){for(const t of n.filters)if(t instanceof $n)return!1;return!0}function JP(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+dv(n.value);if(ZP(n))return n.filters.map(t=>JP(t)).join(",");{const t=n.filters.map(e=>JP(e)).join(",");return`${n.op}(${t})`}}function FH(n,t){return n instanceof _n?(e=n,(i=t)instanceof _n&&e.op===i.op&&e.field.isEqual(i.field)&&Pu(e.value,i.value)):n instanceof $n?function(e,i){return i instanceof $n&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&FH(s,i.filters[a]),!0)}(n,t):void yt();var e,i}function LH(n,t){const e=n.filters.concat(t);return $n.create(e,n.op)}function VH(n){return n instanceof _n?`${(t=n).field.canonicalString()} ${t.op} ${dv(t.value)}`:n instanceof $n?function(t){return t.op.toString()+" {"+t.getFilters().map(VH).join(" ,")+"}"}(n):"Filter";var t}class X8 extends _n{constructor(t,e,i){super(t,e,i),this.key=it.fromName(i.referenceValue)}matches(t){const e=it.comparator(t.key,this.key);return this.matchesComparison(e)}}class Y8 extends _n{constructor(t,e){super(t,"in",e),this.keys=BH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Q8 extends _n{constructor(t,e){super(t,"not-in",e),this.keys=BH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function BH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>it.fromName(i.referenceValue))}class Z8 extends _n{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return mx(e)&&px(e.arrayValue,this.value)}}class UH extends _n{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&px(this.value.arrayValue,e)}}class J8 extends _n{constructor(t,e){super(t,"not-in",e)}matches(t){if(px(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!px(this.value.arrayValue,e)}}class eK extends _n{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!mx(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>px(this.value.arrayValue,i))}}class tK{constructor(t,e=null,i=[],r=[],s=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.dt=null}}function eN(n,t=null,e=[],i=[],r=null,s=null,a=null){return new tK(n,t,e,i,r,s,a)}function Eg(n){const t=ot(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>JP(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),dx(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>dv(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>dv(i)).join(",")),t.dt=e}return t.dt}function _x(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!q8(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!FH(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!OH(n.startAt,t.startAt)&&OH(n.endAt,t.endAt)}function vT(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bT(n,t){return n.filters.filter(e=>e instanceof _n&&e.field.isEqual(t))}function jH(n,t,e){let i=gT,r=!0;for(const s of bT(n,t)){let a=gT,u=!0;switch(s.op){case"<":case"<=":a=W8(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=gT}AH({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];AH({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function HH(n,t,e){let i=mp,r=!0;for(const s of bT(n,t)){let a=mp,u=!0;switch(s.op){case">=":case">":a=K8(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=mp}MH({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];MH({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Ih{constructor(t,e=null,i=[],r=[],s=null,a="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=f,this.wt=null,this._t=null}}function zH(n,t,e,i,r,s,a,u){return new Ih(n,t,e,i,r,s,a,u)}function pv(n){return new Ih(n)}function $H(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wT(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function nN(n){return null!==n.collectionGroup}function Cg(n){const t=ot(n);if(null===t.wt){t.wt=[];const e=wT(t),i=tN(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new hv(e)),t.wt.push(new hv(or.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new hv(or.keyField(),s))}}}return t.wt}function So(n){const t=ot(n);if(!t._t)if("F"===t.limitType)t._t=eN(t.path,t.collectionGroup,Cg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Cg(t))e.push(new hv(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new yp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yp(t.startAt.position,t.startAt.inclusive):null;t._t=eN(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function iN(n,t){t.getFirstInequalityField(),wT(n);const e=n.filters.concat([t]);return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xT(n,t,e){return new Ih(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yx(n,t){return _x(So(n),So(t))&&n.limitType===t.limitType}function GH(n){return`${Eg(So(n))}|lt:${n.limitType}`}function rN(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>VH(i)).join(", ")}]`),dx(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>dv(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>dv(i)).join(",")),`Target(${e})`}(So(n))}; limitType=${n.limitType})`}function vx(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):it.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Cg(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const u=kH(r,s,a);return r.inclusive?u<=0:u<0}(e.startAt,Cg(e),i)||e.endAt&&!function(r,s,a){const u=kH(r,s,a);return r.inclusive?u>=0:u>0}(e.endAt,Cg(e),i)));var e,i}function WH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KH(n){return(t,e)=>{let i=!1;for(const r of Cg(n)){const s=nK(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function nK(n,t,e){const i=n.field.isKeyField()?it.comparator(t.key,e.key):function(r,s,a){const u=s.data.field(r),f=a.data.field(r);return null!==u&&null!==f?_p(u,f):yt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}class Sh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){hp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return xH(this.inner)}size(){return this.innerSize}}const iK=new ci(it.comparator);function ta(){return iK}const qH=new ci(it.comparator);function bx(...n){let t=qH;for(const e of n)t=t.insert(e.key,e);return t}function XH(n){let t=qH;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Nu(){return wx()}function YH(){return wx()}function wx(){return new Sh(n=>n.toString(),(n,t)=>n.isEqual(t))}const rK=new ci(it.comparator),sK=new _i(it.comparator);function an(...n){let t=sK;for(const e of n)t=t.add(e);return t}const oK=new _i(Yt);function sN(){return oK}function QH(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hx(t)?"-0":t}}function ZH(n){return{integerValue:""+n}}function JH(n,t){return pH(t)?ZH(t):QH(n,t)}class ET{constructor(){this._=void 0}}function aK(n,t,e){return n instanceof mv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&pT(r)&&(r=mT(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Dg?tz(n,t):n instanceof Ig?nz(n,t):function(i,r){const s=ez(i,r),a=iz(s)+iz(i.gt);return YP(s)&&YP(i.gt)?ZH(a):QH(i.serializer,a)}(n,t)}function lK(n,t,e){return n instanceof Dg?tz(n,t):n instanceof Ig?nz(n,t):e}function ez(n,t){return n instanceof gv?YP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class mv extends ET{}class Dg extends ET{constructor(t){super(),this.elements=t}}function tz(n,t){const e=rz(t);for(const i of n.elements)e.some(r=>Pu(r,i))||e.push(i);return{arrayValue:{values:e}}}class Ig extends ET{constructor(t){super(),this.elements=t}}function nz(n,t){let e=rz(t);for(const i of n.elements)e=e.filter(r=>!Pu(r,i));return{arrayValue:{values:e}}}class gv extends ET{constructor(t,e){super(),this.serializer=t,this.gt=e}}function iz(n){return ar(n.integerValue||n.doubleValue)}function rz(n){return mx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xx{constructor(t,e){this.field=t,this.transform=e}}class uK{constructor(t,e){this.version=t,this.transformResults=e}}class Ni{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function CT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class DT{}function sz(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new yv(n.key,Ni.none()):new _v(n.key,n.data,Ni.none());{const e=n.data,i=Ts.empty();let r=new _i(or.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Th(n.key,i,new ea(r.toArray()),Ni.none())}}function dK(n,t,e){n instanceof _v?function(i,r,s){const a=i.value.clone(),u=lz(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Th?function(i,r,s){if(!CT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=lz(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(az(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ex(n,t,e,i){return n instanceof _v?function(r,s,a,u){if(!CT(r.precondition,s))return a;const f=r.value.clone(),m=cz(r.fieldTransforms,u,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Th?function(r,s,a,u){if(!CT(r.precondition,s))return a;const f=cz(r.fieldTransforms,u,s),m=s.data;return m.setAll(az(r)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,t,e,i):(a=e,CT(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function hK(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=ez(i.transform,r||null);null!=s&&(null===e&&(e=Ts.empty()),e.set(i.field,s))}return e||null}function oz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&cv(e,i,(r,s)=>function cK(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Dg&&i instanceof Dg||e instanceof Ig&&i instanceof Ig?cv(e.elements,i.elements,Pu):e instanceof gv&&i instanceof gv?Pu(e.gt,i.gt):e instanceof mv&&i instanceof mv);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class _v extends DT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Th extends DT{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function az(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function lz(n,t,e){const i=new Map;At(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,u=t.data.field(s.field);i.set(s.field,lK(a,u,e[r]))}return i}function cz(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,aK(s,a,t))}return i}class yv extends DT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oN extends DT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&dK(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ex(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ex(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=YH();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=e.has(r.key)?null:u;const f=sz(a,u);null!==f&&i.set(r.key,f),a.isValidDocument()||a.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),an())}isEqual(t){return this.batchId===t.batchId&&cv(this.mutations,t.mutations,(e,i)=>oz(e,i))&&cv(this.baseMutations,t.baseMutations,(e,i)=>oz(e,i))}}class lN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){At(t.mutations.length===i.length);let r=rK;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new lN(t,e,i,r)}}class cN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pK{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pr,En;function uz(n){switch(n){default:return yt();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function dz(n){if(void 0===n)return gr("GRPC error has no .code"),we.UNKNOWN;switch(n){case Pr.OK:return we.OK;case Pr.CANCELLED:return we.CANCELLED;case Pr.UNKNOWN:return we.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return we.INTERNAL;case Pr.UNAVAILABLE:return we.UNAVAILABLE;case Pr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Pr.NOT_FOUND:return we.NOT_FOUND;case Pr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Pr.ABORTED:return we.ABORTED;case Pr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Pr.DATA_LOSS:return we.DATA_LOSS;default:return yt()}}(En=Pr||(Pr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class uN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return IT}static getOrCreateInstance(){return null===IT&&(IT=new uN),IT}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let IT=null;function hz(){return new TextEncoder}const mK=new av([4294967295,4294967295],0);function fz(n){const t=hz().encode(n),e=new l8;return e.update(t),new Uint8Array(e.digest())}function pz(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new av([e,i],0),new av([r,s],0)]}class dN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Cx(`Invalid padding: ${e}`);if(i<0)throw new Cx(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Cx(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Cx(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=av.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(av.fromNumber(i)));return 1===r.compare(mK)&&(r=new av([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=fz(t),[i,r]=pz(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new dN(s,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.It)return;const e=fz(t),[i,r]=pz(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Cx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dx{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Ix.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Dx(Rt.min(),r,new ci(Yt),ta(),an())}}class Ix{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ix(i,e,an(),an(),an())}}class ST{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class mz{constructor(t,e){this.targetId=t,this.Vt=e}}class gz{constructor(t,e,i=Wr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class _z{constructor(){this.St=0,this.Dt=vz(),this.Ct=Wr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=an(),e=an(),i=an();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new Ix(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=vz()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gK{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ta(),this.zt=yz(),this.Wt=new ci(Yt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:yt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if(vT(a))if(0===r){const u=new it(a.path);this.Yt(i,u,yi.newNoDocument(u,Rt.min()))}else At(1===r);else{const u=this.ie(i);if(u!==r){const f=this.re(t,u);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=uN.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(m,v,x){var S,A,O,P,L,$;const X={localCacheCount:v,existenceFilterCount:x.count},ee=x.unchangedNames;return ee&&(X.bloomFilter={applied:0===m,hashCount:null!==(S=ee?.hashCount)&&void 0!==S?S:0,bitmapLength:null!==(P=null===(O=null===(A=ee?.bits)||void 0===A?void 0:A.bitmap)||void 0===O?void 0:O.length)&&void 0!==P?P:0,padding:null!==($=null===(L=ee?.bits)||void 0===L?void 0:L.padding)&&void 0!==$?$:0}),X}(f,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=i;let f,m;try{f=Dh(s).toUint8Array()}catch(v){if(v instanceof CH)return yl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{m=new dN(f,a,u)}catch(v){return yl(v instanceof Cx?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===m.It?1:r!==e-this.oe(t.targetId,m)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(u)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const u=this.se(a);if(u){if(s.current&&vT(u.target)){const f=new it(u.target.path);null!==this.jt.get(f)||this.ae(a,f)||this.Yt(a,f,yi.newNoDocument(f,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=an();this.zt.forEach((s,a)=>{let u=!0;a.forEachWhile(f=>{const m=this.se(f);return!m||"TargetPurposeLimboResolution"===m.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new Dx(t,e,this.Wt,this.jt,i);return this.jt=ta(),this.zt=yz(),this.Wt=new ci(Yt),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new _z,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new _i(Yt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Ke("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new _z),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function yz(){return new ci(it.comparator)}function vz(){return new ci(it.comparator)}const _K={asc:"ASCENDING",desc:"DESCENDING"},yK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vK={and:"AND",or:"OR"};class bK{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hN(n,t){return n.useProto3Json||dx(t)?t:{value:t}}function vv(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bz(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function wK(n,t){return vv(n,t.toTimestamp())}function _r(n){return At(!!n),Rt.fromTimestamp(function(t){const e=fp(t);return new Pi(e.seconds,e.nanos)}(n))}function fN(n,t){return(e=n,new xn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function wz(n){const t=xn.fromString(n);return At(Mz(t)),t}function Sx(n,t){return fN(n.databaseId,t.path)}function Fu(n,t){const e=wz(t);if(e.get(1)!==n.databaseId.projectId)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new it(Ez(e))}function pN(n,t){return fN(n.databaseId,t)}function xz(n){const t=wz(n);return 4===t.length?xn.emptyPath():Ez(t)}function Tx(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ez(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cz(n,t,e){return{name:Sx(n,t),fields:e.value.mapValue.fields}}function Dz(n,t,e){const i=Fu(n,t.name),r=_r(t.updateTime),s=t.createTime?_r(t.createTime):Rt.min(),a=new Ts({mapValue:{fields:t.fields}}),u=yi.newFoundDocument(i,r,s,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Ax(n,t){let e;if(t instanceof _v)e={update:Cz(n,t.key,t.value)};else if(t instanceof yv)e={delete:Sx(n,t.key)};else if(t instanceof Th)e={update:Cz(n,t.key,t.data),updateMask:AK(t.fieldMask)};else{if(!(t instanceof oN))return yt();e={verify:Sx(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof mv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ig)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gv)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw yt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:wK(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:yt()),e;var r}function mN(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ni.updateTime(_r(r.updateTime)):void 0!==r.exists?Ni.exists(r.exists):Ni.none():Ni.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let u=null;"setToServerValue"in a?(At("REQUEST_TIME"===a.setToServerValue),u=new mv):"appendMissingElements"in a?u=new Dg(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Ig(a.removeAllFromArray.values||[]):"increment"in a?u=new gv(s,a.increment):yt();const f=or.fromServerFormat(a.fieldPath);return new xx(f,u)}(n,r)):[];var r;if(t.update){const r=Fu(n,t.update.name),s=new Ts({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new ea((t.updateMask.fieldPaths||[]).map(m=>or.fromServerFormat(m)));return new Th(r,s,a,e,i)}return new _v(r,s,e,i)}if(t.delete){const r=Fu(n,t.delete);return new yv(r,e)}if(t.verify){const r=Fu(n,t.verify);return new oN(r,e)}return yt()}function Iz(n,t){return{documents:[pN(n,t.path)]}}function gN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=pN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=pN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return Az($n.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(m=>{return{field:vp((v=m).field),direction:IK(v.dir)};var v})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=hN(n,t.limit);var u,f;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function Sz(n){let t=xz(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){At(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let s=[];e.where&&(s=function(v){const x=Tz(v);return x instanceof $n&&ZP(x)?x.getFilters():[x]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(v=>{return new hv(bv((x=v).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let u=null;e.limit&&(u=function(v){let x;return x="object"==typeof v?v.value:v,dx(x)?null:x}(e.limit));let f=null;var v;e.startAt&&(f=new yp((v=e.startAt).values||[],!!v.before));let m=null;return e.endAt&&(m=function(v){return new yp(v.values||[],!v.before)}(e.endAt)),zH(t,r,a,s,u,"F",f,m)}function Tz(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=bv(t.unaryFilter.field);return _n.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=bv(t.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bv(t.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bv(t.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(n):void 0!==n.fieldFilter?_n.create(bv((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return $n.create(t.compositeFilter.filters.map(e=>Tz(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yt()}}(t.compositeFilter.op))}(n):yt();var t}function IK(n){return _K[n]}function SK(n){return yK[n]}function TK(n){return vK[n]}function vp(n){return{fieldPath:n.canonicalString()}}function bv(n){return or.fromServerFormat(n.fieldPath)}function Az(n){return n instanceof _n?function(t){if("=="===t.op){if(SH(t.value))return{unaryFilter:{field:vp(t.field),op:"IS_NAN"}};if(IH(t.value))return{unaryFilter:{field:vp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(SH(t.value))return{unaryFilter:{field:vp(t.field),op:"IS_NOT_NAN"}};if(IH(t.value))return{unaryFilter:{field:vp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vp(t.field),op:SK(t.op),value:t.value}}}(n):n instanceof $n?function(t){const e=t.getFilters().map(i=>Az(i));return 1===e.length?e[0]:{compositeFilter:{op:TK(t.op),filters:e}}}(n):yt()}function AK(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Mz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ah{constructor(t,e,i,r,s=Rt.min(),a=Rt.min(),u=Wr.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Ah(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ah(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ah(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ah(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Rz{constructor(t){this.fe=t}}function kz(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:TT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Sx(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:vv(r,s.version.toTimestamp()),createTime:vv(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Sg(t.version)};else{if(!t.isUnknownDocument())return yt();i.unknownDocument={path:e.path.toArray(),version:Sg(t.version)}}var r,s;return i}function TT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Sg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Tg(n){const t=new Pi(n.seconds,n.nanoseconds);return Rt.fromTimestamp(t)}function Ag(n,t){const e=(t.baseMutations||[]).map(s=>mN(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>mN(n.fe,s)),r=Pi.fromMillis(t.localWriteTimeMs);return new aN(t.batchId,r,e,i)}function Mx(n){const t=Tg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Tg(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(At(1===(r=n.query).documents.length),i=So(pv(xz(r.documents[0])))):i=So(Sz(n.query)),new Ah(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Wr.fromBase64String(n.resumeToken))}function Oz(n,t){const e=Sg(t.snapshotVersion),i=Sg(t.lastLimboFreeSnapshotVersion);let r;r=vT(t.target)?Iz(n.fe,t.target):gN(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Eg(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _N(n){const t=Sz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xT(t,t.limit,"L"):t}function yN(n,t){return new cN(t.largestBatchId,mN(n.fe,t.overlayMutation))}function Pz(n,t){const e=t.path.lastSegment();return[n,Gs(t.path.popLast()),e]}function Nz(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Sg(i.readTime),documentKey:Gs(i.documentKey.path),largestBatchId:i.largestBatchId}}class RK{getBundleMetadata(t,e){return Fz(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Tg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return Fz(t).put({bundleId:(i=e).id,createTime:Sg(_r(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Lz(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_N(r.bundledQuery),readTime:Tg(r.readTime)};var r})}saveNamedQuery(t,e){return Lz(t).put({name:(i=e).name,readTime:Sg(_r(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Fz(n){return us(n,"bundles")}function Lz(n){return us(n,"namedQueries")}class AT{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new AT(t,e.uid||"")}getOverlay(t,e){return Rx(t).get(Pz(this.userId,e)).next(i=>i?yN(this.serializer,i):null)}getOverlays(t,e){const i=Nu();return ge.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const u=new cN(e,a);r.push(this.we(t,u))}),ge.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(Gs(a.getCollectionPath())));const s=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(Rx(t).J("collectionPathOverlayIndex",u))}),ge.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Nu(),s=Gs(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Rx(t).j("collectionPathOverlayIndex",a).next(u=>{for(const f of u){const m=yN(this.serializer,f);r.set(m.getKey(),m)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Nu();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Rx(t).X({index:"collectionGroupOverlayIndex",range:u},(f,m,v)=>{const x=yN(this.serializer,m);s.size()<r||x.largestBatchId===a?(s.set(x.getKey(),x),a=x.largestBatchId):v.done()}).next(()=>s)}we(t,e){return Rx(t).put(function(i,r,s){const[a,u,f]=Pz(r,s.mutation.key);return{userId:r,collectionPath:u,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ax(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function Rx(n){return us(n,"documentOverlays")}class Mg{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(ar(t.integerValue));else if("doubleValue"in t){const i=ar(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),hx(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Dh(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?TH(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):yt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),it.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function kK(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Vz(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=kK(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Mg.Ve=new Mg;class OK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=Vz(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=Vz(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class PK{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class NK{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class kx{constructor(){this.je=new OK,this.ze=new PK(this.je),this.We=new NK(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Rg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Rg(this.indexId,this.documentKey,this.arrayValue,i)}}function bp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Bz(n.arrayValue,t.arrayValue),0!==e?e:(e=Bz(n.directionalValue,t.directionalValue),0!==e?e:it.comparator(n.documentKey,t.documentKey)))}function Bz(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class FK{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){At(t.collectionGroup===this.collectionId);const e=$P(t);if(void 0!==e&&!this.en(e))return!1;const i=bg(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[s];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[a++],u))return!1}++s}for(;s<i.length;++s)if(a>=this.Ye.length||!this.sn(this.Ye[a++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Uz(n){var t,e;if(At(n instanceof _n||n instanceof $n),n instanceof _n){if(n instanceof UH){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>_n.create(n.field,"==",s)))||[];return $n.create(r,"or")}return n}const i=n.filters.map(r=>Uz(r));return $n.create(i,n.op)}function LK(n){if(0===n.getFilters().length)return[];const t=wN(Uz(n));return At(jz(t)),vN(t)||bN(t)?[t]:t.getFilters()}function vN(n){return n instanceof _n}function bN(n){return n instanceof $n&&ZP(n)}function jz(n){return vN(n)||bN(n)||function(t){if(t instanceof $n&&QP(t)){for(const e of t.getFilters())if(!vN(e)&&!bN(e))return!1;return!0}return!1}(n)}function wN(n){if(At(n instanceof _n||n instanceof $n),n instanceof _n)return n;if(1===n.filters.length)return wN(n.filters[0]);const t=n.filters.map(i=>wN(i));let e=$n.create(t,n.op);return e=MT(e),jz(e)?e:(At(e instanceof $n),At(fv(e)),At(e.filters.length>1),e.filters.reduce((i,r)=>xN(i,r)))}function xN(n,t){let e;return At(n instanceof _n||n instanceof $n),At(t instanceof _n||t instanceof $n),e=n instanceof _n?t instanceof _n?$n.create([n,t],"and"):Hz(n,t):t instanceof _n?Hz(t,n):function(i,r){if(At(i.filters.length>0&&r.filters.length>0),fv(i)&&fv(r))return LH(i,r.getFilters());const s=QP(i)?i:r,a=QP(i)?r:i,u=s.filters.map(f=>xN(f,a));return $n.create(u,"or")}(n,t),MT(e)}function Hz(n,t){if(fv(t))return LH(t,n.getFilters());{const e=t.filters.map(i=>xN(n,i));return $n.create(e,"or")}}function MT(n){if(At(n instanceof _n||n instanceof $n),n instanceof _n)return n;const t=n.getFilters();if(1===t.length)return MT(t[0]);if(NH(n))return n;const e=t.map(r=>MT(r)),i=[];return e.forEach(r=>{r instanceof _n?i.push(r):r instanceof $n&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$n.create(i,n.op)}class VK{constructor(){this.rn=new EN}addToCollectionParentIndex(t,e){return this.rn.add(e),ge.resolve()}getCollectionParents(t,e){return ge.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ge.resolve()}deleteFieldIndex(t,e){return ge.resolve()}getDocumentsMatchingTarget(t,e){return ge.resolve(null)}getIndexType(t,e){return ge.resolve(0)}getFieldIndexes(t,e){return ge.resolve([])}getNextCollectionGroupToUpdate(t){return ge.resolve(null)}getMinOffset(t,e){return ge.resolve(ka.min())}getMinOffsetFromCollectionGroup(t,e){return ge.resolve(ka.min())}updateCollectionGroup(t,e,i){return ge.resolve()}updateIndexEntries(t,e){return ge.resolve()}}class EN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new _i(xn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new _i(xn.comparator)).toArray()}}const RT=new Uint8Array(0);class BK{constructor(t,e){this.user=t,this.databaseId=e,this.on=new EN,this.un=new Sh(i=>Eg(i),(i,r)=>_x(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:Gs(r)};return zz(t).put(s)}return ge.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[lH(e),""],!1,!0);return zz(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Ou(a.parent))}return i})}addFieldIndex(t,e){const i=kT(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=Px(t);return s.next(u=>{a.put(Nz(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=kT(t),r=Px(t),s=Ox(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Ox(t);let r=!0;const s=new Map;return ge.forEach(this.cn(e),a=>this.an(t,a).next(u=>{r&&(r=!!u),s.set(a,u)})).next(()=>{if(r){let a=an();const u=[];return ge.forEach(s,(f,m)=>{var v;Ke("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`} to execute ${Eg(e)}`);const x=function(ee,le){const ce=$P(le);if(void 0===ce)return null;for(const xe of bT(ee,ce.fieldPath))switch(xe.op){case"array-contains-any":return xe.value.arrayValue.values||[];case"array-contains":return[xe.value]}return null}(m,f),S=function(ee,le){const ce=new Map;for(const xe of bg(le))for(const ze of bT(ee,xe.fieldPath))switch(ze.op){case"==":case"in":ce.set(xe.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return ce.set(xe.fieldPath.canonicalString(),ze.value),Array.from(ce.values())}return null}(m,f),A=function(ee,le){const ce=[];let xe=!0;for(const ze of bg(le)){const Ge=0===ze.kind?jH(ee,ze.fieldPath,ee.startAt):HH(ee,ze.fieldPath,ee.startAt);ce.push(Ge.value),xe&&(xe=Ge.inclusive)}return new yp(ce,xe)}(m,f),O=function(ee,le){const ce=[];let xe=!0;for(const ze of bg(le)){const Ge=0===ze.kind?HH(ee,ze.fieldPath,ee.endAt):jH(ee,ze.fieldPath,ee.endAt);ce.push(Ge.value),xe&&(xe=Ge.inclusive)}return new yp(ce,xe)}(m,f),P=this.hn(f,m,A),L=this.hn(f,m,O),$=this.ln(f,m,S),X=this.fn(f.indexId,x,P,A.inclusive,L,O.inclusive,$);return ge.forEach(X,ee=>i.H(ee,e.limit).next(le=>{le.forEach(ce=>{const xe=it.fromSegments(ce.documentKey);a.has(xe)||(a=a.add(xe),u.push(xe))})}))}).next(()=>u)}return ge.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:LK($n.create(t.filters,"and")).map(i=>eN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,u){const f=(null!=e?e.length:1)*Math.max(i.length,s.length),m=f/(null!=e?e.length:1),v=[];for(let x=0;x<f;++x){const S=e?this.dn(e[x/m]):RT,A=this.wn(t,S,i[x%m],r),O=this._n(t,S,s[x%m],a),P=u.map(L=>this.wn(t,S,L,!0));v.push(...this.createRange(A,O,P))}return v}wn(t,e,i,r){const s=new Rg(t,it.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new Rg(t,it.empty(),e,i);return r?s.Je():s}an(t,e){const i=new FK(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const u of s)i.tn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return ge.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new _i(or.comparator),m=!1;for(const v of u.filters)for(const x of v.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?m=!0:f=f.add(x.field));for(const v of u.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(m?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new kx;for(const r of bg(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);Mg.Ve._e(s,a)}return i.Qe()}dn(t){const e=new kx;return Mg.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new kx;return Mg.Ve._e(xg(this.databaseId,e),i.He(function(r){const s=bg(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new kx);let s=0;for(const a of bg(t)){const u=i[s++];for(const f of r)if(this.yn(e,a.fieldPath)&&mx(u))r=this.pn(r,a,u);else{const m=f.He(a.kind);Mg.Ve._e(u,m)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const u of r){const f=new kx;f.seed(u.Qe()),Mg.Ve._e(a,f.He(e.kind)),s.push(f)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof _n&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=kT(t),r=Px(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return ge.forEach(s,u=>r.get([u.indexId,this.uid]).next(f=>{a.push(function(m,v){const x=v?new cx(v.sequenceNumber,new ka(Tg(v.readTime),new it(Ou(v.documentKey)),v.largestBatchId)):cx.empty(),S=m.fields.map(([A,O])=>new uT(or.fromServerFormat(A),O));return new cT(m.indexId,m.collectionGroup,S,x)}(u,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Yt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=kT(t),s=Px(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ge.forEach(u,f=>s.put(Nz(f.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return ge.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?ge.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ge.forEach(u,f=>this.En(t,r,f).next(m=>{const v=this.An(s,f);return m.isEqual(v)?ge.resolve():this.vn(t,s,f,m,v)}))))})}Rn(t,e,i,r){return Ox(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return Ox(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=Ox(t);let s=new _i(bp);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,u)=>{s=s.add(new Rg(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>s)}An(t,e){let i=new _i(bp);const r=this.mn(e,t);if(null==r)return i;const s=$P(e);if(null!=s){const a=t.data.field(s.fieldPath);if(mx(a))for(const u of a.arrayValue.values||[])i=i.add(new Rg(e.indexId,t.key,this.dn(u),r))}else i=i.add(new Rg(e.indexId,t.key,RT,r));return i}vn(t,e,i,r,s){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,f,m,v,x){const S=u.getIterator(),A=f.getIterator();let O=uv(S),P=uv(A);for(;O||P;){let L=!1,$=!1;if(O&&P){const X=m(O,P);X<0?$=!0:X>0&&(L=!0)}else null!=O?$=!0:L=!0;L?(v(P),P=uv(A)):$?(x(O),O=uv(S)):(O=uv(S),P=uv(A))}}(r,s,bp,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.Pn(t,e,i,u))}),ge.waitFor(a)}Tn(t){let e=1;return Px(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>bp(a,u)).filter((a,u,f)=>!u||0!==bp(a,f[u-1]));const r=[];r.push(t);for(const a of i){const u=bp(a,t),f=bp(a,e);if(0===u)r[0]=t.Je();else if(u>0&&f<0)r.push(a),r.push(a.Je());else if(f>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,RT,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,RT,[]]))}return s}bn(t,e){return bp(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next($z)}getMinOffset(t,e){return ge.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||yt())).next($z)}}function zz(n){return us(n,"collectionParents")}function Ox(n){return us(n,"indexEntries")}function kT(n){return us(n,"indexConfiguration")}function Px(n){return us(n,"indexState")}function $z(n){At(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;GP(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ka(t.readTime,t.documentKey,e)}const Gz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ws(t,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wz(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let u=0;const f=i.X({range:a},(v,x,S)=>(u++,S.delete()));s.push(f.next(()=>{At(1===u)}));const m=[];for(const v of e.mutations){const x=_H(t,v.key.path,e.batchId);s.push(r.delete(x)),m.push(v.key)}return ge.waitFor(s).next(()=>m)}function OT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw yt();t=n.noDocument}return JSON.stringify(t).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class PT{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){At(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new PT(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wp(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=wv(t),a=wp(t);return a.add({}).next(u=>{At("number"==typeof u);const f=new aN(u,e,i,r),m=function(S,A,O){const P=O.baseMutations.map($=>Ax(S.fe,$)),L=O.mutations.map($=>Ax(S.fe,$));return{userId:A,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:P,mutations:L}}(this.serializer,this.userId,f),v=[];let x=new _i((S,A)=>Yt(S.canonicalString(),A.canonicalString()));for(const S of r){const A=_H(this.userId,S.key.path,u);x=x.add(S.key.path.popLast()),v.push(a.put(m)),v.push(s.put(A,I8))}return x.forEach(S=>{v.push(this.indexManager.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(()=>{this.Vn[u]=f.keys()}),ge.waitFor(v).next(()=>f)})}lookupMutationBatch(t,e){return wp(t).get(e).next(i=>i?(At(i.userId===this.userId),Ag(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ge.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return wp(t).X({index:"userMutationsIndex",range:r},(a,u,f)=>{u.userId===this.userId&&(At(u.batchId>=i),s=Ag(this.serializer,u)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return wp(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wp(t).j("userMutationsIndex",e).next(i=>i.map(r=>Ag(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return wv(t).X({range:r},(a,u,f)=>{const[m,v,x]=a,S=Ou(v);if(m===this.userId&&e.path.isEqual(S))return wp(t).get(x).next(A=>{if(!A)throw yt();At(A.userId===this.userId),s.push(Ag(this.serializer,A))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new _i(Yt);const r=[];return e.forEach(s=>{const a=hT(this.userId,s.path),u=IDBKeyRange.lowerBound(a),f=wv(t).X({range:u},(m,v,x)=>{const[S,A,O]=m,P=Ou(A);S===this.userId&&s.path.isEqual(P)?i=i.add(O):x.done()});r.push(f)}),ge.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=hT(this.userId,i),a=IDBKeyRange.lowerBound(s);let u=new _i(Yt);return wv(t).X({range:a},(f,m,v)=>{const[x,S,A]=f,O=Ou(S);x===this.userId&&i.isPrefixOf(O)?O.length===r&&(u=u.add(A)):v.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(wp(t).get(s).next(a=>{if(null===a)throw yt();At(a.userId===this.userId),i.push(Ag(this.serializer,a))}))}),ge.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Wz(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ge.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ge.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return wv(t).X({range:i},(s,a,u)=>{if(s[0]===this.userId){const f=Ou(s[1]);r.push(f)}else u.done()}).next(()=>{At(0===r.length)})})}containsKey(t,e){return Kz(t,this.userId,e)}xn(t){return qz(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kz(n,t,e){const i=hT(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return wv(n).X({range:s,Y:!0},(u,f,m)=>{const[v,x,S]=u;v===t&&x===r&&(a=!0),m.done()}).next(()=>a)}function wp(n){return us(n,"mutations")}function wv(n){return us(n,"documentMutations")}function qz(n){return us(n,"mutationQueues")}class kg{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new kg(0)}static Mn(){return new kg(-1)}}class UK{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new kg(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Rt.fromTimestamp(new Pi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>xv(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(At(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return xv(t).X((a,u)=>{const f=Mx(u);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(t,f)))}).next(()=>ge.waitFor(s)).next(()=>r)}forEachTarget(t,e){return xv(t).X((i,r)=>{const s=Mx(r);e(s)})}$n(t){return Xz(t).get("targetGlobalKey").next(e=>(At(null!==e),e))}On(t,e){return Xz(t).put("targetGlobalKey",e)}Fn(t,e){return xv(t).put(Oz(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Eg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return xv(t).X({range:r,index:"queryTargetsIndex"},(a,u,f)=>{const m=Mx(u);_x(e,m.target)&&(s=m,f.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=xp(t);return e.forEach(a=>{const u=Gs(a.path);r.push(s.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),ge.waitFor(r)}removeMatchingKeys(t,e,i){const r=xp(t);return ge.forEach(e,s=>{const a=Gs(s.path);return ge.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=xp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=xp(t);let s=an();return r.X({range:i,Y:!0},(a,u,f)=>{const m=Ou(a[1]),v=new it(m);s=s.add(v)}).next(()=>s)}containsKey(t,e){const i=Gs(e.path),r=IDBKeyRange.bound([i],[lH(i)],!1,!0);let s=0;return xp(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],f,m)=>{0!==a&&(s++,m.done())}).next(()=>s>0)}le(t,e){return xv(t).get(e).next(i=>i?Mx(i):null)}}function xv(n){return us(n,"targets")}function Xz(n){return us(n,"targetGlobal")}function xp(n){return us(n,"targetDocuments")}function Yz([n,t],[e,i]){const r=Yt(n,e);return 0===r?Yt(t,i):r}class jK{constructor(t){this.Ln=t,this.buffer=new _i(Yz),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Yz(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Qz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Te.A)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){dp(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield up(i)}yield e.Qn(3e5)}))}}class HK{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ge.resolve(Oa.ct);const i=new jK(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Gz)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gz):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,u,f,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,a=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,u=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(m=Date.now(),HP()<=op.$b.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${s} targets in `+(f-u)+`ms\n\tRemoved ${x} documents in `+(m-f)+`ms\nTotal Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class zK{constructor(t,e){this.db=t,this.garbageCollector=function Zz(n,t){return new HK(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return NT(t,i)}removeReference(t,e,i){return NT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return NT(t,e)}Xn(t,e){return function(i,r){let s=!1;return qz(i).Z(a=>Kz(i,a,r).next(u=>(u&&(s=!0),ge.resolve(!u)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,u)=>{if(u<=e){const f=this.Xn(t,a).next(m=>{if(!m)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,Rt.min()),xp(t).delete([0,Gs(a.path)])))});r.push(f)}}).next(()=>ge.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return NT(t,e)}Yn(t,e){const i=xp(t);let r,s=Oa.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:f,sequenceNumber:m})=>{0===a?(s!==Oa.ct&&e(new it(Ou(r)),s),s=m,r=f):s=Oa.ct}).next(()=>{s!==Oa.ct&&e(new it(Ou(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function NT(n,t){return xp(n).put((i=n.currentSequenceNumber,{targetId:0,path:Gs(t.path),sequenceNumber:i}));var i}class Jz{constructor(){this.changes=new Sh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ge.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $K{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Og(t).put(i)}removeEntry(t,e,i){return Og(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],TT(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=yi.newInvalidDocument(e);return Og(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nx(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:yi.newInvalidDocument(e)};return Og(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nx(e))},(r,s)=>{i={document:this.ts(e,s),size:OT(s)}}).next(()=>i)}getEntries(t,e){let i=ta();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=ta(),r=new ci(it.comparator);return this.ns(t,e,(s,a)=>{const u=this.ts(s,a);i=i.insert(s,u),r=r.insert(s,OT(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ge.resolve();let r=new _i(i$);e.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Nx(r.first()),Nx(r.last())),a=r.getIterator();let u=a.getNext();return Og(t).X({index:"documentKeyIndex",range:s},(f,m,v)=>{const x=it.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;u&&i$(u,x)<0;)i(u,null),u=a.getNext();u&&u.isEqual(x)&&(i(u,m),u=a.hasNext()?a.getNext():null),u?v.G(Nx(u)):v.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),TT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Og(t).j(IDBKeyRange.bound(a,u,!0)).next(f=>{let m=ta();for(const v of f){const x=this.ts(it.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);x.isFoundDocument()&&(vx(e,x)||r.has(x.key))&&(m=m.insert(x.key,x))}return m})}getAllFromCollectionGroup(t,e,i,r){let s=ta();const a=n$(e,i),u=n$(e,ka.max());return Og(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(f,m,v)=>{const x=this.ts(it.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);s=s.insert(x.key,x),s.size===r&&v.done()}).next(()=>s)}newChangeBuffer(t){return new GK(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return t$(t).get("remoteDocumentGlobalKey").next(e=>(At(!!e),e))}Zn(t,e){return t$(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function MK(n,t){let e;if(t.document)e=Dz(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=it.fromSegments(t.noDocument.path),r=Tg(t.noDocument.readTime);e=yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return yt();{const i=it.fromSegments(t.unknownDocument.path),r=Tg(t.unknownDocument.version);e=yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Pi(i[0],i[1]);return Rt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return yi.newInvalidDocument(t)}}function e$(n){return new $K(n)}class GK extends Jz{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Sh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new _i((s,a)=>Yt(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const u=this.us.get(s);if(e.push(this.os.removeEntry(t,s,u.readTime)),a.isValidDocument()){const f=kz(this.os.serializer,a);r=r.add(s.path.popLast());const m=OT(f);i+=m-u.size,e.push(this.os.addEntry(t,s,f))}else if(i-=u.size,this.trackRemovals){const f=kz(this.os.serializer,a.convertToNoDocument(Rt.min()));e.push(this.os.addEntry(t,s,f))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),ge.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function t$(n){return us(n,"remoteDocumentGlobal")}function Og(n){return us(n,"remoteDocumentsV14")}function Nx(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function n$(n,t){const e=t.documentKey.path.toArray();return[n,TT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function i$(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Yt(e[s],i[s]),r)return r;return r=Yt(e.length,i.length),r||(r=Yt(e[e.length-2],i[i.length-2]),r||Yt(e[e.length-1],i[i.length-1]))}class WK{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class r${constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Ex(i.mutation,r,ea.empty(),Pi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,an()).next(()=>i))}getLocalViewOfDocuments(t,e,i=an()){const r=Nu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=bx();return s.forEach((u,f)=>{a=a.insert(u,f.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Nu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,an()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let s=ta();const a=wx(),u=wx();return e.forEach((f,m)=>{const v=i.get(m.key);r.has(m.key)&&(void 0===v||v.mutation instanceof Th)?s=s.insert(m.key,m):void 0!==v?(a.set(m.key,v.mutation.getFieldMask()),Ex(v.mutation,m,v.mutation.getFieldMask(),Pi.now())):a.set(m.key,ea.empty())}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((m,v)=>a.set(m,v)),e.forEach((m,v)=>{var x;return u.set(m,new WK(v,null!==(x=a.get(m))&&void 0!==x?x:null))}),u))}recalculateAndSaveOverlays(t,e){const i=wx();let r=new ci((a,u)=>a-u),s=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(f=>{const m=e.get(f);if(null===m)return;let v=i.get(f)||ea.empty();v=u.applyToLocalView(m,v),i.set(f,v);const x=(r.get(u.batchId)||an()).add(f);r=r.insert(u.batchId,x)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,v=f.value,x=YH();v.forEach(S=>{if(!s.has(S)){const A=sz(e.get(S),i.get(S));null!==A&&x.set(S,A),s=s.add(S)}}),a.push(this.documentOverlayCache.saveOverlays(t,m,x))}return ge.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return it.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):nN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ge.resolve(Nu());let u=-1,f=s;return a.next(m=>ge.forEach(m,(v,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),s.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{f=f.insert(v,S)}))).next(()=>this.populateOverlays(t,m,s)).next(()=>this.computeViews(t,f,m,an())).next(v=>({batchId:u,changes:XH(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new it(e)).next(i=>{let r=bx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=bx();return this.indexManager.getCollectionParents(t,r).next(a=>ge.forEach(a,u=>{const f=(m=e,v=u.child(r),new Ih(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(m=>{m.forEach((v,x)=>{s=s.insert(v,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((u,f)=>{const m=f.getKey();null===s.get(m)&&(s=s.insert(m,yi.newInvalidDocument(m)))});let a=bx();return s.forEach((u,f)=>{const m=r.get(u);void 0!==m&&Ex(m.mutation,f,ea.empty(),Pi.now()),vx(e,f)&&(a=a.insert(u,f))}),a})}}class KK{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ge.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:_r(i.createTime)}),ge.resolve()}getNamedQuery(t,e){return ge.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:_N(i.bundledQuery),readTime:_r(i.readTime)}),ge.resolve();var i}}class qK{constructor(){this.overlays=new ci(it.comparator),this.ls=new Map}getOverlay(t,e){return ge.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Nu();return ge.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),ge.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ge.resolve()}getOverlaysForCollection(t,e,i){const r=Nu(),s=e.length+1,a=new it(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ge.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ci((m,v)=>m-v);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let v=s.get(m.largestBatchId);null===v&&(v=Nu(),s=s.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const u=Nu(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>u.set(m,v)),!(u.size()>=r)););return ge.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new cN(e,i));let s=this.ls.get(e);void 0===s&&(s=an(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class CN{constructor(){this.fs=new _i(ds.ds),this.ws=new _i(ds._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new ds(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new ds(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new it(new xn([])),i=new ds(e,t),r=new ds(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new it(new xn([])),i=new ds(e,t),r=new ds(e,t+1);let s=an();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new ds(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ds{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return it.comparator(t.key,e.key)||Yt(t.As,e.As)}static _s(t,e){return Yt(t.As,e.As)||it.comparator(t.key,e.key)}}class XK{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new _i(ds.ds)}checkEmpty(t){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new aN(s,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new ds(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ge.resolve(a)}lookupMutationBatch(t,e){return ge.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ds(e,0),r=new ds(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.Ps(a.As);s.push(u)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new _i(Yt);return e.forEach(r=>{const s=new ds(r,0),a=new ds(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],u=>{i=i.add(u.As)})}),ge.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;it.isDocumentKey(s)||(s=s.child(""));const a=new ds(new it(s),0);let u=new _i(Yt);return this.Rs.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(u=u.add(f.As)),!0)},a),ge.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){At(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ge.forEach(e.mutations,r=>{const s=new ds(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new ds(e,0),r=this.Rs.firstAfterOrEqual(i);return ge.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ge.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class YK{constructor(t){this.Ds=t,this.docs=new ci(it.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ge.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=ta();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():yi.newInvalidDocument(r))}),ge.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ta();const a=e.path,u=new it(a.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||GP(uH(v),i)<=0||(r.has(v.key)||vx(e,v))&&(s=s.insert(v.key,v.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(t,e,i,r){yt()}Cs(t,e){return ge.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new QK(this)}getSize(t){return ge.resolve(this.size)}}class QK extends Jz{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ge.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class ZK{constructor(t){this.persistence=t,this.xs=new Sh(e=>Eg(e),_x),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new CN,this.targetCount=0,this.Ms=kg.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ge.resolve()}getLastRemoteSnapshotVersion(t){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ge.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ge.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new kg(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ge.resolve()}updateTargetData(t,e){return this.Fn(e),ge.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ge.waitFor(s).next(()=>r)}getTargetCount(t){return ge.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ge.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ge.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),ge.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ge.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ge.resolve(i)}containsKey(t,e){return ge.resolve(this.ks.containsKey(e))}}class DN{constructor(t,e){this.$s={},this.overlays={},this.Os=new Oa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new ZK(this),this.indexManager=new VK,this.remoteDocumentCache=new YK(i=>this.referenceDelegate.Ls(i)),this.serializer=new Rz(e),this.qs=new KK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new qK,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new XK(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Ke("MemoryPersistence","Starting transaction:",t);const r=new JK(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return ge.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class JK extends hH{constructor(t){super(),this.currentSequenceNumber=t}}class FT{constructor(t){this.persistence=t,this.Qs=new CN,this.js=null}static zs(t){return new FT(t)}get Ws(){if(this.js)return this.js;throw yt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ge.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ge.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ws,i=>{const r=it.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,Rt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ge.or([()=>ge.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class e9{constructor(t){this.serializer=t}O(t,e,i,r){const s=new dT("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gH,{unique:!0}),u.createObjectStore("documentMutations"),s$(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=ge.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),s$(t)),a=a.next(()=>function(u){const f=u.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,f){return f.store("mutations").j().next(m=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gH,{unique:!0});const v=f.store("mutations"),x=m.map(S=>v.put(S));return ge.waitFor(x)})}(t,s))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const f=u.createObjectStore("documentOverlays",{keyPath:V8});f.createIndex("collectionPathOverlayIndex",B8,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",U8,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:S8});f.createIndex("documentKeyIndex",T8),f.createIndex("collectionGroupIndex",A8)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:P8}).createIndex("sequenceNumberIndex",N8,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:F8}).createIndex("documentKeyIndex",L8,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=OT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ge.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>ge.forEach(u,f=>{At(f.userId===s.userId);const m=Ag(this.serializer,f);return Wz(t,s.userId,m).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,u)=>{const f=new xn(a),m=[0,Gs(f)];s.push(e.get(m).next(v=>v?ge.resolve():e.put({targetId:0,path:Gs(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ge.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:O8});const i=e.store("collectionParents"),r=new EN,s=a=>{if(r.add(a)){const u=a.lastSegment(),f=a.popLast();return i.put({collectionId:u,parent:Gs(f)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const f=new xn(a);return s(f.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,f],m)=>{const v=Ou(u);return s(v.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=Mx(r),a=Oz(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const u=e.store("remoteDocumentsV14"),f=(m=a,m.document?new it(xn.fromString(m.document.name).popFirst(5)):m.noDocument?it.fromSegments(m.noDocument.path):m.unknownDocument?it.fromSegments(m.unknownDocument.path):yt()).path.toArray();var m;const v={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(v))}).next(()=>ge.waitFor(r))}si(t,e){const i=e.store("mutations"),r=e$(this.serializer),s=new DN(FT.zs,this.serializer.fe);return i.j().next(a=>{const u=new Map;return a.forEach(f=>{var m;let v=null!==(m=u.get(f.userId))&&void 0!==m?m:an();Ag(this.serializer,f).keys().forEach(x=>v=v.add(x)),u.set(f.userId,v)}),ge.forEach(u,(f,m)=>{const v=new cs(m),x=AT.de(this.serializer,v),S=s.getIndexManager(v),A=PT.de(v,this.serializer,S,s.referenceDelegate);return new r$(r,A,x,S).recalculateAndSaveOverlaysForDocumentKeys(new qP(e,Oa.ct),f).next()})})}}function s$(n){n.createObjectStore("targetDocuments",{keyPath:R8}).createIndex("documentTargetsIndex",k8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M8,{unique:!0}),n.createObjectStore("targetGlobal")}const IN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SN{constructor(t,e,i,r,s,a,u,f,m,v,x=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=u,this.ri=m,this.oi=v,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=S=>Promise.resolve(),!SN.D())throw new Le(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zK(this,r),this.di=e+"main",this.serializer=new Rz(f),this.wi=new yc(this.di,this.ui,new e9(this.serializer)),this.Bs=new UK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=e$(this.serializer),this.qs=new RK,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(we.FAILED_PRECONDITION,IN);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Oa(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,Te.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,Te.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,Te.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>VT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(dp(t))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Fx(t).get("owner").next(e=>ge.resolve(this.Ri(e)))}Pi(t){return VT(t).delete(this.clientId)}bi(){var t=this;return(0,Te.A)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=us(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),u=s.filter(f=>-1===a.indexOf(f));return ge.forEach(u,f=>r.delete(f.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ge.resolve(!0):Fx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Le(we.FAILED_PRECONDITION,IN);return!1}}return!(!this.networkEnabled||!this.inForeground)||VT(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ke("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.A)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new qP(e,Oa.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>VT(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return PT.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new BK(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return AT.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Ke("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?H8:14===a?bH:13===a?vH:12===a?j8:11===a?yH:void yt();var a;let u;return this.wi.runTransaction(t,r,s,f=>(u=new qP(f,this.Os?this.Os.next():Oa.ct),"readwrite-primary"===e?this.Ti(u).next(m=>!!m||this.Ei(u)).next(m=>{if(!m)throw gr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Le(we.FAILED_PRECONDITION,dH);return i(u)}).next(m=>this.vi(u).next(()=>m)):this.Oi(u).next(()=>i(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}Oi(t){return Fx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Le(we.FAILED_PRECONDITION,IN)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fx(t).put("owner",e)}static D(){return yc.D()}Ai(t){const e=Fx(t);return e.get("owner").next(i=>this.Ri(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(gr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,An.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Ke("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){gr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Fx(n){return us(n,"owner")}function VT(n){return us(n,"clientMetadata")}function TN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class AN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=an(),r=an();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new AN(t,e.fromCache,i,r)}}class o${constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if($H(e))return ge.resolve(null);let i=So(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=xT(e,null,"F"),i=So(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=an(...s);return this.Ui.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const m=this.ji(e,u);return this.zi(e,m,a,f.readTime)?this.Ki(t,xT(e,null,"F")):this.Wi(t,m,e,f)}))})))}Gi(t,e,i,r){return $H(e)||r.isEqual(Rt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(HP()<=op.$b.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rN(e)),this.Wi(t,a,e,cH(r,-1)))})}ji(t,e){let i=new _i(KH(t));return e.forEach((r,s)=>{vx(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return HP()<=op.$b.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",rN(e)),this.Ui.getDocumentsMatchingQuery(t,e,ka.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class t9{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new ci(Yt),this.Yi=new Sh(s=>Eg(s),_x),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new r$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function a$(n,t,e,i){return new t9(n,t,e,i)}function l$(n,t){return MN.apply(this,arguments)}function MN(){return MN=(0,Te.A)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let f=an();for(const m of r){a.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(i,f).next(m=>({er:m,removedBatchIds:a,addedBatchIds:u}))})})}),MN.apply(this,arguments)}function c$(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function u$(n,t,e){let i=an(),r=an();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=ta();return e.forEach((u,f)=>{const m=s.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(Rt.min())?(t.removeEntry(u,f.readTime),a=a.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(t.addEntry(f),a=a.insert(u,f)):Ke("LocalStore","Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)}),{nr:a,sr:r}})}function r9(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Ev(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,ge.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new Ah(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function Cv(n,t,e){return RN.apply(this,arguments)}function RN(){return RN=(0,Te.A)(function*(n,t,e){const i=ot(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!dp(a))throw a;Ke("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),RN.apply(this,arguments)}function BT(n,t,e){const i=ot(n);let r=Rt.min(),s=an();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,f,m){const v=ot(u),x=v.Yi.get(m);return void 0!==x?ge.resolve(v.Ji.get(x)):v.Bs.getTargetData(f,m)}(i,a,So(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,u.targetId).next(f=>{s=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:Rt.min(),e?s:an())).next(u=>(f$(i,WH(t),u),{documents:u,ir:s})))}function d$(n,t){const e=ot(n),i=ot(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function h$(n,t){const e=ot(n),i=e.Xi.get(t)||Rt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,cH(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(f$(e,t,r),r))}function f$(n,t,e){let i=n.Xi.get(t)||Rt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function kN(){return kN=(0,Te.A)(function*(n,t,e,i){const r=ot(n);let s=an(),a=ta();for(const m of e){const v=t.rr(m.metadata.name);m.document&&(s=s.add(v));const x=t.ur(m);x.setReadTime(t.cr(m.metadata.readTime)),a=a.insert(v,x)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),f=yield Ev(r,(m=i,So(pv(xn.fromString(`__bundle__/docs/${m}`)))));var m;return r.persistence.runTransaction("Apply bundle documents","readwrite",m=>u$(m,u,a).next(v=>(u.apply(m),v)).next(v=>r.Bs.removeMatchingKeysForTargetId(m,f.targetId).next(()=>r.Bs.addMatchingKeys(m,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,v.nr,v.sr)).next(()=>v.nr)))}),kN.apply(this,arguments)}function o9(n,t){return ON.apply(this,arguments)}function ON(){return ON=(0,Te.A)(function*(n,t,e=an()){const i=yield Ev(n,So(_N(t.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=_r(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const u=i.withResumeToken(Wr.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(s,u).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),ON.apply(this,arguments)}function p$(n,t){return`firestore_clients_${n}_${t}`}function m$(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function PN(n,t){return`firestore_targets_${n}_${t}`}class UT{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Le(r.error.code,r.error.message))),a?new UT(t,e,r.state,s):(gr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Lx{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Le(i.error.code,i.error.message))),s?new Lx(t,i.state,r):(gr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class jT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=sN();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=pH(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new jT(t,s):(gr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class NN{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new NN(e.clientId,e.onlineState):(gr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class FN{constructor(){this.activeTargetIds=sN()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LN{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ci(Yt),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=p$(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new FN),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.A)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(p$(t.persistenceKey,r));if(s){const a=jT.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(PN(this.persistenceKey,t));if(i){const r=Lx.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(PN(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ke("SharedClientState","READ",t,e),e}setItem(t,e){Ke("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ke("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Te.A)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=Oa.ct;if(null!=s)try{const u=JSON.parse(s);At("number"==typeof u),a=u}catch(u){gr("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==Oa.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new UT(this.currentUser,t,e,i),s=m$(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=m$(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=PN(this.persistenceKey,t),s=new Lx(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return jT.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return UT.ar(new cs(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Lx.ar(r,e)}br(t){return NN.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,Te.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],u=[];return s.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{s.has(f)||u.push(f)}),this.syncEngine.Wr(a,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=sN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class g${constructor(){this.Hr=new FN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new FN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class a9{Yr(t){}shutdown(){}}class _${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let HT=null;function VN(){return null===HT?HT=268435456+Math.round(2147483648*Math.random()):HT++,"0x"+HT.toString(16)}const l9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c9{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ks="WebChannelConnection";class u9 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=VN(),u=this.To(t,e);Ke("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const f={};return this.Eo(f,r,s),this.Ao(t,u,f,i).then(m=>(Ke("RestConnection",`Received RPC '${t}' ${a}: `,m),m),m=>{throw yl("RestConnection",`RPC '${t}' ${a} failed with error: `,m,"url: ",u,"request:",i),m})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+lv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${l9[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=VN();return new Promise((a,u)=>{const f=new a8;f.setWithCredentials(!0),f.listenOnce(r8.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jP.NO_ERROR:const v=f.getResponseJson();Ke(Ks,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(v)),a(v);break;case jP.TIMEOUT:Ke(Ks,`RPC '${t}' ${s} timed out`),u(new Le(we.DEADLINE_EXCEEDED,"Request time out"));break;case jP.HTTP_ERROR:const x=f.getStatus();if(Ke(Ks,`RPC '${t}' ${s} failed with status:`,x,"response text:",f.getResponseText()),x>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const O=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(L)>=0?L:we.UNKNOWN}(A.status);u(new Le(O,A.message))}else u(new Le(we.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Le(we.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Ke(Ks,`RPC '${t}' ${s} completed.`)}});const m=JSON.stringify(r);Ke(Ks,`RPC '${t}' ${s} sending request:`,r),f.send(e,"POST",m,i,15)})}Ro(t,e,i){const r=VN(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=n8(),u=i8(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.xmlHttpFactory=new o8({})),this.Eo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const v=s.join("");Ke(Ks,`Creating RPC '${t}' stream ${r}: ${v}`,f);const x=a.createWebChannel(v,f);let S=!1,A=!1;const O=new c9({ro:L=>{A?Ke(Ks,`Not sending because RPC '${t}' stream ${r} is closed:`,L):(S||(Ke(Ks,`Opening RPC '${t}' stream ${r} transport.`),x.open(),S=!0),Ke(Ks,`RPC '${t}' stream ${r} sending:`,L),x.send(L))},oo:()=>x.close()}),P=(L,$,X)=>{L.listen($,ee=>{try{X(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return P(x,lT.EventType.OPEN,()=>{A||Ke(Ks,`RPC '${t}' stream ${r} transport opened.`)}),P(x,lT.EventType.CLOSE,()=>{A||(A=!0,Ke(Ks,`RPC '${t}' stream ${r} transport closed`),O.wo())}),P(x,lT.EventType.ERROR,L=>{A||(A=!0,yl(Ks,`RPC '${t}' stream ${r} transport errored:`,L),O.wo(new Le(we.UNAVAILABLE,"The operation could not be completed")))}),P(x,lT.EventType.MESSAGE,L=>{var $;if(!A){const X=L.data[0];At(!!X);const le=X.error||(null===($=X[0])||void 0===$?void 0:$.error);if(le){Ke(Ks,`RPC '${t}' stream ${r} received error:`,le);const ce=le.status;let xe=function(Ge){const pt=Pr[Ge];if(void 0!==pt)return dz(pt)}(ce),ze=le.message;void 0===xe&&(xe=we.INTERNAL,ze="Unknown error status: "+ce+" with message "+le.message),A=!0,O.wo(new Le(xe,ze)),x.close()}else Ke(Ks,`RPC '${t}' stream ${r} received:`,X),O._o(X)}}),P(u,s8.STAT_EVENT,L=>{L.stat===iH.PROXY?Ke(Ks,`RPC '${t}' stream ${r} detected buffering proxy`):L.stat===iH.NOPROXY&&Ke(Ks,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.fo()},0),O}}function y$(){return typeof window<"u"?window:null}function zT(){return typeof document<"u"?document:null}function Vx(n){return new bK(n,!0)}class BN{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class v${constructor(t,e,i,r,s,a,u,f){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new BN(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,Te.A)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,Te.A)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,Te.A)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===we.RESOURCE_EXHAUSTED?(gr(e.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===we.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Le(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,Te.A)(function*(){t.state=0,t.start()}))}tu(t){return Ke("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d9 extends v${constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function EK(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:yt(),r=t.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(At(void 0===m||"string"==typeof m),Wr.fromBase64String(m||"")):(At(void 0===m||m instanceof Uint8Array),Wr.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(f){const m=void 0===f.code?we.UNKNOWN:dz(f.code);return new Le(m,f.message||"")}(a);e=new gz(i,r,s,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Fu(n,i.document.name),s=_r(i.document.updateTime),a=i.document.createTime?_r(i.document.createTime):Rt.min(),u=new Ts({mapValue:{fields:i.document.fields}}),f=yi.newFoundDocument(r,s,a,u);e=new ST(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Fu(n,i.document),s=i.readTime?_r(i.readTime):Rt.min(),a=yi.newNoDocument(r,s);e=new ST([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Fu(n,i.document);e=new ST([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return yt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new pK(r,s);e=new mz(i.targetId,a)}}var f;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Rt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?_r(s.readTime):Rt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Tx(this.serializer),e.addTarget=function(r,s){let a;const u=s.target;if(a=vT(u)?{documents:Iz(r,u)}:{query:gN(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bz(r,s.resumeToken);const f=hN(r,s.expectedCount);null!==f&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(Rt.min())>0){a.readTime=vv(r,s.snapshotVersion.toTimestamp());const f=hN(r,s.expectedCount);null!==f&&(a.expectedCount=f)}return a}(this.serializer,t);const i=function DK(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Tx(this.serializer),e.removeTarget=t,this.Wo(e)}}class h9 extends v${constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function CK(n,t){return n&&n.length>0?(At(void 0!==t),n.map(e=>function(i,r){let s=_r(i.updateTime?i.updateTime:r);return s.isEqual(Rt.min())&&(s=_r(r)),new uK(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=_r(t.commitTime);return this.listener.cu(i,e)}return At(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Tx(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ax(this.serializer,i))};this.Wo(e)}}class f9 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(we.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(we.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class m9{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gr(e),this.mu=!1):Ke("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class g9{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{i.enqueueAndForget((0,Te.A)(function*(){var f;Ep(a)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Te.A)(function*(m){const v=ot(m);v.vu.add(4),yield Dv(v),v.bu.set("Unknown"),v.vu.delete(4),yield Bx(v)}),function(m){return f.apply(this,arguments)})(a))}))}),this.bu=new m9(i,r)}}function Bx(n){return jN.apply(this,arguments)}function jN(){return jN=(0,Te.A)(function*(n){if(Ep(n))for(const t of n.Ru)yield t(!0)}),jN.apply(this,arguments)}function Dv(n){return HN.apply(this,arguments)}function HN(){return HN=(0,Te.A)(function*(n){for(const t of n.Ru)yield t(!1)}),HN.apply(this,arguments)}function $T(n,t){const e=ot(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),GN(e)?$N(e):Sv(e).Ko()&&zN(e,t))}function Ux(n,t){const e=ot(n),i=Sv(e);e.Au.delete(t),i.Ko()&&b$(e,t),0===e.Au.size&&(i.Ko()?i.jo():Ep(e)&&e.bu.set("Unknown"))}function zN(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Sv(n).su(t)}function b$(n,t){n.Vu.qt(t),Sv(n).iu(t)}function $N(n){n.Vu=new gK({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Sv(n).start(),n.bu.gu()}function GN(n){return Ep(n)&&!Sv(n).Uo()&&n.Au.size>0}function Ep(n){return 0===ot(n).vu.size}function w$(n){n.Vu=void 0}function _9(n){return WN.apply(this,arguments)}function WN(){return WN=(0,Te.A)(function*(n){n.Au.forEach((t,e)=>{zN(n,t)})}),WN.apply(this,arguments)}function y9(n,t){return KN.apply(this,arguments)}function KN(){return KN=(0,Te.A)(function*(n,t){w$(n),GN(n)?(n.bu.Iu(t),$N(n)):n.bu.set("Unknown")}),KN.apply(this,arguments)}function v9(n,t,e){return qN.apply(this,arguments)}function qN(){return qN=(0,Te.A)(function*(n,t,e){if(n.bu.set("Online"),t instanceof gz&&2===t.state&&t.cause)try{yield(i=(0,Te.A)(function*(r,s){const a=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield GT(n,i)}else if(t instanceof ST?n.Vu.Ht(t):t instanceof mz?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Rt.min()))try{const i=yield c$(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.Au.get(f);m&&r.Au.set(f,m.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,f)=>{const m=r.Au.get(u);if(!m)return;r.Au.set(u,m.withResumeToken(Wr.EMPTY_BYTE_STRING,m.snapshotVersion)),b$(r,u);const v=new Ah(m.target,u,f,m.sequenceNumber);zN(r,v)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield GT(n,i)}var i}),qN.apply(this,arguments)}function GT(n,t,e){return XN.apply(this,arguments)}function XN(){return XN=(0,Te.A)(function*(n,t,e){if(!dp(t))throw t;n.vu.add(1),yield Dv(n),n.bu.set("Offline"),e||(e=()=>c$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.A)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Bx(n)}))}),XN.apply(this,arguments)}function x$(n,t){return t().catch(e=>GT(n,e,t))}function Iv(n){return YN.apply(this,arguments)}function YN(){return YN=(0,Te.A)(function*(n){const t=ot(n),e=Cp(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;b9(t);)try{const r=yield r9(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,w9(t,r)}catch(r){yield GT(t,r)}E$(t)&&C$(t)}),YN.apply(this,arguments)}function b9(n){return Ep(n)&&n.Eu.length<10}function w9(n,t){n.Eu.push(t);const e=Cp(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function E$(n){return Ep(n)&&!Cp(n).Uo()&&n.Eu.length>0}function C$(n){Cp(n).start()}function x9(n){return QN.apply(this,arguments)}function QN(){return QN=(0,Te.A)(function*(n){Cp(n).hu()}),QN.apply(this,arguments)}function E9(n){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Te.A)(function*(n){const t=Cp(n);for(const e of n.Eu)t.uu(e.mutations)}),ZN.apply(this,arguments)}function C9(n,t,e){return JN.apply(this,arguments)}function JN(){return JN=(0,Te.A)(function*(n,t,e){const i=n.Eu.shift(),r=lN.from(i,t,e);yield x$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Iv(n)}),JN.apply(this,arguments)}function D9(n,t){return eF.apply(this,arguments)}function eF(){return eF=(0,Te.A)(function*(n,t){var e;t&&Cp(n).ou&&(yield(e=(0,Te.A)(function*(i,r){if(uz(s=r.code)&&s!==we.ABORTED){const a=i.Eu.shift();Cp(i).Qo(),yield x$(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Iv(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),E$(n)&&C$(n)}),eF.apply(this,arguments)}function D$(n,t){return tF.apply(this,arguments)}function tF(){return tF=(0,Te.A)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=Ep(e);e.vu.add(3),yield Dv(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Bx(e)}),tF.apply(this,arguments)}function nF(n,t){return iF.apply(this,arguments)}function iF(){return iF=(0,Te.A)(function*(n,t){const e=ot(n);t?(e.vu.delete(2),yield Bx(e)):t||(e.vu.add(2),yield Dv(e),e.bu.set("Unknown"))}),iF.apply(this,arguments)}function Sv(n){return n.Su||(n.Su=function(t,e,i){const r=ot(t);return r.fu(),new d9(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:_9.bind(null,n),ao:y9.bind(null,n),nu:v9.bind(null,n)}),n.Ru.push(function(){var t=(0,Te.A)(function*(e){e?(n.Su.Qo(),GN(n)?$N(n):n.bu.set("Unknown")):(yield n.Su.stop(),w$(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Cp(n){return n.Du||(n.Du=function(t,e,i){const r=ot(t);return r.fu(),new h9(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:x9.bind(null,n),ao:D9.bind(null,n),au:E9.bind(null,n),cu:C9.bind(null,n)}),n.Ru.push(function(){var t=(0,Te.A)(function*(e){e?(n.Du.Qo(),yield Iv(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class rF{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,u=new rF(t,e,a,r,s);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(n,t){if(gr("AsyncQueue",`${t}: ${n}`),dp(n))return new Le(we.UNAVAILABLE,`${t}: ${n}`);throw n}class Av{constructor(t){this.comparator=t?(e,i)=>t(e,i)||it.comparator(e.key,i.key):(e,i)=>it.comparator(e.key,i.key),this.keyedMap=bx(),this.sortedSet=new ci(this.comparator)}static emptySet(t){return new Av(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Av)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Av;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class I${constructor(){this.Cu=new ci(it.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):yt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Mv{constructor(t,e,i,r,s,a,u,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new Mv(t,e,Av.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class I9{constructor(){this.Nu=void 0,this.listeners=[]}}class S9{constructor(){this.queries=new Sh(t=>GH(t),yx),this.onlineState="Unknown",this.ku=new Set}}function sF(n,t){return oF.apply(this,arguments)}function oF(){return oF=(0,Te.A)(function*(n,t){const e=ot(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new I9),r)try{s.Nu=yield e.onListen(i)}catch(a){const u=Tv(a,`Initialization of query '${rN(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&cF(e)}),oF.apply(this,arguments)}function aF(n,t){return lF.apply(this,arguments)}function lF(){return lF=(0,Te.A)(function*(n,t){const e=ot(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),lF.apply(this,arguments)}function T9(n,t){const e=ot(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.$u(r)&&(i=!0);a.Nu=r}}i&&cF(e)}function A9(n,t,e){const i=ot(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function cF(n){n.ku.forEach(t=>{t.next()})}class uF{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Mv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Mv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class M9{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class S${constructor(t){this.serializer=t}rr(t){return Fu(this.serializer,t)}ur(t){return t.metadata.exists?Dz(this.serializer,t.document,!1):yi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return _r(t)}}class R9{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=T$(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=xn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new S$(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||an()).add(s);e.set(a,u)}}return e}complete(){var t=this;return(0,Te.A)(function*(){const e=yield function s9(n,t,e,i){return kN.apply(this,arguments)}(t.localStore,new S$(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield o9(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function T$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class A${constructor(t){this.key=t}}class M${constructor(t){this.key=t}}class R${constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=an(),this.mutatedKeys=an(),this.tc=KH(t),this.ec=new Av(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new I$,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,m="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,x)=>{const S=r.get(v),A=vx(this.query,x)?x:null,O=!!S&&this.mutatedKeys.has(S.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;S&&A?S.data.isEqual(A.data)?O!==P&&(i.track({type:3,doc:A}),L=!0):this.rc(S,A)||(i.track({type:2,doc:A}),L=!0,(f&&this.tc(A,f)>0||m&&this.tc(A,m)<0)&&(u=!0)):!S&&A?(i.track({type:0,doc:A}),L=!0):S&&!A&&(i.track({type:1,doc:S}),L=!0,(f||m)&&(u=!0)),L&&(A?(a=a.add(A),s=P?s.add(v):s.delete(v)):(a=a.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const v="F"===this.query.limitType?a.last():a.first();a=a.delete(v.key),s=s.delete(v.key),i.track({type:1,doc:v})}return{ec:a,ic:i,zi:u,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((m,v)=>function(x,S){const A=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return A(x)-A(S)}(m.type,v.type)||this.tc(m.doc,v.doc)),this.oc(i);const a=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,f=u!==this.Xu;return this.Xu=u,0!==s.length||f?{snapshot:new Mv(this.query,t.ec,r,s,t.mutatedKeys,0===u,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new I$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=an(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new M$(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new A$(i))}),e}hc(t){this.Yu=t.ir,this.Zu=an();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Mv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class k9{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class O9{constructor(t){this.key=t,this.fc=!1}}class P9{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Sh(u=>GH(u),yx),this._c=new Map,this.mc=new Set,this.gc=new ci(it.comparator),this.yc=new Map,this.Ic=new CN,this.Tc={},this.Ec=new Map,this.Ac=kg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function N9(n,t){return dF.apply(this,arguments)}function dF(){return dF=(0,Te.A)(function*(n,t){const e=PF(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield Ev(e.localStore,So(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield hF(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&$T(e.remoteStore,a)}return r}),dF.apply(this,arguments)}function hF(n,t,e,i,r){return fF.apply(this,arguments)}function fF(){return fF=(0,Te.A)(function*(n,t,e,i,r){n.Rc=(x,S,A)=>{return(O=(0,Te.A)(function*(P,L,$,X){let ee=L.view.sc($);ee.zi&&(ee=yield BT(P.localStore,L.query,!1).then(({documents:xe})=>L.view.sc(xe,ee)));const le=X&&X.targetChanges.get(L.targetId),ce=L.view.applyChanges(ee,P.isPrimaryClient,le);return EF(P,L.targetId,ce.cc),ce.snapshot}),function(P,L,$,X){return O.apply(this,arguments)})(n,x,S,A);var O};const s=yield BT(n.localStore,t,!0),a=new R$(t,s.ir),u=a.sc(s.documents),f=Ix.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),m=a.applyChanges(u,n.isPrimaryClient,f);EF(n,e,m.cc);const v=new k9(t,e,a);return n.wc.set(t,v),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),m.snapshot}),fF.apply(this,arguments)}function F9(n,t){return pF.apply(this,arguments)}function pF(){return pF=(0,Te.A)(function*(n,t){const e=ot(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!yx(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Cv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Ux(e.remoteStore,i.targetId),Rv(e,i.targetId)}).catch(up))):(Rv(e,i.targetId),yield Cv(e.localStore,i.targetId,!0))}),pF.apply(this,arguments)}function mF(){return mF=(0,Te.A)(function*(n,t,e){const i=NF(n);try{const r=yield function(s,a){const u=ot(s),f=Pi.now(),m=a.reduce((S,A)=>S.add(A.key),an());let v,x;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=ta(),O=an();return u.Zi.getEntries(S,m).next(P=>{A=P,A.forEach((L,$)=>{$.isValidDocument()||(O=O.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,A)).next(P=>{v=P;const L=[];for(const $ of a){const X=hK($,v.get($.key).overlayedDocument);null!=X&&L.push(new Th($.key,X,RH(X.value.mapValue),Ni.exists(!0)))}return u.mutationQueue.addMutationBatch(S,f,L,a)}).next(P=>{x=P;const L=P.applyToLocalDocumentSet(v,O);return u.documentOverlayCache.saveOverlays(S,P.batchId,L)})}).then(()=>({batchId:x.batchId,changes:XH(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let f=s.Tc[s.currentUser.toKey()];f||(f=new ci(Yt)),f=f.insert(a,u),s.Tc[s.currentUser.toKey()]=f}(i,r.batchId,e),yield Mh(i,r.changes),yield Iv(i.remoteStore)}catch(r){const s=Tv(r,"Failed to persist write");e.reject(s)}}),mF.apply(this,arguments)}function k$(n,t){return gF.apply(this,arguments)}function gF(){return gF=(0,Te.A)(function*(n,t){const e=ot(n);try{const i=yield function i9(n,t){const e=ot(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((v,x)=>{const S=r.get(x);if(!S)return;u.push(e.Bs.removeMatchingKeys(s,v.removedDocuments,x).next(()=>e.Bs.addMatchingKeys(s,v.addedDocuments,x)));let A=S.withSequenceNumber(s.currentSequenceNumber);var O,P,L;null!==t.targetMismatches.get(x)?A=A.withResumeToken(Wr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),r=r.insert(x,A),P=A,L=v,(0===(O=S).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(s,A))});let f=ta(),m=an();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,v))}),u.push(u$(s,a,t.documentUpdates).next(v=>{f=v.nr,m=v.sr})),!i.isEqual(Rt.min())){const v=e.Bs.getLastRemoteSnapshotVersion(s).next(x=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(v)}return ge.waitFor(u).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,m)).next(()=>f)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?At(a.fc):r.removedDocuments.size>0&&(At(a.fc),a.fc=!1))}),yield Mh(e,i,t)}catch(i){yield up(i)}}),gF.apply(this,arguments)}function O$(n,t,e){const i=ot(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const u=a.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=ot(s);u.onlineState=a;let f=!1;u.queries.forEach((m,v)=>{for(const x of v.listeners)x.Mu(a)&&(f=!0)}),f&&cF(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function V9(n,t,e){return _F.apply(this,arguments)}function _F(){return _F=(0,Te.A)(function*(n,t,e){const i=ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new ci(it.comparator);a=a.insert(s,yi.newNoDocument(s,Rt.min()));const u=an().add(s),f=new Dx(Rt.min(),new Map,new ci(Yt),a,u);yield k$(i,f),i.gc=i.gc.remove(s),i.yc.delete(t),CF(i)}else yield Cv(i.localStore,t,!1).then(()=>Rv(i,t,e)).catch(up)}),_F.apply(this,arguments)}function B9(n,t){return yF.apply(this,arguments)}function yF(){return yF=(0,Te.A)(function*(n,t){const e=ot(n),i=t.batch.batchId;try{const r=yield function n9(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,u,f,m){const v=f.batch,x=v.keys();let S=ge.resolve();return x.forEach(A=>{S=S.next(()=>m.getEntry(u,A)).next(O=>{const P=f.docVersions.get(A);At(null!==P),O.version.compareTo(P)<0&&(v.applyToRemoteDocument(O,f),O.isValidDocument()&&(O.setReadTime(f.commitVersion),m.addEntry(O)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,v))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=an();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(u=u.add(a.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);xF(e,i,null),wF(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Mh(e,r)}catch(r){yield up(r)}}),yF.apply(this,arguments)}function U9(n,t,e){return vF.apply(this,arguments)}function vF(){return vF=(0,Te.A)(function*(n,t,e){const i=ot(n);try{const r=yield function(s,a){const u=ot(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return u.mutationQueue.lookupMutationBatch(f,a).next(v=>(At(null!==v),m=v.keys(),u.mutationQueue.removeMutationBatch(f,v))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,m,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>u.localDocuments.getDocuments(f,m))})}(i.localStore,t);xF(i,t,e),wF(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Mh(i,r)}catch(r){yield up(r)}}),vF.apply(this,arguments)}function bF(){return bF=(0,Te.A)(function*(n,t){const e=ot(n);Ep(e.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=ot(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Tv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),bF.apply(this,arguments)}function wF(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function xF(n,t,e){const i=ot(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Rv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||P$(n,i)})}function P$(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Ux(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),CF(n))}function EF(n,t,e){for(const i of e)i instanceof A$?(n.Ic.addReference(i.key,t),H9(n,i)):i instanceof M$?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||P$(n,i.key)):yt()}function H9(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Ke("SyncEngine","New document in limbo: "+e),n.mc.add(i),CF(n))}function CF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new it(xn.fromString(t)),i=n.Ac.next();n.yc.set(i,new O9(e)),n.gc=n.gc.insert(e,i),$T(n.remoteStore,new Ah(So(pv(e.path)),i,"TargetPurposeLimboResolution",Oa.ct))}}function Mh(n,t,e){return DF.apply(this,arguments)}function DF(){return DF=(0,Te.A)(function*(n,t,e){const i=ot(n),r=[],s=[],a=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,f)=>{a.push(i.Rc(f,t,e).then(m=>{if((m||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m?.fromCache?"not-current":"current"),m){r.push(m);const v=AN.Li(f.targetId,m);s.push(v)}}))}),yield Promise.all(a),i.dc.nu(r),yield(u=(0,Te.A)(function*(f,m){const v=ot(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ge.forEach(m,S=>ge.forEach(S.Fi,A=>v.persistence.referenceDelegate.addReference(x,S.targetId,A)).next(()=>ge.forEach(S.Bi,A=>v.persistence.referenceDelegate.removeReference(x,S.targetId,A)))))}catch(x){if(!dp(x))throw x;Ke("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const S=x.targetId;if(!x.fromCache){const A=v.Ji.get(S),P=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);v.Ji=v.Ji.insert(S,P)}}}),function(f,m){return u.apply(this,arguments)})(i.localStore,s))}),DF.apply(this,arguments)}function z9(n,t){return IF.apply(this,arguments)}function IF(){return IF=(0,Te.A)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){Ke("SyncEngine","User change. New user:",t.toKey());const i=yield l$(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(u=>{u.reject(new Le(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Mh(e,i.er)}var r}),IF.apply(this,arguments)}function $9(n,t){const e=ot(n),i=e.yc.get(t);if(i&&i.fc)return an().add(i.key);{let r=an();const s=e._c.get(t);if(!s)return r;for(const a of s){const u=e.wc.get(a);r=r.unionWith(u.view.nc)}return r}}function G9(n,t){return SF.apply(this,arguments)}function SF(){return SF=(0,Te.A)(function*(n,t){const e=ot(n),i=yield BT(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&EF(e,t.targetId,r.cc),r}),SF.apply(this,arguments)}function W9(n,t){return TF.apply(this,arguments)}function TF(){return TF=(0,Te.A)(function*(n,t){const e=ot(n);return h$(e.localStore,t).then(i=>Mh(e,i))}),TF.apply(this,arguments)}function K9(n,t,e,i){return AF.apply(this,arguments)}function AF(){return AF=(0,Te.A)(function*(n,t,e,i){const r=ot(n),s=yield function(a,u){const f=ot(a),m=ot(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>m.Sn(v,u).next(x=>x?f.localDocuments.getDocuments(v,x):ge.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield Iv(r.remoteStore):"acknowledged"===e||"rejected"===e?(xF(r,t,i||null),wF(r,t),u=t,ot(ot(r.localStore).mutationQueue).Cn(u)):yt(),yield Mh(r,s)):Ke("SyncEngine","Cannot apply mutation batch with id: "+t)}),AF.apply(this,arguments)}function MF(){return MF=(0,Te.A)(function*(n,t){const e=ot(n);if(PF(e),NF(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield N$(e,i.toArray());e.vc=!0,yield nF(e.remoteStore,!0);for(const s of r)$T(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Rv(e,a),Cv(e.localStore,a,!0))),Ux(e.remoteStore,a)}),yield r,yield N$(e,i),function(s){const a=ot(s);a.yc.forEach((u,f)=>{Ux(a.remoteStore,f)}),a.Ic.Ts(),a.yc=new Map,a.gc=new ci(it.comparator)}(e),e.vc=!1,yield nF(e.remoteStore,!1)}}),MF.apply(this,arguments)}function N$(n,t,e){return RF.apply(this,arguments)}function RF(){return RF=(0,Te.A)(function*(n,t,e){const i=ot(n),r=[],s=[];for(const a of t){let u;const f=i._c.get(a);if(f&&0!==f.length){u=yield Ev(i.localStore,So(f[0]));for(const m of f){const v=i.wc.get(m),x=yield G9(i,v);x.snapshot&&s.push(x.snapshot)}}else{const m=yield d$(i.localStore,a);u=yield Ev(i.localStore,m),yield hF(i,F$(m),a,!1,u.resumeToken)}r.push(u)}return i.dc.nu(s),r}),RF.apply(this,arguments)}function F$(n){return zH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function X9(n){const t=ot(n);return ot(ot(t.localStore).persistence).$i()}function Y9(n,t,e,i){return kF.apply(this,arguments)}function kF(){return kF=(0,Te.A)(function*(n,t,e,i){const r=ot(n);if(r.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield h$(r.localStore,WH(s[0])),u=Dx.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Wr.EMPTY_BYTE_STRING);yield Mh(r,a,u);break}case"rejected":yield Cv(r.localStore,t,!0),Rv(r,t,i);break;default:yt()}}),kF.apply(this,arguments)}function Q9(n,t,e){return OF.apply(this,arguments)}function OF(){return OF=(0,Te.A)(function*(n,t,e){const i=PF(n);if(i.vc){for(const r of t){if(i._c.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const s=yield d$(i.localStore,r),a=yield Ev(i.localStore,s);yield hF(i,F$(s),a.targetId,!1,a.resumeToken),$T(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield Cv(i.localStore,r,!1).then(()=>{Ux(i.remoteStore,r),Rv(i,r)}).catch(up))}}),OF.apply(this,arguments)}function PF(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=k$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V9.bind(null,t),t.dc.nu=T9.bind(null,t.eventManager),t.dc.Pc=A9.bind(null,t.eventManager),t}function NF(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=B9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U9.bind(null,t),t}class kv{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.A)(function*(){e.serializer=Vx(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return a$(this.persistence,new o$,t.initialUser,this.serializer)}createPersistence(t){return new DN(FT.zs,this.serializer)}createSharedClientState(t){return new g$}terminate(){var t=this;return(0,Te.A)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class FF extends kv{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.A)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield NF(i.Vc.syncEngine),yield Iv(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return a$(this.persistence,new o$,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Qz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new C8(e,this.persistence);return new E8(t.asyncQueue,i)}createPersistence(t){const e=TN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new SN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,y$(),zT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new g$}}class L$ extends FF{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.A)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof LN&&(i.sharedClientState.syncEngine={jr:K9.bind(null,r),zr:Y9.bind(null,r),Wr:Q9.bind(null,r),$i:X9.bind(null,r),Qr:W9.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Te.A)(function*(a){yield function q9(n,t){return MF.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=y$();if(!LN.D(e))throw new Le(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=TN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new LN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Ov{initialize(t,e){var i=this;return(0,Te.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>O$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=z9.bind(null,i.syncEngine),yield nF(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new S9}createDatastore(t){const e=Vx(t.databaseInfo.databaseId),i=new u9(t.databaseInfo);return new f9(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=u=>O$(this.syncEngine,u,0),a=_$.D()?new _$:new a9,new g9(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,u,f,m){const v=new P9(i,r,s,a,u,f);return m&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.A)(function*(e){const i=ot(e);Ke("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Dv(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function V$(n,t=10240){let e=0;return{read:()=>(0,Te.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Te.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class WT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class e7{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Gr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,Te.A)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,Te.A)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,Te.A)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new M9(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,Te.A)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,Te.A)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,Te.A)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class t7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Le(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Te.A)(function*(s,a){const u=ot(s),f=Tx(u.serializer)+"/documents",m={documents:a.map(A=>Sx(u.serializer,A))},v=yield u.vo("BatchGetDocuments",f,m,a.length),x=new Map;v.forEach(A=>{const O=function xK(n,t){return"found"in t?function(e,i){At(!!i.found);const r=Fu(e,i.found.name),s=_r(i.found.updateTime),a=i.found.createTime?_r(i.found.createTime):Rt.min(),u=new Ts({mapValue:{fields:i.found.fields}});return yi.newFoundDocument(r,s,a,u)}(n,t):"missing"in t?function(e,i){At(!!i.missing),At(!!i.readTime);const r=Fu(e,i.missing),s=_r(i.readTime);return yi.newNoDocument(r,s)}(n,t):yt()}(u.serializer,A);x.set(O.key.toString(),O)});const S=[];return a.forEach(A=>{const O=x.get(A.toString());At(!!O),S.push(O)}),S}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new yv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.A)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=it.fromPath(r);t.mutations.push(new oN(s,t.precondition(s)))}),yield(i=(0,Te.A)(function*(r,s){const a=ot(r),u=Tx(a.serializer)+"/documents",f={writes:s.map(m=>Ax(a.serializer,m))};yield a.Io("Commit",u,f)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw yt();e=Rt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Le(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Rt.min())?Ni.exists(!1):Ni.updateTime(e):Ni.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rt.min()))throw new Le(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ni.updateTime(e)}return Ni.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class n7{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new BN(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,Te.A)(function*(){const e=new t7(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!dx(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!uz(e)}return!1}}class i7{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=cs.UNAUTHENTICATED,this.clientId=aH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,Te.A)(function*(u){Ke("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ke("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,Te.A)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Tv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function KT(n,t){return LF.apply(this,arguments)}function LF(){return LF=(0,Te.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.A)(function*(s){i.isEqual(s)||(yield l$(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),LF.apply(this,arguments)}function VF(n,t){return BF.apply(this,arguments)}function BF(){return BF=(0,Te.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield UF(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>D$(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>D$(t.remoteStore,s)),n._onlineComponents=t}),BF.apply(this,arguments)}function B$(n){return"FirebaseError"===n.name?n.code===we.FAILED_PRECONDITION||n.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function UF(n){return jF.apply(this,arguments)}function jF(){return jF=(0,Te.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield KT(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!B$(e))throw e;yl("Error using user provided cache. Falling back to memory cache: "+e),yield KT(n,new kv)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield KT(n,new kv);return n._offlineComponents}),jF.apply(this,arguments)}function qT(n){return HF.apply(this,arguments)}function HF(){return HF=(0,Te.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield VF(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield VF(n,new Ov))),n._onlineComponents}),HF.apply(this,arguments)}function U$(n){return UF(n).then(t=>t.persistence)}function XT(n){return UF(n).then(t=>t.localStore)}function j$(n){return qT(n).then(t=>t.remoteStore)}function zF(n){return qT(n).then(t=>t.syncEngine)}function Pv(n){return $F.apply(this,arguments)}function $F(){return $F=(0,Te.A)(function*(n){const t=yield qT(n),e=t.eventManager;return e.onListen=N9.bind(null,t.syncEngine),e.onUnlisten=F9.bind(null,t.syncEngine),e}),$F.apply(this,arguments)}function z$(n,t,e={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function(r,s,a,u,f){const m=new WT({next:x=>{s.enqueueAndForget(()=>aF(r,v));const S=x.docs.has(a);!S&&x.fromCache?f.reject(new Le(we.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&u&&"server"===u.source?f.reject(new Le(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new uF(pv(a.path),m,{includeMetadataChanges:!0,Ku:!0});return sF(r,v)}(yield Pv(n),n.asyncQueue,t,e,i)})),i.promise}function $$(n,t,e={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function(r,s,a,u,f){const m=new WT({next:x=>{s.enqueueAndForget(()=>aF(r,v)),x.fromCache&&"server"===u.source?f.reject(new Le(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new uF(a,m,{includeMetadataChanges:!0,Ku:!0});return sF(r,v)}(yield Pv(n),n.asyncQueue,t,e,i)})),i.promise}function G$(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const W$=new Map;function GF(n,t,e){if(!e)throw new Le(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function K$(n,t,e,i){if(!0===t&&!0===i)throw new Le(we.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function q$(n){if(!it.isDocumentKey(n))throw new Le(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function X$(n){if(it.isDocumentKey(n))throw new Le(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":yt()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Le(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=YT(n);throw new Le(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Y$(n,t){if(t<=0)throw new Le(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Q${constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Le(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Le(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}K$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=G$(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jx{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Le(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q$(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new d8;switch(e.type){case"firstParty":return new m8(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Le(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=W$.get(t);e&&(Ke("ComponentProvider","Removing Datastore"),W$.delete(t),e.terminate())}(this),Promise.resolve()}}class vi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vi(this.firestore,t,this._key)}}class As{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new As(this.firestore,t,this._query)}}class Lu extends As{constructor(t,e,i){super(t,e,pv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vi(this.firestore,null,new it(t))}withConverter(t){return new Lu(this.firestore,t,this._path)}}function J$(n,t,...e){if(n=(0,An.Ku)(n),GF("collection","path",t),n instanceof jx){const i=xn.fromString(t,...e);return X$(i),new Lu(n,null,i)}{if(!(n instanceof vi||n instanceof Lu))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(t,...e));return X$(i),new Lu(n.firestore,null,i)}}function QT(n,t,...e){if(n=(0,An.Ku)(n),1===arguments.length&&(t=aH.A()),GF("doc","path",t),n instanceof jx){const i=xn.fromString(t,...e);return q$(i),new vi(n,null,new it(i))}{if(!(n instanceof vi||n instanceof Lu))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(t,...e));return q$(i),new vi(n.firestore,n instanceof Lu?n.converter:null,new it(i))}}function e4(n,t){return n=(0,An.Ku)(n),t=(0,An.Ku)(t),(n instanceof vi||n instanceof Lu)&&(t instanceof vi||t instanceof Lu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function WF(n,t){return n=(0,An.Ku)(n),t=(0,An.Ku)(t),n instanceof As&&t instanceof As&&n.firestore===t.firestore&&yx(n._query,t._query)&&n.converter===t.converter}class f7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new BN(this,"async_queue_retry"),this.Xc=()=>{const e=zT();e&&Ke("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=zT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=zT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Gr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,Te.A)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!dp(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=rF.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&yt()}verifyOperationInProgress(){}sa(){var t=this;return(0,Te.A)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function KF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class p7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class bi extends jx{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new f7,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||t4(this),this._firestoreClient.terminate()}}function yr(n){return n._firestoreClient||t4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function t4(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new G8(n._databaseId,u,n._persistenceKey,(m=r).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,G$(m.experimentalLongPollingOptions),m.useFetchStreams));var u,m;n._firestoreClient=new i7(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function n4(n,t,e){const i=new Gr;return n.asyncQueue.enqueue((0,Te.A)(function*(){try{yield KT(n,e),yield VF(n,t),i.resolve()}catch(r){const s=r;if(!B$(s))throw s;yl("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function i4(n){if(n._initialized||n._terminated)throw new Le(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vu(Wr.fromBase64String(t))}catch(e){throw new Le(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vu(Wr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Le(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pg{constructor(t){this._methodName=t}}class ZT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Le(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Le(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}const D7=/^__.*__$/;class I7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Th(t,this.data,this.fieldMask,e,this.fieldTransforms):new _v(t,this.data,e,this.fieldTransforms)}}class r4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Th(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function s4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class JT{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new JT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return nA(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(s4(this.ca)&&D7.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class S7{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Vx(t)}ya(t,e,i,r=!1){return new JT({ca:t,methodName:e,ga:i,path:or.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(n){const t=n._freezeSettings(),e=Vx(n._databaseId);return new S7(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eA(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);QF("Data must be an object, but it was:",a,i);const u=l4(i,a);let f,m;if(s.merge)f=new ea(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){const v=[];for(const x of s.mergeFields){const S=$x(t,x,e);if(!a.contains(S))throw new Le(we.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);u4(v,S)||v.push(S)}f=new ea(v),m=a.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,m=a.fieldTransforms;return new I7(new Ts(u),f,m)}class zx extends Pg{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zx}}function o4(n,t,e){return new JT({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class qF extends Pg{_toFieldTransform(t){return new xx(t.path,new mv)}isEqual(t){return t instanceof qF}}class T7 extends Pg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=o4(this,t,!0),i=this.pa.map(s=>Fg(s,e)),r=new Dg(i);return new xx(t.path,r)}isEqual(t){return this===t}}class A7 extends Pg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=o4(this,t,!0),i=this.pa.map(s=>Fg(s,e)),r=new Ig(i);return new xx(t.path,r)}isEqual(t){return this===t}}class M7 extends Pg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new gv(t.serializer,JH(t.serializer,this.Ia));return new xx(t.path,e)}isEqual(t){return this===t}}function XF(n,t,e,i){const r=n.ya(1,t,e);QF("Data must be an object, but it was:",r,i);const s=[],a=Ts.empty();hp(i,(f,m)=>{const v=tA(t,f,e);m=(0,An.Ku)(m);const x=r.da(v);if(m instanceof zx)s.push(v);else{const S=Fg(m,x);null!=S&&(s.push(v),a.set(v,S))}});const u=new ea(s);return new r4(a,u,r.fieldTransforms)}function YF(n,t,e,i,r,s){const a=n.ya(1,t,e),u=[$x(t,i,e)],f=[r];if(s.length%2!=0)throw new Le(we.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)u.push($x(t,s[S])),f.push(s[S+1]);const m=[],v=Ts.empty();for(let S=u.length-1;S>=0;--S)if(!u4(m,u[S])){const A=u[S];let O=f[S];O=(0,An.Ku)(O);const P=a.da(A);if(O instanceof zx)m.push(A);else{const L=Fg(O,P);null!=L&&(m.push(A),v.set(A,L))}}const x=new ea(m);return new r4(v,x,a.fieldTransforms)}function a4(n,t,e,i=!1){return Fg(e,n.ya(i?4:3,t))}function Fg(n,t){if(c4(n=(0,An.Ku)(n)))return QF("Unsupported field value:",t,n),l4(n,t);if(n instanceof Pg)return function(e,i){if(!s4(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let u=Fg(a,i.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,An.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return JH(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Pi.fromDate(e);return{timestampValue:vv(i.serializer,r)}}if(e instanceof Pi){const r=new Pi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vv(i.serializer,r)}}if(e instanceof ZT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vu)return{bytesValue:bz(i.serializer,e._byteString)};if(e instanceof vi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fN(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${YT(e)}`)}(n,t)}function l4(n,t){const e={};return xH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hp(n,(i,r)=>{const s=Fg(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function c4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pi||n instanceof ZT||n instanceof Vu||n instanceof vi||n instanceof Pg)}function QF(n,t,e){if(!c4(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=YT(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function $x(n,t,e){if((t=(0,An.Ku)(t))instanceof Rh)return t._internalPath;if("string"==typeof t)return tA(n,t);throw nA("Field path arguments must be of type string or ",n,!1,void 0,e)}const R7=new RegExp("[~\\*/\\[\\]]");function tA(n,t,e){if(t.search(R7)>=0)throw nA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Rh(...t.split("."))._internalPath}catch{throw nA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function nA(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new Le(we.INVALID_ARGUMENT,u+n+f)}function u4(n,t){return n.some(e=>e.isEqual(t))}class Gx{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new k7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(iA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class k7 extends Gx{data(){return super.data()}}function iA(n,t){return"string"==typeof t?tA(n,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function d4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZF{}class Wx extends ZF{}function Dp(n,t,...e){let i=[];t instanceof ZF&&i.push(t),i=i.concat(e),function(r){const s=r.filter(u=>u instanceof Nv).length,a=r.filter(u=>u instanceof Kx).length;if(s>1||s>0&&a>0)throw new Le(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Kx extends Wx{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Kx(t,e,i)}_apply(t){const e=this._parse(t);return m4(t._query,e),new As(t.firestore,t.converter,iN(t._query,e))}_parse(t){const e=Ng(t.firestore);return function(r,s,a,u,f,m,v){let x;if(f.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new Le(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){p4(v,m);const S=[];for(const A of v)S.push(f4(u,r,A));x={arrayValue:{values:S}}}else x=f4(u,r,v)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||p4(v,m),x=a4(a,"where",v,"in"===m||"not-in"===m);return _n.create(f,m,x)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Nv extends ZF{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Nv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:$n.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)m4(s,u),s=iN(s,u)}(t._query,e),new As(t.firestore,t.converter,iN(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JF extends Wx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new JF(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new hv(r,s);return function(u,f){if(null===tN(u)){const m=wT(u);null!==m&&g4(0,m,f.field)}}(i,a),a}(t._query,this._field,this._direction);return new As(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ih(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class rA extends Wx{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new rA(t,e,i)}_apply(t){return new As(t.firestore,t.converter,xT(t._query,this._limit,this._limitType))}}class sA extends Wx{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new sA(t,e,i)}_apply(t){const e=h4(t,this.type,this._docOrFields,this._inclusive);return new As(t.firestore,t.converter,(r=e,new Ih((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class oA extends Wx{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new oA(t,e,i)}_apply(t){const e=h4(t,this.type,this._docOrFields,this._inclusive);return new As(t.firestore,t.converter,(r=e,new Ih((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function h4(n,t,e,i){if(e[0]=(0,An.Ku)(e[0]),e[0]instanceof Gx)return function(r,s,a,u,f){if(!u)throw new Le(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const v of Cg(r))if(v.field.isKeyField())m.push(xg(s,u.key));else{const x=u.data.field(v.field);if(pT(x))throw new Le(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const S=v.field.canonicalString();throw new Le(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}m.push(x)}return new yp(m,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ng(n.firestore);return function(s,a,u,f,m,v){const x=s.explicitOrderBy;if(m.length>x.length)throw new Le(we.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let A=0;A<m.length;A++){const O=m[A];if(x[A].field.isKeyField()){if("string"!=typeof O)throw new Le(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof O}`);if(!nN(s)&&-1!==O.indexOf("/"))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${O}' contains a slash.`);const P=s.path.child(xn.fromString(O));if(!it.isDocumentKey(P))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const L=new it(P);S.push(xg(a,L))}else{const P=a4(u,f,O);S.push(P)}}return new yp(S,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function f4(n,t,e){if("string"==typeof(e=(0,An.Ku)(e))){if(""===e)throw new Le(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nN(t)&&-1!==e.indexOf("/"))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(xn.fromString(e));if(!it.isDocumentKey(i))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xg(n,new it(i))}if(e instanceof vi)return xg(n,e._key);throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YT(e)}.`)}function p4(n,t){if(!Array.isArray(n)||0===n.length)throw new Le(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m4(n,t){if(t.isInequality()){const i=wT(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Le(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=tN(n);null!==s&&g4(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Le(we.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function g4(n,t,e){if(!e.isEqual(t))throw new Le(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class eL{convertValue(t,e="none"){switch(gp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ar(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return hp(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new ZT(ar(t.latitude),ar(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=mT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(fx(t));default:return null}}convertTimestamp(t){const e=fp(t);return new Pi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=xn.fromString(t);At(Mz(i));const r=new pp(i.get(1),i.get(3)),s=new it(i.popFirst(5));return r.isEqual(e)||gr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function aA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class j7 extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}class Lg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kh extends Gx{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(iA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class qx extends kh{data(t={}){return super.data(t)}}class Ip{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Lg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qx(this._firestore,this._userDataWriter,i.key,i,new Lg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Le(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new qx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new qx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return 0!==a.type&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),m=s.indexOf(a.doc.key)),{type:z7(a.type),doc:u,oldIndex:f,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function z7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function y4(n,t){return n instanceof kh&&t instanceof kh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ip&&t instanceof Ip&&n._firestore===t._firestore&&WF(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Sp extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vi(this.firestore,null,e)}}function v4(n,t,e){n=yn(n,vi);const i=yn(n.firestore,bi),r=aA(n.converter,t,e);return Fv(i,[eA(Ng(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ni.none())])}function b4(n,t,e,...i){n=yn(n,vi);const r=yn(n.firestore,bi),s=Ng(r);let a;return a="string"==typeof(t=(0,An.Ku)(t))||t instanceof Rh?YF(s,"updateDoc",n._key,t,e,i):XF(s,"updateDoc",n._key,t),Fv(r,[a.toMutation(n._key,Ni.exists(!0))])}function w4(n,...t){var e,i,r;n=(0,An.Ku)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||KF(t[a])||(s=t[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(KF(t[a])){const x=t[a];t[a]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[a+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[a+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let f,m,v;if(n instanceof vi)m=yn(n.firestore,bi),v=pv(n._key.path),f={next:x=>{t[a]&&t[a](tL(m,n,x))},error:t[a+1],complete:t[a+2]};else{const x=yn(n,As);m=yn(x.firestore,bi),v=x._query;const S=new Sp(m);f={next:A=>{t[a]&&t[a](new Ip(m,S,x,A))},error:t[a+1],complete:t[a+2]},d4(n._query)}return function(x,S,A,O){const P=new WT(O),L=new uF(S,P,A);return x.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return sF(yield Pv(x),L)})),()=>{P.Dc(),x.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return aF(yield Pv(x),L)}))}}(yr(m),v,u,f)}function Fv(n,t){return function(e,i){const r=new Gr;return e.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function L9(n,t,e){return mF.apply(this,arguments)}(yield zF(e),i,r)})),r.promise}(yr(n),t)}function tL(n,t,e){const i=e.docs.get(t._key),r=new Sp(n);return new kh(n,r,t._key,i,new Lg(e.hasPendingWrites,e.fromCache),t.converter)}const aq={maxAttempts:5};class x4{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ng(t)}set(t,e,i){this._verifyNotCommitted();const r=Tp(t,this._firestore),s=aA(r.converter,e,i),a=eA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Ni.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Tp(t,this._firestore);let a;return a="string"==typeof(e=(0,An.Ku)(e))||e instanceof Rh?YF(this._dataReader,"WriteBatch.update",s._key,e,i,r):XF(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,Ni.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Tp(t,this._firestore);return this._mutations=this._mutations.concat(new yv(e._key,Ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tp(n,t){if((n=(0,An.Ku)(n)).firestore!==t)throw new Le(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lq extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ng(t)}get(t){const e=Tp(t,this._firestore),i=new j7(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return yt();const s=r[0];if(s.isFoundDocument())return new Gx(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Gx(this._firestore,i,e._key,null,e.converter);throw yt()})}set(t,e,i){const r=Tp(t,this._firestore),s=aA(r.converter,e,i),a=eA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=Tp(t,this._firestore);let a;return a="string"==typeof(e=(0,An.Ku)(e))||e instanceof Rh?YF(this._dataReader,"Transaction.update",s._key,e,i,r):XF(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=Tp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Tp(t,this._firestore),i=new Sp(this._firestore);return super.get(t).then(r=>new kh(this._firestore,i,e._key,r._document,new Lg(!1,!1),e.converter))}}function nL(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function C4(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function D4(){if(!function z8(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){lv=mg.SDK_VERSION,(0,mg._registerComponent)(new NS.uA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new bi(new f8(e.getProvider("auth-internal")),new g8(e.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pp(u.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,mg.registerVersion)(rH,"3.13.0",n),(0,mg.registerVersion)(rH,"3.13.0","esm2017")}();class Xx{constructor(t){this._delegate=t}static fromBase64String(t){return D4(),new Xx(Vu.fromBase64String(t))}static fromUint8Array(t){return C4(),new Xx(Vu.fromUint8Array(t))}toBase64(){return D4(),this._delegate.toBase64()}toUint8Array(){return C4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function iL(n){return function _q(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class yq{enableIndexedDbPersistence(t,e){return function g7(n,t){i4(n=yn(n,bi));const e=yr(n);if(e._uninitializedComponentsProvider)throw new Le(we.FAILED_PRECONDITION,"SDK cache is already specified.");yl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ov;return n4(e,r,new FF(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function _7(n){i4(n=yn(n,bi));const t=yr(n);if(t._uninitializedComponentsProvider)throw new Le(we.FAILED_PRECONDITION,"SDK cache is already specified.");yl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Ov;return n4(t,i,new L$(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function y7(n){if(n._initialized&&!n._terminated)throw new Le(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.A)(function*(){try{yield(e=(0,Te.A)(function*(i){if(!yc.D())return Promise.resolve();const r=i+"main";yield yc.delete(r)}),function(i){return e.apply(this,arguments)})(TN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class I4{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof pp||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&yl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Z$(n,t,e,i={}){var r;const s=(n=yn(n,jx))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=cs.MOCK_USER;else{u=(0,An.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Le(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new cs(m)}n._authCredentials=new h8(new sH(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function b7(n){return function r7(n){return n.asyncQueue.enqueue((0,Te.A)(function*(){const t=yield U$(n),e=yield j$(n);return t.setNetworkEnabled(!0),function(i){const r=ot(i);return r.vu.delete(0),Bx(r)}(e)}))}(yr(n=yn(n,bi)))}(this._delegate)}disableNetwork(){return function w7(n){return function s7(n){return n.asyncQueue.enqueue((0,Te.A)(function*(){const t=yield U$(n),e=yield j$(n);return t.setNetworkEnabled(!1),(i=(0,Te.A)(function*(r){const s=ot(r);s.vu.add(0),yield Dv(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(yr(n=yn(n,bi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,K$("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function v7(n){return function(t){const e=new Gr;return t.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function j9(n,t){return bF.apply(this,arguments)}(yield zF(t),e)})),e.promise}(yr(n=yn(n,bi)))}(this._delegate)}onSnapshotsInSync(t){return function Z7(n,t){return function l7(n,t){const e=new WT(t);return n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return i=yield Pv(n),r=e,ot(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return i=yield Pv(n),r=e,void ot(i).ku.delete(r);var i,r}))}}(yr(n=yn(n,bi)),KF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Lv(this,J$(this._delegate,t))}catch(e){throw To(e,"collection()","Firestore.collection()")}}doc(t){try{return new vl(this,QT(this._delegate,t))}catch(e){throw To(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ao(this,function h7(n,t){if(n=yn(n,jx),GF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Le(we.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new As(n,null,(e=t,new Ih(xn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw To(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function cq(n,t,e){n=yn(n,bi);const i=Object.assign(Object.assign({},aq),e);return function(r){if(r.maxAttempts<1)throw new Le(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const u=new Gr;return r.asyncQueue.enqueueAndForget((0,Te.A)(function*(){const f=yield function H$(n){return qT(n).then(t=>t.datastore)}(r);new n7(r.asyncQueue,f,a,s,u).run()})),u.promise}(yr(n),r=>t(new lq(n,r)),i)}(this._delegate,e=>t(new S4(this,e)))}batch(){return yr(this._delegate),new T4(new x4(this._delegate,t=>Fv(this._delegate,t)))}loadBundle(t){return function x7(n,t){const e=yr(n=yn(n,bi)),i=new p7;return function c7(n,t,e,i){const r=function(s,a){let u;return u="string"==typeof s?hz().encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return V$(f,m);if(f instanceof ArrayBuffer)return V$(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new e7(f,a);var f}(e,Vx(t));n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){!function Z9(n,t,e){const i=ot(n);var r;(r=(0,Te.A)(function*(s,a,u){try{const f=yield a.getMetadata();if(yield function(S,A){const O=ot(S),P=_r(A.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",L=>O.qs.getBundleMetadata(L,A.id)).then(L=>!!L&&L.createTime.compareTo(P)>=0)}(s.localStore,f))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(S=f).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);u._updateProgress(T$(f));const m=new R9(f,s.localStore,a.serializer);let v=yield a.bc();for(;v;){const S=yield m.zu(v);S&&u._updateProgress(S),v=yield a.bc()}const x=yield m.complete();return yield Mh(s,x.Ju,void 0),yield function(S,A){const O=ot(S);return O.persistence.runTransaction("Save bundle","readwrite",P=>O.qs.saveBundleMetadata(P,A))}(s.localStore,f),u._completeWith(x.progress),Promise.resolve(x.Hu)}catch(f){return yl("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}var S}),function(s,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zF(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function E7(n,t){return function u7(n,t){return n.asyncQueue.enqueue((0,Te.A)(function*(){return function(e,i){const r=ot(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield XT(n),t)}))}(yr(n=yn(n,bi)),t).then(e=>e?new As(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ao(this,e):null)}}class lA extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xx(new Vu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return vl.forKey(e,this.firestore,null)}}class S4{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new lA(t)}get(t){const e=Bg(t);return this._delegate.get(e).then(i=>new Yx(this._firestore,new kh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Bg(t);return i?(nL("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Bg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Bg(t);return this._delegate.delete(e),this}}class T4{constructor(t){this._delegate=t}set(t,e,i){const r=Bg(t);return i?(nL("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Bg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Bg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Vg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new qx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qx(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Vg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Vg(t,new lA(t),e),r.set(e,s)),s}}Vg.INSTANCES=new WeakMap;class vl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new vl(e,new vi(e._delegate,i,new it(t)))}static forKey(t,e,i){return new vl(e,new vi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Lv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Lv(this.firestore,J$(this._delegate,t))}catch(e){throw To(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,An.Ku)(t))instanceof vi&&e4(this._delegate,t)}set(t,e){e=nL("DocumentReference.set",e);try{return e?v4(this._delegate,t,e):v4(this._delegate,t)}catch(i){throw To(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?b4(this._delegate,t):b4(this._delegate,t,e,...i)}catch(r){throw To(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Y7(n){return Fv(yn(n.firestore,bi),[new yv(n._key,Ni.none())])}(this._delegate)}onSnapshot(...t){const e=A4(t),i=M4(t,r=>new Yx(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return w4(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function G7(n){n=yn(n,vi);const t=yn(n.firestore,bi),e=yr(t),i=new Sp(t);return function o7(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return(i=(0,Te.A)(function*(r,s,a){try{const u=yield function(f,m){const v=ot(f);return v.persistence.runTransaction("read document","readonly",x=>v.localDocuments.getDocument(x,m))}(r,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Le(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=Tv(u,`Failed to get document '${s} from cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield XT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new kh(t,i,n._key,r,new Lg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function W7(n){n=yn(n,vi);const t=yn(n.firestore,bi);return z$(yr(t),n._key,{source:"server"}).then(e=>tL(t,n,e))}(this._delegate):function $7(n){n=yn(n,vi);const t=yn(n.firestore,bi);return z$(yr(t),n._key).then(e=>tL(t,n,e))}(this._delegate),e.then(i=>new Yx(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new vl(this.firestore,this._delegate.withConverter(t?Vg.getInstance(this.firestore,t):null))}}function To(n,t,e){return n.message=n.message.replace(t,e),n}function A4(n){for(const t of n)if("object"==typeof t&&!iL(t))return t;return{}}function M4(n,t){var e,i;let r;return r=iL(n[0])?n[0]:iL(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Yx{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new vl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return y4(this._delegate,t._delegate)}}class Qx extends Yx{data(t){const e=this._delegate.data(t);return function u8(n,t){n||yt()}(void 0!==e),e}}class Ao{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lA(t)}where(t,e,i){try{return new Ao(this.firestore,Dp(this._delegate,function O7(n,t,e){const i=t,r=iA("where",n);return Kx._create(r,i,e)}(t,e,i)))}catch(r){throw To(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ao(this.firestore,Dp(this._delegate,function P7(n,t="asc"){const e=t,i=iA("orderBy",n);return JF._create(i,e)}(t,e)))}catch(i){throw To(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ao(this.firestore,Dp(this._delegate,function N7(n){return Y$("limit",n),rA._create("limit",n,"F")}(t)))}catch(e){throw To(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ao(this.firestore,Dp(this._delegate,function F7(n){return Y$("limitToLast",n),rA._create("limitToLast",n,"L")}(t)))}catch(e){throw To(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ao(this.firestore,Dp(this._delegate,function L7(...n){return sA._create("startAt",n,!0)}(...t)))}catch(e){throw To(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ao(this.firestore,Dp(this._delegate,function V7(...n){return sA._create("startAfter",n,!1)}(...t)))}catch(e){throw To(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ao(this.firestore,Dp(this._delegate,function B7(...n){return oA._create("endBefore",n,!1)}(...t)))}catch(e){throw To(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ao(this.firestore,Dp(this._delegate,function U7(...n){return oA._create("endAt",n,!0)}(...t)))}catch(e){throw To(e,"endAt()","Query.endAt()")}}isEqual(t){return WF(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function q7(n){n=yn(n,As);const t=yn(n.firestore,bi),e=yr(t),i=new Sp(t);return function a7(n,t){const e=new Gr;return n.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return(i=(0,Te.A)(function*(r,s,a){try{const u=yield BT(r,s,!0),f=new R$(s,u.ir),m=f.sc(u.documents),v=f.applyChanges(m,!1);a.resolve(v.snapshot)}catch(u){const f=Tv(u,`Failed to execute query '${s} against cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield XT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ip(t,i,n,r))}(this._delegate):"server"===t?.source?function X7(n){n=yn(n,As);const t=yn(n.firestore,bi),e=yr(t),i=new Sp(t);return $$(e,n._query,{source:"server"}).then(r=>new Ip(t,i,n,r))}(this._delegate):function K7(n){n=yn(n,As);const t=yn(n.firestore,bi),e=yr(t),i=new Sp(t);return d4(n._query),$$(e,n._query).then(r=>new Ip(t,i,n,r))}(this._delegate),e.then(i=>new rL(this.firestore,new Ip(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=A4(t),i=M4(t,r=>new rL(this.firestore,new Ip(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return w4(this._delegate,e,i)}withConverter(t){return new Ao(this.firestore,this._delegate.withConverter(t?Vg.getInstance(this.firestore,t):null))}}class bq{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Qx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rL{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Qx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new bq(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Qx(this._firestore,i))})}isEqual(t){return y4(this._delegate,t._delegate)}}class Lv extends Ao{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new vl(this.firestore,t):null}doc(t){try{return new vl(this.firestore,void 0===t?QT(this._delegate):QT(this._delegate,t))}catch(e){throw To(e,"doc()","CollectionReference.doc()")}}add(t){return function Q7(n,t){const e=yn(n.firestore,bi),i=QT(n),r=aA(n.converter,t);return Fv(e,[eA(Ng(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ni.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new vl(this.firestore,e))}isEqual(t){return e4(this._delegate,t._delegate)}withConverter(t){return new Lv(this.firestore,this._delegate.withConverter(t?Vg.getInstance(this.firestore,t):null))}}function Bg(n){return yn(n,vi)}class sL{constructor(...t){this._delegate=new Rh(...t)}static documentId(){return new sL(or.keyField().canonicalString())}isEqual(t){return(t=(0,An.Ku)(t))instanceof Rh&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ug{constructor(t){this._delegate=t}static serverTimestamp(){const t=function dq(){return new qF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ug(t)}static delete(){const t=function uq(){return new zx("deleteField")}();return t._methodName="FieldValue.delete",new Ug(t)}static arrayUnion(...t){const e=function hq(...n){return new T7("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ug(e)}static arrayRemove(...t){const e=function fq(...n){return new A7("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ug(e)}static increment(t){const e=function pq(n){return new M7("increment",n)}(t);return e._methodName="FieldValue.increment",new Ug(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const wq={Firestore:I4,GeoPoint:ZT,Timestamp:Pi,Blob:Xx,Transaction:S4,WriteBatch:T4,DocumentReference:vl,DocumentSnapshot:Yx,Query:Ao,QueryDocumentSnapshot:Qx,QuerySnapshot:rL,CollectionReference:Lv,FieldPath:sL,FieldValue:Ug,setLogLevel:function vq(n){!function c8(n){cp.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Eq(n){(function xq(n,t){n.INTERNAL.registerComponent(new NS.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},wq)))})(n,(t,e)=>new I4(t,e,new yq)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(t6.A);var Ap=B(7786),cA=B(941),Cq=B(6129);class Dq extends Kt.B{constructor(t=1/0,e=1/0,i=Cq.U){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let u=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)u=f;u&&i.splice(0,u+1)}}}var R4=B(7647);function oL(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,R4.u)({connector:()=>new Dq(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function k4(n,t){return(0,Rr.T)(t)?(0,jn.n)(()=>n,t):(0,jn.n)(()=>n)}var aL=B(6745);B(2214);const cL=new Map,P4={activated:!1,tokenObservers:[]},Mq={initialized:!1,enabled:!1};function lr(n){return cL.get(n)||Object.assign({},P4)}function dA(){return Mq}const uL="https://content-firebaseappcheck.googleapis.com/v1",Pq="exchangeDebugToken",N4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Fq{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.A)(function*(){e.stop();try{e.pending=new An.cY,yield function Lq(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new An.cY,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ms=new An.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dL(n){if(!lr(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function pA(n,t){return fL.apply(this,arguments)}function fL(){return fL=(0,Te.A)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,s)}catch(x){throw Ms.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==a.status)throw Ms.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(x){throw Ms.create("fetch-parse-error",{originalErrorMessage:x?.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const m=1e3*Number(f[1]),v=Date.now();return{token:u.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}),fL.apply(this,arguments)}function F4(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${uL}/projects/${e}/apps/${i}:${Pq}?key=${r}`,body:{debug_token:t}}}const jq="firebase-app-check-database",Hq=1,Zx="firebase-app-check-store";let mA=null;function pL(){return pL=(0,Te.A)(function*(n,t){const i=(yield function V4(){return mA||(mA=new Promise((n,t)=>{try{const e=indexedDB.open(jq,Hq);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ms.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zx,{keyPath:"compositeKey"})}}catch(e){t(Ms.create("storage-open",{originalErrorMessage:e?.message}))}}),mA)}()).transaction(Zx,"readwrite"),s=i.objectStore(Zx).put({compositeKey:n,value:t});return new Promise((a,u)=>{s.onsuccess=f=>{a()},i.onerror=f=>{var m;u(Ms.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})}),pL.apply(this,arguments)}const Jx=new op.Vy("@firebase/app-check");function _L(n,t){return(0,An.zW)()?function $q(n,t){return function B4(n,t){return pL.apply(this,arguments)}(function j4(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Jx.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function vL(){return dA().enabled}function bL(){return wL.apply(this,arguments)}function wL(){return wL=(0,Te.A)(function*(){const n=dA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wL.apply(this,arguments)}const Yq={error:"UNKNOWN_ERROR"};function Qq(n){return An.K3.encodeString(JSON.stringify(n),!1)}function gA(n){return xL.apply(this,arguments)}function xL(){return xL=(0,Te.A)(function*(n,t=!1){const e=n.app;dL(e);const i=lr(e);let s,r=i.token;if(r&&!Vv(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(Vv(f)?r=f:yield _L(e,void 0))}if(!t&&r&&Vv(r))return{token:r.token};let u,a=!1;if(vL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=pA(F4(e,yield bL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield _L(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield lr(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Jx.warn(f.message):Jx.error(f),s=f}return r?s?u=Vv(r)?{token:r.token,internalError:s}:G4(s):(u={token:r.token},i.token=r,yield _L(e,r)):u=G4(s),a&&function $4(n,t){const e=lr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u}),xL.apply(this,arguments)}function EL(){return EL=(0,Te.A)(function*(n){const t=n.app;dL(t);const{provider:e}=lr(t);if(vL()){const i=yield bL(),{token:r}=yield pA(F4(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),EL.apply(this,arguments)}function DL(n,t){const e=lr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function z4(n){const{app:t}=n,e=lr(t);let i=e.tokenRefresher;i||(i=function Zq(n){const{app:t}=n;return new Fq((0,Te.A)(function*(){let i;if(i=lr(t).token?yield gA(n,!0):yield gA(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=lr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},N4.RETRIAL_MIN_WAIT,N4.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Vv(n){return n.expireTimeMillis-Date.now()>0}function G4(n){return{token:Qq(Yq),error:n}}class Jq{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=lr(this.app);for(const e of t)DL(this.app,e.next);return Promise.resolve()}}const J4="app-check-internal";!function fX(){(0,mg._registerComponent)(new NS.uA("app-check",n=>function eX(n,t){return new Jq(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(J4).initialize()})),(0,mg._registerComponent)(new NS.uA(J4,n=>function tX(n){return{getToken:t=>gA(n,t),getLimitedUseToken:()=>function H4(n){return EL.apply(this,arguments)}(n),addTokenListener:t=>function CL(n,t,e,i){const{app:r}=n,s=lr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Vv(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),z4(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>z4(n))}(n,"INTERNAL",t),removeTokenListener:t=>DL(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mg.registerVersion)("@firebase/app-check","0.8.0")}();class AL{constructor(){return(0,mr.CA)("app-check")}}typeof window<"u"&&window;var yX=B(7935);const t5=new d.nKC("angularfire2.auth.use-emulator"),n5=new d.nKC("angularfire2.auth.settings"),i5=new d.nKC("angularfire2.auth.tenant-id"),r5=new d.nKC("angularfire2.auth.langugage-code"),s5=new d.nKC("angularfire2.auth.use-device-language"),o5=new d.nKC("angularfire.auth.persistence"),a5=(n,t,e,i,r,s,a,u)=>(0,Ma.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),a)for(const[m,v]of Object.entries(a))f.settings[m]=v;return u&&f.setPersistence(u),f},[e,i,r,s,a,u]);let l5=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,S,A){const O=new Kt.B,P=(0,lt.of)(void 0).pipe((0,cA.Q)(a.outsideAngular),(0,jn.n)(()=>s.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,6922)))),(0,ft.T)(()=>(0,Ma.iB)(e,s,i)),(0,ft.T)(L=>a5(L,s,u,m,v,x,f,S)),oL({bufferSize:1,refCount:!1}));if(Ml(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,lt.of)(null);else{P.pipe(zo()).subscribe();const $=P.pipe((0,jn.n)(le=>le.getRedirectResult().then(ce=>ce,()=>null)),mr.U0,oL({bufferSize:1,refCount:!1})),X=P.pipe((0,jn.n)(le=>new pi.c(ce=>({unsubscribe:s.runOutsideAngular(()=>le.onAuthStateChanged(xe=>ce.next(xe),xe=>ce.error(xe),()=>ce.complete()))})))),ee=P.pipe((0,jn.n)(le=>new pi.c(ce=>({unsubscribe:s.runOutsideAngular(()=>le.onIdTokenChanged(xe=>ce.next(xe),xe=>ce.error(xe),()=>ce.complete()))}))));this.authState=$.pipe(k4(X),(0,aL._)(a.outsideAngular),(0,cA.Q)(a.insideAngular)),this.user=$.pipe(k4(ee),(0,aL._)(a.outsideAngular),(0,cA.Q)(a.insideAngular)),this.idToken=this.user.pipe((0,jn.n)(le=>le?(0,Vn.H)(le.getIdToken()):(0,lt.of)(null))),this.idTokenResult=this.user.pipe((0,jn.n)(le=>le?(0,Vn.H)(le.getIdTokenResult()):(0,lt.of)(null))),this.credential=(0,Ap.h)($,O,this.authState.pipe(Zn(le=>!le))).pipe((0,ft.T)(le=>le?.user?le:null),(0,aL._)(a.outsideAngular),(0,cA.Q)(a.insideAngular))}return(0,Ma.Gt)(this,P,s,{spy:{apply:(L,$,X)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&X.then(ee=>O.next(ee))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.KVO(Ma.rx),d.KVO(Ma.uP,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(mr.u0),d.KVO(t5,8),d.KVO(n5,8),d.KVO(i5,8),d.KVO(r5,8),d.KVO(s5,8),d.KVO(o5,8),d.KVO(AL,8))},n.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function c5(n,t){return function bX(n,t=Im.E){return new pi.c(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function RL(n,t){return c5(n,t).pipe((0,ft.T)(e=>({payload:e,type:"query"})))}function yA(n,t){return RL(n,t).pipe(vs(void 0),Bw(),(0,ft.T)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const f=r.find(v=>v.doc.ref.isEqual(a.ref)),m=e?.payload.docs.find(v=>v.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function u5(n,t,e){return yA(n,e).pipe(_o((i,r)=>function xX(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function EX(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return kL(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return kL(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return kL(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,Nf.F)(),(0,ft.T)(i=>i.map(r=>({type:r.type,payload:r}))))}function kL(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function d5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class h5{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=yA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ft.T)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(vs(void 0),Bw(),Zn(([i,r])=>r.length>0||!i),(0,ft.T)(([i,r])=>r),mr.U0)}auditTrail(t){return this.stateChanges(t).pipe(_o((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=d5(t);return u5(this.query,e,this.afs.schedulers.outsideAngular).pipe(mr.U0)}valueChanges(t={}){return RL(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.T)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),mr.U0)}get(t){return(0,Vn.H)(this.query.get(t)).pipe(mr.U0)}add(t){return this.ref.add(t)}doc(t){return new f5(this.ref.doc(t),this.afs)}}class f5{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=g5(i,e);return new h5(r,s,this.afs)}snapshotChanges(){return function wX(n,t){return c5(n,t).pipe(vs(void 0),Bw(),(0,ft.T)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mr.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ft.T)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Vn.H)(this.ref.get(t)).pipe(mr.U0)}}class CX{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.T)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Zn(e=>e.length>0),mr.U0):yA(this.query,this.afs.schedulers.outsideAngular).pipe(mr.U0)}auditTrail(t){return this.stateChanges(t).pipe(_o((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=d5(t);return u5(this.query,e,this.afs.schedulers.outsideAngular).pipe(mr.U0)}valueChanges(t={}){return RL(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.T)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),mr.U0)}get(t){return(0,Vn.H)(this.query.get(t)).pipe(mr.U0)}}const p5=new d.nKC("angularfire2.enableFirestorePersistence"),m5=new d.nKC("angularfire2.firestore.persistenceSettings"),DX=new d.nKC("angularfire2.firestore.settings"),IX=new d.nKC("angularfire2.firestore.use-emulator");function g5(n,t=(e=>e)){return{query:t(n),ref:n}}let vA=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,S,A,O,P,L,$,X){this.schedulers=f;const ee=(0,Ma.iB)(e,u,i),le=v;x&&a5(ee,u,S,O,P,L,A,$),[this.firestore,this.persistenceEnabled$]=(0,Ma.BM)(`${ee.name}.firestore`,"AngularFirestore",ee.name,()=>{const ce=u.runOutsideAngular(()=>ee.firestore());if(s&&ce.settings(s),le&&ce.useEmulator(...le),r&&!Ml(a)){const xe=()=>{try{return(0,Vn.H)(ce.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(ze){return typeof console<"u"&&console.warn(ze),(0,lt.of)(!1)}};return[ce,u.runOutsideAngular(xe)]}return[ce,(0,lt.of)(!1)]},[s,le,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=g5(r,i),u=this.schedulers.ngZone.run(()=>s);return new h5(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new CX(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new f5(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(d.KVO(Ma.rx),d.KVO(Ma.uP,8),d.KVO(p5,8),d.KVO(DX,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(mr.u0),d.KVO(m5,8),d.KVO(IX,8),d.KVO(l5,8),d.KVO(t5,8),d.KVO(n5,8),d.KVO(i5,8),d.KVO(r5,8),d.KVO(s5,8),d.KVO(o5,8),d.KVO(AL,8))},n.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SX=(()=>{class n{constructor(){yX.A.registerVersion("angularfire",mr.xv.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:p5,useValue:!0},{provide:m5,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.$C({type:n}),n.\u0275inj=d.G2t({providers:[vA]}),n})();const TX=["*"],OX=new d.nKC("MAT_CARD_CONFIG");let OL=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(OX,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:TX,decls:1,vars:0,template:function(i,r){1&i&&(d.NAR(),d.SdG(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),PX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,Yr,nr]})}}return n})();const NX=["pieChart"],FX=["barChart"],LX=["lineChart"];Du.register(xh);let VX=(()=>{class n{constructor(e){this.firestore=e,this.totalReceived=0,this.totalSpent=0,this.totalSaved=0,this.lineChartData={labels:[],datasets:[{data:[],label:"Savings",fill:!0,tension:.4,borderColor:"#4caf50",backgroundColor:"rgba(76, 175, 80, 0.2)"}]},this.pieChartData={labels:[],datasets:[{data:[],backgroundColor:["#42a5f5","#66bb6a","#ffa726","#ef5350","#ab47bc","#26c6da"]}]},this.barChartData={labels:[],datasets:[{data:[],label:"Spent",backgroundColor:"#ff7043",barPercentage:.4,categoryPercentage:.6}]},this.pieChartOptions={responsive:!0,plugins:{legend:{position:"top"},datalabels:{color:"#fff",formatter:(i,r)=>{const a=r.chart.data.datasets[0].data.reduce((u,f)=>u+f,0);return a?(i/a*100).toFixed(0)+"%":""},font:{weight:"bold",size:14}}}},this.pieChartPlugins=[xh],this.lineChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},layout:{padding:{top:10,bottom:10}}},this.barChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{x:{ticks:{font:{size:12}},grid:{display:!1}},y:{beginAtZero:!0,ticks:{font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}}ngOnInit(){this.loadData()}ngOnChanges(e){e.pieChartData&&this.updateCharts()}loadData(){this.firestore.collection("expenses").valueChanges().subscribe(e=>{let i=0,r=0;const s={},a={};e.forEach(S=>{const A=new Date(S.date);if(isNaN(A.getTime()))return;const O=`${A.toLocaleString("default",{month:"short"})} ${A.getFullYear()}`,P="income"===S.category.toLowerCase();s[O]||(s[O]={received:0,spent:0}),P?(i+=S.amount,s[O].received+=S.amount):(r+=S.amount,s[O].spent+=S.amount,a[S.category]||(a[S.category]=0),a[S.category]+=S.amount)}),this.totalReceived=i,this.totalSpent=r,this.totalSaved=i-r;const u=Object.keys(s),f=u.map(S=>s[S].received-s[S].spent);this.lineChartData.labels=u,this.lineChartData.datasets[0].data=f;const m=u.map(S=>s[S].spent);this.barChartData.labels=u,this.barChartData.datasets[0].data=m;const v=Object.keys(a),x=v.map(S=>a[S]);this.pieChartData.labels=v,this.pieChartData.datasets[0].data=x,this.updateCharts()})}updateCharts(){this.pieChart&&!this.pieChart.chart&&(this.pieChart.chart=new Du(this.pieChart.nativeElement,{type:"pie",data:this.pieChartData,options:this.pieChartOptions})),this.barChart&&!this.barChart.chart&&(this.barChart.chart=new Du(this.barChart.nativeElement,{type:"bar",data:this.barChartData,options:this.barChartOptions})),this.lineChart&&!this.lineChart.chart&&(this.lineChart.chart=new Du(this.lineChart.nativeElement,{type:"line",data:this.lineChartData,options:this.lineChartOptions}))}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(vA))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-home"]],viewQuery:function(i,r){if(1&i&&(d.GBs(NX,5),d.GBs(FX,5),d.GBs(LX,5)),2&i){let s;d.mGM(s=d.lsd())&&(r.pieChart=s.first),d.mGM(s=d.lsd())&&(r.barChart=s.first),d.mGM(s=d.lsd())&&(r.lineChart=s.first)}},features:[d.OA$],decls:25,vars:3,consts:[[1,"dashboard-container"],[1,"summary-cards"],[1,"card","received"],[1,"card","spent"],[1,"card","saved"],[1,"top-row"],[1,"chart"],["lineChart",""],["pieChart",""],[1,"bottom-row"],[1,"chart","bar-chart"],["barChart",""]],template:function(i,r){1&i&&(d.j41(0,"div",0)(1,"div",1)(2,"mat-card",2),d.EFF(3),d.k0s(),d.j41(4,"mat-card",3),d.EFF(5),d.k0s(),d.j41(6,"mat-card",4),d.EFF(7),d.k0s()(),d.j41(8,"div",5)(9,"div",6)(10,"h3"),d.EFF(11,"Savings Growth (Line)"),d.k0s(),d.nrm(12,"canvas",null,7),d.k0s(),d.j41(14,"div",6)(15,"h3"),d.EFF(16,"Spending by Category (Pie)"),d.k0s(),d.nrm(17,"canvas",null,8),d.k0s()(),d.j41(19,"div",9)(20,"div",10)(21,"h3"),d.EFF(22,"Monthly Spend (Bar)"),d.k0s(),d.nrm(23,"canvas",null,11),d.k0s()()()),2&i&&(d.R7$(3),d.SpI("Received: \u20b9",r.totalReceived,""),d.R7$(2),d.SpI("Spent: \u20b9",r.totalSpent,""),d.R7$(2),d.SpI("Saved: \u20b9",r.totalSaved,""))},dependencies:[OL],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:1rem}.summary-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:2rem}.summary-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1;margin:0 1rem;padding:1rem;font-size:1.2rem;text-align:center}.summary-cards[_ngcontent-%COMP%]   .received[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.summary-cards[_ngcontent-%COMP%]   .spent[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.summary-cards[_ngcontent-%COMP%]   .saved[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.top-row[_ngcontent-%COMP%], .bottom-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap}.chart[_ngcontent-%COMP%]{width:45%;min-width:300px;height:300px;margin-bottom:2rem}"]})}}return n})();class _5{}function PL(n){return n&&"function"==typeof n.connect&&!(n instanceof $c)}class y5{applyChanges(t,e,i,r,s){t.forEachOperation((a,u,f)=>{let m,v;if(null==a.previousIndex){const x=i(a,u,f);m=e.createEmbeddedView(x.templateRef,x.context,x.index),v=1}else null==f?(e.remove(u),v=3):(m=e.get(u),e.move(m,f),v=2);s&&s({context:m?.context,operation:v,record:a})})}detach(){}}class BX{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Kt.B,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const eE=new d.nKC("_ViewRepeater");var UX=B(7441);const jX=["addListener","removeListener"],HX=["addEventListener","removeEventListener"],zX=["on","off"];function NL(n,t,e,i){if((0,Rr.T)(e)&&(i=e,e=void 0),i)return NL(n,t,e).pipe(ma(i));const[r,s]=function WX(n){return(0,Rr.T)(n.addEventListener)&&(0,Rr.T)(n.removeEventListener)}(n)?HX.map(a=>u=>n[a](t,u,e)):function $X(n){return(0,Rr.T)(n.addListener)&&(0,Rr.T)(n.removeListener)}(n)?jX.map(b5(n,t)):function GX(n){return(0,Rr.T)(n.on)&&(0,Rr.T)(n.off)}(n)?zX.map(b5(n,t)):[];if(!r&&(0,UX.X)(n))return(0,Jn.Z)(a=>NL(a,t,e))((0,po.Tg)(n));if(!r)throw new TypeError("Invalid event target");return new pi.c(a=>{const u=(...f)=>a.next(1<f.length?f:f[0]);return r(u),()=>s(u)})}function b5(n,t){return e=>i=>n[e](t,i)}var w5=B(6780);const tE={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=tE;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new es.yU(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=tE;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=tE;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var x5=B(9687);new class qX extends x5.q{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class KX extends w5.R{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=tE.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&e===t._scheduled&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(tE.cancelAnimationFrame(e),t._scheduled=void 0)}});let FL,YX=1;const bA={};function E5(n){return n in bA&&(delete bA[n],!0)}const QX={setImmediate(n){const t=YX++;return bA[t]=!0,FL||(FL=Promise.resolve()),FL.then(()=>E5(t)&&n()),t},clearImmediate(n){E5(n)}},{setImmediate:ZX,clearImmediate:JX}=QX,wA={setImmediate(...n){const{delegate:t}=wA;return(t?.setImmediate||ZX)(...n)},clearImmediate(n){const{delegate:t}=wA;return(t?.clearImmediate||JX)(n)},delegate:void 0};new class tY extends x5.q{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class eY extends w5.R{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(wA.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var rY=B(9470);function C5(n,t=Im.E){return function iY(n){return(0,Mi.N)((t,e)=>{let i=!1,r=null,s=null,a=!1;const u=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},f=()=>{s=null,a&&e.complete()};t.subscribe((0,un._)(e,m=>{i=!0,r=m,s||(0,po.Tg)(n(m)).subscribe(s=(0,un._)(e,u,f))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function oY(n=0,t,e=Im.b){let i=-1;return null!=t&&((0,rY.m)(t)?e=t:i=t),new pi.c(r=>{let s=function sY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let lY=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Kt.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new pi.c(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(C5(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,lt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Zn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Pt(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>NL(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(d.SKi),d.KVO(ki),d.KVO(he,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xA=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Kt.B,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(C5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(ki),d.KVO(d.SKi),d.KVO(he,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})(),VL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[Vf,LL,Vf,LL]})}}return n})();const uY=[[["caption"]],[["colgroup"],["col"]]],dY=["caption","colgroup, col"];function BL(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=ai(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Bv=new d.nKC("CDK_TABLE");let Uv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkCellDef",""]]})}}return n})(),jv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkHeaderCellDef",""]]})}}return n})(),EA=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkFooterCellDef",""]]})}}return n})();class mY{}const gY=BL(mY);let Oh=(()=>{class n extends gY{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=ai(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(Bv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,Uv,5),d.wni(s,jv,5),d.wni(s,EA,5)),2&i){let a;d.mGM(a=d.lsd())&&(r.cell=a.first),d.mGM(a=d.lsd())&&(r.headerCell=a.first),d.mGM(a=d.lsd())&&(r.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[d.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),d.Vt3]})}}return n})();class UL{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let jL=(()=>{class n extends UL{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(Oh),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[d.Vt3]})}}return n})(),HL=(()=>{class n extends UL{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(Oh),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[d.Vt3]})}}return n})();class I5{constructor(){this.tasks=[],this.endTasks=[]}}const zL=new d.nKC("_COALESCED_STYLE_SCHEDULER");let S5=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Kt.B}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new I5,this._getScheduleObservable().pipe(oi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new I5;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Vn.H)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(tr(1))}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})(),$L=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof nE?e.headerCell.template:this instanceof iE?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q),d.rXU(d._q3))}}static{this.\u0275dir=d.FsC({type:n,features:[d.OA$]})}}return n})();class _Y extends $L{}const yY=BL(_Y);let nE=(()=>{class n extends yY{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(Bv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[d.Vt3,d.OA$]})}}return n})();class vY extends $L{}const bY=BL(vY);let iE=(()=>{class n extends bY{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(Bv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[d.Vt3,d.OA$]})}}return n})(),CA=(()=>{class n extends $L{constructor(e,i,r){super(e,i),this._table=r}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(Bv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[d.Vt3]})}}return n})(),Ph=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdkCellOutlet",""]]})}}return n})(),GL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Ph],encapsulation:2})}}return n})(),KL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Ph],encapsulation:2})}}return n})(),DA=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}}return n})();const T5=["top","bottom","left","right"];class wY{constructor(t,e,i,r,s=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(S=>S)&&!i.some(S=>S))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,u=this._getCellWidths(s,r),f=this._getStickyStartColumnPositions(u,e),m=this._getStickyEndColumnPositions(u,i),v=e.lastIndexOf(!0),x=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const S="rtl"===this.direction,A=S?"right":"left",O=S?"left":"right";for(const P of t)for(let L=0;L<a;L++){const $=P.children[L];e[L]&&this._addStickyStyle($,A,f[L],L===v),i[L]&&this._addStickyStyle($,O,m[L],L===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:u.slice(0,v+1).map((P,L)=>e[L]?P:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===x?[]:u.slice(x).map((P,L)=>i[L+x]?P:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],u=[],f=[];for(let v=0,x=0;v<r.length;v++){if(!s[v])continue;a[v]=x;const S=r[v];f[v]=this._isNativeHtmlTable?Array.from(S.children):[S];const A=S.getBoundingClientRect().height;x+=A,u[v]=A}const m=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!s[v])continue;const x=a[v],S=v===m;for(const A of f[v])this._addStickyStyle(A,i,x,S)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);T5.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of T5)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const qL=new d.nKC("CDK_SPL");let IA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","rowOutlet",""]]})}}return n})(),SA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","headerRowOutlet",""]]})}}return n})(),TA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","footerRowOutlet",""]]})}}return n})(),AA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.c1b),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","noDataRowOutlet",""]]})}}return n})(),MA=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=ai(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=ai(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,s,a,u,f,m,v,x,S,A){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=f,this._viewRepeater=m,this._coalescedStyleScheduler=v,this._viewportRuler=x,this._stickyPositioningListener=S,this._ngZone=A,this._onDestroy=new Kt.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new d.bkB,this.viewChange=new mi.t({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(oi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),PL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&d.SKi.isInAngularZone()?this._ngZone.onStable.pipe(tr(1),oi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===s&&a.push(i[u]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<a.length;u++){let f=a[u];const m=this._cachedRenderRowsMap.get(f.data);m.has(f.rowDef)?m.get(f.rowDef).push(f):m.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const f=u.shift();return f.dataIndex=i,f}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),RA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=RA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=RA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=RA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],PL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;PL(this.dataSource)?e=this.dataSource.connect(this):jo(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,lt.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(oi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),s=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Ph.mostRecentCellOutlet&&Ph.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new wY(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,lt.of)()).pipe(oi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d._q3),d.rXU(d.gRc),d.rXU(d.aKT),d.kS0("role"),d.rXU(Am,8),d.rXU(he),d.rXU(ki),d.rXU(eE),d.rXU(zL),d.rXU(xA),d.rXU(qL,12),d.rXU(d.SKi,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,DA,5),d.wni(s,Oh,5),d.wni(s,CA,5),d.wni(s,nE,5),d.wni(s,iE,5)),2&i){let a;d.mGM(a=d.lsd())&&(r._noDataRow=a.first),d.mGM(a=d.lsd())&&(r._contentColumnDefs=a),d.mGM(a=d.lsd())&&(r._contentRowDefs=a),d.mGM(a=d.lsd())&&(r._contentHeaderRowDefs=a),d.mGM(a=d.lsd())&&(r._contentFooterRowDefs=a)}},viewQuery:function(i,r){if(1&i&&(d.GBs(IA,7),d.GBs(SA,7),d.GBs(TA,7),d.GBs(AA,7)),2&i){let s;d.mGM(s=d.lsd())&&(r._rowOutlet=s.first),d.mGM(s=d.lsd())&&(r._headerRowOutlet=s.first),d.mGM(s=d.lsd())&&(r._footerRowOutlet=s.first),d.mGM(s=d.lsd())&&(r._noDataRowOutlet=s.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[d.Jv_([{provide:Bv,useExisting:n},{provide:eE,useClass:y5},{provide:zL,useClass:S5},{provide:qL,useValue:null}])],ngContentSelectors:dY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(d.NAR(uY),d.SdG(0),d.SdG(1,1),d.eu8(2,0)(3,1)(4,2)(5,3))},dependencies:[IA,SA,TA,AA],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function RA(n,t){return n.concat(Array.from(t))}let EY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[VL]})}}return n})();const CY=[[["caption"]],[["colgroup"],["col"]]],DY=["caption","colgroup, col"];let XL=(()=>{class n extends MA{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[d.Jv_([{provide:MA,useExisting:n},{provide:Bv,useExisting:n},{provide:zL,useClass:S5},{provide:eE,useClass:y5},{provide:qL,useValue:null}]),d.Vt3],ngContentSelectors:DY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(d.NAR(CY),d.SdG(0),d.SdG(1,1),d.eu8(2,0)(3,1)(4,2)(5,3))},dependencies:[IA,SA,TA,AA],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),kA=(()=>{class n extends Uv{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["","matCellDef",""]],features:[d.Jv_([{provide:Uv,useExisting:n}]),d.Vt3]})}}return n})(),OA=(()=>{class n extends jv{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["","matHeaderCellDef",""]],features:[d.Jv_([{provide:jv,useExisting:n}]),d.Vt3]})}}return n})(),PA=(()=>{class n extends Oh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[d.Jv_([{provide:Oh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),d.Vt3]})}}return n})(),NA=(()=>{class n extends jL{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[d.Vt3]})}}return n})(),FA=(()=>{class n extends HL{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[d.Vt3]})}}return n})(),YL=(()=>{class n extends nE{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[d.Jv_([{provide:nE,useExisting:n}]),d.Vt3]})}}return n})(),QL=(()=>{class n extends CA{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[d.Jv_([{provide:CA,useExisting:n}]),d.Vt3]})}}return n})(),ZL=(()=>{class n extends GL{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[d.Jv_([{provide:GL,useExisting:n}]),d.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Ph],encapsulation:2})}}return n})(),JL=(()=>{class n extends KL{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[d.Jv_([{provide:KL,useExisting:n}]),d.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&d.eu8(0,0)},dependencies:[Ph],encapsulation:2})}}return n})(),OY=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,EY,nr]})}}return n})();class NY extends _5{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new mi.t([]),this._filter=new mi.t(""),this._internalPageChanges=new Kt.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(xC(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,u)=>{let f=this.sortingDataAccessor(a,r),m=this.sortingDataAccessor(u,r);const v=typeof f,x=typeof m;v!==x&&("number"===v&&(f+=""),"number"===x&&(m+=""));let S=0;return null!=f&&null!=m?f>m?S=1:f<m&&(S=-1):null!=f?S=1:null!=m&&(S=-1),S*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new mi.t(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Ap.h)(this._sort.sortChange,this._sort.initialized):(0,lt.of)(null),e=this._paginator?(0,Ap.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,lt.of)(null),r=ys([this._data,this._filter]).pipe((0,ft.T)(([u])=>this._filterData(u))),s=ys([r,t]).pipe((0,ft.T)(([u])=>this._orderData(u))),a=ys([s,e]).pipe((0,ft.T)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class FY extends NY{}function LY(n,t){1&n&&(d.j41(0,"th",10),d.EFF(1," Month "),d.k0s())}function VY(n,t){if(1&n&&(d.j41(0,"td",11),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.SpI(" ",e.monthYear," ")}}function BY(n,t){1&n&&(d.j41(0,"th",10),d.EFF(1," Received "),d.k0s())}function UY(n,t){if(1&n&&(d.j41(0,"td",11),d.EFF(1),d.nI1(2,"currency"),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.SpI(" ",d.bMT(2,1,e.received)," ")}}function jY(n,t){1&n&&(d.j41(0,"th",10),d.EFF(1," Spent "),d.k0s())}function HY(n,t){if(1&n&&(d.j41(0,"td",11),d.EFF(1),d.nI1(2,"currency"),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.SpI(" ",d.bMT(2,1,e.spent)," ")}}function zY(n,t){1&n&&(d.j41(0,"th",10),d.EFF(1," Saved "),d.k0s())}function $Y(n,t){if(1&n&&(d.j41(0,"td",11),d.EFF(1),d.nI1(2,"currency"),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.SpI(" ",d.bMT(2,1,e.saved)," ")}}function GY(n,t){1&n&&d.nrm(0,"tr",12)}function WY(n,t){1&n&&d.nrm(0,"tr",13)}const M5=function(){return["month","received","spent","saved"]};let KY=(()=>{class n{constructor(e){this.firestore=e,this.monthlySummaries=[]}ngOnInit(){this.firestore.collection("expenses").valueChanges().subscribe(e=>{const i={};e.forEach(r=>{const s=new Date(r.date);if(isNaN(s.getTime()))return;const a=`${s.toLocaleString("default",{month:"short"})} ${s.getFullYear()}`,u="income"===r.category.toLowerCase();i[a]||(i[a]={received:0,spent:0}),u?i[a].received+=r.amount:i[a].spent+=r.amount}),this.monthlySummaries=Object.entries(i).map(([r,{received:s,spent:a}])=>({monthYear:r,received:s,spent:a,saved:s-a}))})}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(vA))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-monthly"]],decls:19,vars:5,consts:[[1,"monthly-summary"],["mat-table","",1,"mat-elevation-z2","full-width",3,"dataSource"],["matColumnDef","month"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","received"],["matColumnDef","spent"],["matColumnDef","saved"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(d.j41(0,"div",0)(1,"h2"),d.EFF(2,"Monthly Summary"),d.k0s(),d.j41(3,"mat-card")(4,"table",1),d.qex(5,2),d.DNE(6,LY,2,0,"th",3),d.DNE(7,VY,2,1,"td",4),d.bVm(),d.qex(8,5),d.DNE(9,BY,2,0,"th",3),d.DNE(10,UY,3,3,"td",4),d.bVm(),d.qex(11,6),d.DNE(12,jY,2,0,"th",3),d.DNE(13,HY,3,3,"td",4),d.bVm(),d.qex(14,7),d.DNE(15,zY,2,0,"th",3),d.DNE(16,$Y,3,3,"td",4),d.bVm(),d.DNE(17,GY,1,0,"tr",8),d.DNE(18,WY,1,0,"tr",9),d.k0s()()()),2&i&&(d.R7$(4),d.Y8G("dataSource",r.monthlySummaries),d.R7$(13),d.Y8G("matHeaderRowDef",d.lJ4(3,M5)),d.R7$(1),d.Y8G("matRowDefColumns",d.lJ4(4,M5)))},dependencies:[OL,XL,OA,YL,PA,kA,QL,NA,FA,ZL,JL,Bt],styles:[".monthly-summary-container[_ngcontent-%COMP%]{padding:24px}.monthly-summary-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-radius:8px;overflow:hidden}.monthly-summary-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:700}.monthly-summary-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .monthly-summary-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;text-align:left}.monthly-summary-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;color:#3f51b5}"]})}}return n})();class qY{constructor(t){this._box=t,this._destroyed=new Kt.B,this._resizeSubject=new Kt.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new pi.c(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Zn(e=>e.some(i=>i.target===t)),oL({bufferSize:1,refCount:!0}),oi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let XY=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,d.WQX)(d.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new qY(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class R5{}class YY{}const Nh="*";function e2(n,t){return{type:7,name:n,definitions:t,options:{}}}function t2(n,t=null){return{type:4,styles:t,timings:n}}function k5(n,t=null){return{type:2,steps:n,options:t}}function jg(n){return{type:6,styles:n,offset:null}}function O5(n,t,e){return{type:0,name:n,styles:t,options:e}}function LA(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function QY(n=null){return{type:9,options:n}}function ZY(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class rE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class P5{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let JY=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({providers:[JY]})}}return n})();const tQ=["notch"],nQ=["matFormFieldNotchedOutline",""],iQ=["*"],rQ=["textField"],sQ=["iconPrefixContainer"],oQ=["textPrefixContainer"];function aQ(n,t){1&n&&d.nrm(0,"span",19)}function lQ(n,t){if(1&n&&(d.j41(0,"label",17),d.SdG(1,1),d.DNE(2,aQ,1,0,"span",18),d.k0s()),2&n){const e=d.XpG(2);d.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),d.BMQ("for",e._control.id),d.R7$(2),d.Y8G("ngIf",!e.hideRequiredMarker&&e._control.required)}}function cQ(n,t){if(1&n&&d.DNE(0,lQ,3,5,"label",16),2&n){const e=d.XpG();d.Y8G("ngIf",e._hasFloatingLabel())}}function uQ(n,t){1&n&&d.nrm(0,"div",20)}function dQ(n,t){}function hQ(n,t){if(1&n&&d.DNE(0,dQ,0,0,"ng-template",22),2&n){d.XpG(2);const e=d.sdS(1);d.Y8G("ngTemplateOutlet",e)}}function fQ(n,t){if(1&n&&(d.j41(0,"div",21),d.DNE(1,hQ,1,1,"ng-template",9),d.k0s()),2&n){const e=d.XpG();d.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),d.R7$(1),d.Y8G("ngIf",!e._forceDisplayInfixLabel())}}function pQ(n,t){1&n&&(d.j41(0,"div",23,24),d.SdG(2,2),d.k0s())}function mQ(n,t){1&n&&(d.j41(0,"div",25,26),d.SdG(2,3),d.k0s())}function gQ(n,t){}function _Q(n,t){if(1&n&&d.DNE(0,gQ,0,0,"ng-template",22),2&n){d.XpG();const e=d.sdS(1);d.Y8G("ngTemplateOutlet",e)}}function yQ(n,t){1&n&&(d.j41(0,"div",27),d.SdG(1,4),d.k0s())}function vQ(n,t){1&n&&(d.j41(0,"div",28),d.SdG(1,5),d.k0s())}function bQ(n,t){1&n&&d.nrm(0,"div",29)}function wQ(n,t){if(1&n&&(d.j41(0,"div",30),d.SdG(1,6),d.k0s()),2&n){const e=d.XpG();d.Y8G("@transitionMessages",e._subscriptAnimationState)}}function xQ(n,t){if(1&n&&(d.j41(0,"mat-hint",34),d.EFF(1),d.k0s()),2&n){const e=d.XpG(2);d.Y8G("id",e._hintLabelId),d.R7$(1),d.JRh(e.hintLabel)}}function EQ(n,t){if(1&n&&(d.j41(0,"div",31),d.DNE(1,xQ,2,2,"mat-hint",32),d.SdG(2,7),d.nrm(3,"div",33),d.SdG(4,8),d.k0s()),2&n){const e=d.XpG();d.Y8G("@transitionMessages",e._subscriptAnimationState),d.R7$(1),d.Y8G("ngIf",e.hintLabel)}}const CQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],DQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let r2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,selectors:[["mat-label"]]})}}return n})();const IQ=new d.nKC("MatError");let SQ=0,N5=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+SQ++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(d.Mr5("id",r.id),d.BMQ("align",null),d.AVh("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}}return n})();const TQ=new d.nKC("MatPrefix"),AQ=new d.nKC("MatSuffix"),F5=new d.nKC("FloatingLabelParent");let L5=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.WQX)(XY),this._ngZone=(0,d.WQX)(d.SKi),this._parent=(0,d.WQX)(F5),this._resizeSubscription=new es.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function MQ(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return n})();const V5="mdc-line-ripple--active",VA="mdc-line-ripple--deactivating";let B5=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,a=s.contains(VA);"opacity"===r.propertyName&&a&&s.remove(V5,VA)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(VA),e.add(V5)}deactivate(){this._elementRef.nativeElement.classList.add(VA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(d.SKi))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return n})(),U5=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(d.SKi))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&d.GBs(tQ,5),2&i){let s;d.mGM(s=d.lsd())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&d.AVh("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:nQ,ngContentSelectors:iQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(d.NAR(),d.nrm(0,"div",0),d.j41(1,"div",1,2),d.SdG(3),d.k0s(),d.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const RQ={transitionMessages:e2("transitionMessages",[O5("enter",jg({opacity:1,transform:"translateY(0%)"})),LA("void => enter",[jg({opacity:0,transform:"translateY(-5px)"}),t2("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let s2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n})}}return n})();const o2=new d.nKC("MatFormField"),kQ=new d.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let j5=0,NQ=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ai(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,a,u,f,m){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=a,this._defaults=u,this._animationMode=f,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+j5++,this._hintLabelId="mat-mdc-hint-"+j5++,this._subscriptAnimationState="",this._destroyed=new Kt.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(oi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ap.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(oi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(Am),d.rXU(ki),d.rXU(kQ,8),d.rXU(d.bc$,8),d.rXU(he))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,r2,5),d.wni(s,r2,7),d.wni(s,s2,5),d.wni(s,TQ,5),d.wni(s,AQ,5),d.wni(s,IQ,5),d.wni(s,N5,5)),2&i){let a;d.mGM(a=d.lsd())&&(r._labelChildNonStatic=a.first),d.mGM(a=d.lsd())&&(r._labelChildStatic=a.first),d.mGM(a=d.lsd())&&(r._formFieldControl=a.first),d.mGM(a=d.lsd())&&(r._prefixChildren=a),d.mGM(a=d.lsd())&&(r._suffixChildren=a),d.mGM(a=d.lsd())&&(r._errorChildren=a),d.mGM(a=d.lsd())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(1&i&&(d.GBs(rQ,5),d.GBs(sQ,5),d.GBs(oQ,5),d.GBs(L5,5),d.GBs(U5,5),d.GBs(B5,5)),2&i){let s;d.mGM(s=d.lsd())&&(r._textField=s.first),d.mGM(s=d.lsd())&&(r._iconPrefixContainer=s.first),d.mGM(s=d.lsd())&&(r._textPrefixContainer=s.first),d.mGM(s=d.lsd())&&(r._floatingLabel=s.first),d.mGM(s=d.lsd())&&(r._notchedOutline=s.first),d.mGM(s=d.lsd())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&d.AVh("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d.Jv_([{provide:o2,useExisting:n},{provide:F5,useExisting:n}])],ngContentSelectors:DQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(d.NAR(CQ),d.DNE(0,cQ,1,1,"ng-template",null,0,d.C5r),d.j41(2,"div",1,2),d.bIt("click",function(a){return r._control.onContainerClick(a)}),d.DNE(4,uQ,1,0,"div",3),d.j41(5,"div",4),d.DNE(6,fQ,2,2,"div",5),d.DNE(7,pQ,3,0,"div",6),d.DNE(8,mQ,3,0,"div",7),d.j41(9,"div",8),d.DNE(10,_Q,1,1,"ng-template",9),d.SdG(11),d.k0s(),d.DNE(12,yQ,2,0,"div",10),d.DNE(13,vQ,2,0,"div",11),d.k0s(),d.DNE(14,bQ,1,0,"div",12),d.k0s(),d.j41(15,"div",13),d.DNE(16,wQ,2,1,"div",14),d.DNE(17,EQ,5,2,"div",15),d.k0s()),2&i&&(d.R7$(2),d.AVh("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),d.R7$(2),d.Y8G("ngIf",!r._hasOutline()&&!r._control.disabled),d.R7$(2),d.Y8G("ngIf",r._hasOutline()),d.R7$(1),d.Y8G("ngIf",r._hasIconPrefix),d.R7$(1),d.Y8G("ngIf",r._hasTextPrefix),d.R7$(2),d.Y8G("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),d.R7$(2),d.Y8G("ngIf",r._hasTextSuffix),d.R7$(1),d.Y8G("ngIf",r._hasIconSuffix),d.R7$(1),d.Y8G("ngIf",!r._hasOutline()),d.R7$(1),d.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),d.Y8G("ngSwitch",r._getDisplayedMessages()),d.R7$(1),d.Y8G("ngSwitchCase","error"),d.R7$(1),d.Y8G("ngSwitchCase","hint"))},dependencies:[La,Tl,Ii,Ec,N5,L5,U5,B5],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[RQ.transitionMessages]},changeDetection:0})}}return n})(),BA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,Yr,eQ,nr]})}}return n})();const $5=vm({passive:!0});let FQ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return go.w;const i=Pt(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Kt.B,a="cdk-text-field-autofilled",u=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,$5),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",u,$5)}}),s}stopMonitoring(e){const i=Pt(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(ki),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LQ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})();function G5(...n){const t=(0,fo.ms)(n),{args:e,keys:i}=Vs(n),r=new pi.c(s=>{const{length:a}=e;if(!a)return void s.complete();const u=new Array(a);let f=a,m=a;for(let v=0;v<a;v++){let x=!1;(0,po.Tg)(e[v]).subscribe((0,un._)(s,S=>{x||(x=!0,m--),u[v]=S},()=>f--,void 0,()=>{(!f||!x)&&(m||s.next(i?ga(i,u):u),s.complete())}))}});return t?r.pipe(ma(t)):r}let W5=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n})}}return n})(),Hg=(()=>{class n extends W5{static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,features:[d.Vt3]})}}return n})();const Bu=new d.nKC("NgValueAccessor"),BQ={provide:Bu,useExisting:(0,d.Rfq)(()=>UA),multi:!0},jQ=new d.nKC("CompositionEventMode");let UA=(()=>{class n extends W5{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function UQ(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(jQ,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&d.bIt("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d.Jv_([BQ]),d.Vt3]})}}return n})();function Mp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function q5(n){return null!=n&&"number"==typeof n.length}const qs=new d.nKC("NgValidators"),Rp=new d.nKC("NgAsyncValidators"),HQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class X5{static min(t){return function Y5(n){return t=>{if(Mp(t.value)||Mp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Q5(n){return t=>{if(Mp(t.value)||Mp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Z5(t)}static requiredTrue(t){return function J5(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function e3(n){return Mp(n.value)||HQ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function t3(n){return t=>Mp(t.value)||!q5(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function n3(n){return t=>q5(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function i3(n){if(!n)return jA;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Mp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return c3(t)}static composeAsync(t){return u3(t)}}function Z5(n){return Mp(n.value)?{required:!0}:null}function jA(n){return null}function r3(n){return null!=n}function s3(n){return(0,d.jNT)(n)?(0,Vn.H)(n):n}function o3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function a3(n,t){return t.map(e=>e(n))}function l3(n){return n.map(t=>function zQ(n){return!n.validate}(t)?t:e=>t.validate(e))}function c3(n){if(!n)return null;const t=n.filter(r3);return 0==t.length?null:function(e){return o3(a3(e,t))}}function a2(n){return null!=n?c3(l3(n)):null}function u3(n){if(!n)return null;const t=n.filter(r3);return 0==t.length?null:function(e){return G5(a3(e,t).map(s3)).pipe((0,ft.T)(o3))}}function l2(n){return null!=n?u3(l3(n)):null}function d3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function h3(n){return n._rawValidators}function f3(n){return n._rawAsyncValidators}function c2(n){return n?Array.isArray(n)?n:[n]:[]}function HA(n,t){return Array.isArray(n)?n.includes(t):n===t}function p3(n,t){const e=c2(t);return c2(n).forEach(r=>{HA(e,r)||e.push(r)}),e}function m3(n,t){return c2(t).filter(e=>!HA(n,e))}class g3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=a2(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=l2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Mo extends g3{get formDirective(){return null}get path(){return null}}class Uu extends g3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let y3=(()=>{class n extends _3{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(Uu,2))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.Vt3]})}}return n})(),v3=(()=>{class n extends _3{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(Mo,10))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&d.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.Vt3]})}}return n})();const sE="VALID",$A="INVALID",Hv="PENDING",oE="DISABLED";function h2(n){return(GA(n)?n.validators:n)||null}function f2(n,t){return(GA(t)?t.asyncValidators:n)||null}function GA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class p2{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sE}get invalid(){return this.status===$A}get pending(){return this.status==Hv}get disabled(){return this.status===oE}get enabled(){return this.status!==oE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(p3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(p3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(m3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(m3(t,this._rawAsyncValidators))}hasValidator(t){return HA(this._rawValidators,t)}hasAsyncValidator(t){return HA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Hv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oE,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sE,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sE||this.status===Hv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oE:sE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Hv,this._hasOwnPendingAsyncValidator=!0;const e=s3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?oE:this.errors?$A:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hv)?Hv:this._anyControlsHaveStatus($A)?$A:sE}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){GA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function KQ(n){return Array.isArray(n)?a2(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function qQ(n){return Array.isArray(n)?l2(n):n||null}(this._rawAsyncValidators)}}class m2 extends p2{constructor(t,e,i){super(h2(e),f2(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function x3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new d.wOt(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function w3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new d.wOt(1e3,"");if(!i[e])throw new d.wOt(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const zv=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>WA}),WA="always";function aE(n,t,e=WA){g2(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function QQ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E3(n,t)})}(n,t),function JQ(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ZQ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function YQ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function qA(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),YA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function XA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function g2(n,t){const e=h3(n);null!==t.validator?n.setValidators(d3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=f3(n);null!==t.asyncValidator?n.setAsyncValidators(d3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();XA(t._rawValidators,r),XA(t._rawAsyncValidators,r)}function YA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=h3(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=f3(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return XA(t._rawValidators,i),XA(t._rawAsyncValidators,i),e}function E3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C3(n,t){g2(n,t)}function D3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const rZ={provide:Mo,useExisting:(0,d.Rfq)(()=>$v)},lE=(()=>Promise.resolve())();let $v=(()=>{class n extends Mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new m2({},a2(e),l2(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lE.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),aE(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lE.then(()=>{const i=this._findContainer(e.path),r=new m2({});C3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lE.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){lE.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,D3(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(qs,10),d.rXU(Rp,10),d.rXU(zv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&d.bIt("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([rZ]),d.Vt3]})}}return n})();function I3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function S3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const T3=class extends p2{constructor(t=null,e,i){super(h2(e),f2(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),GA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=S3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){I3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){I3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){S3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},aZ={provide:Uu,useExisting:(0,d.Rfq)(()=>b2)},R3=(()=>Promise.resolve())();let b2=(()=>{class n extends Uu{constructor(e,i,r,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new T3,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function v2(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===UA?e=s:function nZ(n){return Object.getPrototypeOf(n.constructor)===Hg}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function y2(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){R3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,d.L39)(i);R3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function KA(n,t){return[...t.path,n]}(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(Mo,9),d.rXU(qs,10),d.rXU(Rp,10),d.rXU(Bu,10),d.rXU(d.gRc,8),d.rXU(zv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([aZ]),d.Vt3,d.OA$]})}}return n})(),k3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const lZ={provide:Bu,useExisting:(0,d.Rfq)(()=>w2),multi:!0};let w2=(()=>{class n extends Hg{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&d.bIt("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[d.Jv_([lZ]),d.Vt3]})}}return n})(),O3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})();const fZ={provide:Mo,useExisting:(0,d.Rfq)(()=>cE)};let cE=(()=>{class n extends Mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return aE(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){qA(e.control||null,e,!1),function iZ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,D3(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(qA(i||null,e),(n=>n instanceof T3)(r)&&(aE(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);C3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function eZ(n,t){return YA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){g2(this.form,this),this._oldForm&&YA(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(qs,10),d.rXU(Rp,10),d.rXU(zv,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&d.bIt("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([fZ]),d.Vt3,d.OA$]})}}return n})(),zg=(()=>{class n{constructor(){this._validator=jA}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):jA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,features:[d.OA$]})}}return n})();const DZ={provide:qs,useExisting:(0,d.Rfq)(()=>QA),multi:!0};let QA=(()=>{class n extends zg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=e=>Z5}enabled(e){return e}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275dir=d.FsC({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&d.BMQ("required",r._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([DZ]),d.Vt3]})}}return n})(),RZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[O3]})}}return n})(),OZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:zv,useValue:e.callSetDisabledState??WA}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[RZ]})}}return n})();const PZ=new d.nKC("MAT_INPUT_VALUE_ACCESSOR"),NZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let FZ=0;const LZ=Rm(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Kt.B}});let VZ=(()=>{class n extends LZ{get disabled(){return this._disabled}set disabled(e){this._disabled=ai(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(X5.required)??!1}set required(e){this._required=ai(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Da().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ai(e)}constructor(e,i,r,s,a,u,f,m,v,x){super(u,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=x,this._uid="mat-input-"+FZ++,this.focused=!1,this.stateChanges=new Kt.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>Da().has(O)),this._iOSKeyupListener=O=>{const P=O.target;!P.value&&0===P.selectionStart&&0===P.selectionEnd&&(P.setSelectionRange(1,1),P.setSelectionRange(0,0))};const S=this._elementRef.nativeElement,A=S.nodeName.toLowerCase();this._inputValueAccessor=f||S,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===A,this._isTextarea="textarea"===A,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){NZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(ki),d.rXU(Uu,10),d.rXU($v,8),d.rXU(cE,8),d.rXU(zb),d.rXU(PZ,10),d.rXU(FQ),d.rXU(d.SKi),d.rXU(o2,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&d.bIt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(d.Mr5("id",r.id)("disabled",r.disabled)("required",r.required),d.BMQ("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),d.AVh("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d.Jv_([{provide:s2,useExisting:n}]),d.Vt3,d.OA$]})}}return n})(),BZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,BA,BA,LQ,nr]})}}return n})();class I2{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jZ extends I2{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Q3 extends I2{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class HZ extends I2{constructor(t){super(),this.element=t instanceof d.aKT?t.nativeElement:t}}class zZ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jZ?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Q3?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof HZ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $Z extends zZ{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||d.zZn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let GZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({})}}return n})();const Z3=Of();class WZ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ki(-this._previousScrollPosition.left),t.style.top=Ki(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Z3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Z3&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class KZ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Zn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class J3{enable(){}disable(){}attach(){}}function S2(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function eG(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class qZ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();S2(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let XZ=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new J3,this.close=a=>new KZ(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new WZ(this._viewportRuler,this._document),this.reposition=a=>new qZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(lY),d.KVO(xA),d.KVO(d.SKi),d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class tG{constructor(t){if(this.scrollStrategy=new J3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class YZ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nG=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QZ=(()=>{class n extends nG{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he),d.KVO(d.SKi,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZZ=(()=>{class n extends nG{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=du(s)},this._clickListener=s=>{const a=du(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(u))break;const x=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he),d.KVO(ki),d.KVO(d.SKi,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iG=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||U_()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),U_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he),d.KVO(ki))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class JZ{constructor(t,e,i,r,s,a,u,f,m,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new Kt.B,this._attachments=new Kt.B,this._detachments=new Kt.B,this._locationChanges=es.yU.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new Kt.B,this._outsidePointerEvents=new Kt.B,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ki(this._config.width),t.height=Ki(this._config.height),t.minWidth=Ki(this._config.minWidth),t.minHeight=Ki(this._config.minHeight),t.maxWidth=Ki(this._config.maxWidth),t.maxHeight=Ki(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Sm(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(oi((0,Ap.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const rG="cdk-overlay-connected-position-bounding-box",eJ=/([A-Za-z%]+)$/;class tJ{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Kt.B,this._resizeSubscription=es.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(rG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,r,u),m=this._getOverlayPoint(f,e,u),v=this._getOverlayFit(m,e,i,u);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(v,m,i)?s.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:f,position:u,overlayRect:e})}if(s.length){let u=null,f=-1;for(const m of s){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>f&&(f=v,u=m)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$g(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=oG(e);let{x:a,y:u}=t,f=this._getOffset(r,"x"),m=this._getOffset(r,"y");f&&(a+=f),m&&(u+=m);let S=0-u,A=u+s.height-i.height,O=this._subtractOverflows(s.width,0-a,a+s.width-i.width),P=this._subtractOverflows(s.height,S,A),L=O*P;return{visibleArea:L,isCompletelyWithinViewport:s.width*s.height===L,fitsInViewportVertically:P===s.height,fitsInViewportHorizontally:O==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=sG(this._overlayRef.getConfig().minHeight),u=sG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=oG(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let v=0,x=0;return v=r.width<=s.width?m||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?f||-u:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:x},{x:t.x+v,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new YZ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,u,v,x,S;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const A=Math.min(i.bottom-t.y+i.top,t.y),O=this._lastBoundingBoxSize.height;s=2*A,a=t.y-A,s>O&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-O/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)S=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,v=i.right-t.x;else{const A=Math.min(i.right-t.x+i.left,t.x),O=this._lastBoundingBoxSize.width;v=2*A,x=t.x-A,v>O&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-O/2)}return{top:a,left:x,bottom:u,right:S,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Ki(i.height),r.top=Ki(i.top),r.bottom=Ki(i.bottom),r.width=Ki(i.width),r.left=Ki(i.left),r.right=Ki(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ki(s)),a&&(r.maxWidth=Ki(a))}this._lastBoundingBoxSize=i,$g(this._boundingBox.style,r)}_resetBoundingBoxStyles(){$g(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$g(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();$g(i,this._getExactOverlayY(e,t,v)),$g(i,this._getExactOverlayX(e,t,v))}else i.position="static";let u="",f=this._getOffset(e,"x"),m=this._getOffset(e,"y");f&&(u+=`translateX(${f}px) `),m&&(u+=`translateY(${m}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=Ki(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Ki(a.maxWidth):s&&(i.maxWidth="")),$g(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ki(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ki(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:eG(t,i),isOriginOutsideView:S2(t,i),isOverlayClipped:eG(e,i),isOverlayOutsideView:S2(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Sm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof d.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function $g(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function sG(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(eJ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function oG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const aG="cdk-global-overlay-wrapper";class nJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(aG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:u}=i,f=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),v=this._xPosition,x=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let A="",O="",P="";f?P="flex-start":"center"===v?(P="center",S?O=x:A=x):S?"left"===v||"end"===v?(P="flex-end",A=x):("right"===v||"start"===v)&&(P="flex-start",O=x):"left"===v||"start"===v?(P="flex-start",A=x):("right"===v||"end"===v)&&(P="flex-end",O=x),t.position=this._cssPosition,t.marginLeft=f?"0":A,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":O,e.justifyContent=P,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(aG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let iJ=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new nJ}flexibleConnectedTo(e){return new tJ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(xA),d.KVO(he),d.KVO(ki),d.KVO(iG))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rJ=0,ZA=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,S,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=f,this._document=m,this._directionality=v,this._location=x,this._outsideClickDispatcher=S,this._animationsModuleType=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new tG(e);return a.direction=a.direction||this._directionality.value,new JZ(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+rJ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(d.o8S)),new $Z(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(XZ),d.KVO(iG),d.KVO(d.OM3),d.KVO(iJ),d.KVO(QZ),d.KVO(d.zZn),d.KVO(d.SKi),d.KVO(he),d.KVO(Am),d.KVO(Qe),d.KVO(ZZ),d.KVO(d.bc$,8))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const sJ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],lG=new d.nKC("cdk-connected-overlay-scroll-strategy");let T2=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),cG=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ai(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=ai(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=ai(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=ai(e)}get push(){return this._push}set push(e){this._push=ai(e)}constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=es.yU.EMPTY,this._attachSubscription=es.yU.EMPTY,this._detachSubscription=es.yU.EMPTY,this._positionSubscription=es.yU.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new d.bkB,this.positionChange=new d.bkB,this.attach=new d.bkB,this.detach=new d.bkB,this.overlayKeydown=new d.bkB,this.overlayOutsideClick=new d.bkB,this._templatePortal=new Q3(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=sJ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!X_(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new tG({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof T2?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function UZ(n,t=!1){return(0,Mi.N)((e,i)=>{let r=0;e.subscribe((0,un._)(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(ZA),d.rXU(d.C4Q),d.rXU(d.c1b),d.rXU(lG),d.rXU(Am,8))}}static{this.\u0275dir=d.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[d.OA$]})}}return n})();const aJ={provide:lG,deps:[ZA],useFactory:function oJ(n){return()=>n.scrollStrategies.reposition()}};let lJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({providers:[ZA,aJ],imports:[Vf,GZ,VL,VL]})}}return n})();const cJ=["trigger"],uJ=["panel"];function dJ(n,t){if(1&n&&(d.j41(0,"span",10),d.EFF(1),d.k0s()),2&n){const e=d.XpG();d.R7$(1),d.JRh(e.placeholder)}}function hJ(n,t){if(1&n&&(d.j41(0,"span",14),d.EFF(1),d.k0s()),2&n){const e=d.XpG(2);d.R7$(1),d.JRh(e.triggerValue)}}function fJ(n,t){1&n&&d.SdG(0,0,["*ngSwitchCase","true"])}function pJ(n,t){if(1&n&&(d.j41(0,"span",11),d.DNE(1,hJ,2,1,"span",12),d.DNE(2,fJ,1,0,"ng-content",13),d.k0s()),2&n){const e=d.XpG();d.Y8G("ngSwitch",!!e.customTrigger),d.R7$(2),d.Y8G("ngSwitchCase",!0)}}function mJ(n,t){if(1&n){const e=d.RV6();d.qSk(),d.joV(),d.j41(0,"div",15,16),d.bIt("@transformPanel.done",function(r){d.eBV(e);const s=d.XpG();return d.Njj(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){d.eBV(e);const s=d.XpG();return d.Njj(s._handleKeydown(r))}),d.SdG(2,1),d.k0s()}if(2&n){const e=d.XpG();d.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),d.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),d.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const gJ=[[["mat-select-trigger"]],"*"],_J=["mat-select-trigger","*"],yJ={transformPanelWrap:e2("transformPanelWrap",[LA("* => void",ZY("@transformPanel",[QY()],{optional:!0}))]),transformPanel:e2("transformPanel",[O5("void",jg({opacity:0,transform:"scale(1, 0.8)"})),LA("void => showing",t2("120ms cubic-bezier(0, 0, 0.2, 1)",jg({opacity:1,transform:"scale(1, 1)"}))),LA("* => void",t2("100ms linear",jg({opacity:0})))])};let uG=0;const dG=new d.nKC("mat-select-scroll-strategy"),bJ=new d.nKC("MAT_SELECT_CONFIG"),wJ={provide:dG,deps:[ZA],useFactory:function vJ(n){return()=>n.scrollStrategies.reposition()}},xJ=new d.nKC("MatSelectTrigger");class EJ{constructor(t,e){this.source=t,this.value=e}}const CJ=oy(YR(UC(Rm(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Kt.B}}))));let DJ=(()=>{class n extends CJ{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(X5.required)??!1}set required(e){this._required=ai(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=ai(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=ai(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Pb(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,a,u,f,m,v,x,S,A,O,P){super(a,s,f,m,x),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=v,this._liveAnnouncer=O,this._defaultOptions=P,this._panelOpen=!1,this._compareWith=(L,$)=>L===$,this._uid="mat-select-"+uG++,this._triggerAriaLabelledBy=null,this._destroy=new Kt.B,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+uG++,this._panelDoneAnimatingStream=new Kt.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Hl(()=>{const L=this.options;return L?L.changes.pipe(vs(L),(0,jn.n)(()=>(0,Ap.h)(...L.map($=>$.onSelectionChange)))):this._ngZone.onStable.pipe(tr(1),(0,jn.n)(()=>this.optionSelectionChanges))}),this.openedChange=new d.bkB,this._openedStream=this.openedChange.pipe(Zn(L=>L),(0,ft.T)(()=>{})),this._closedStream=this.openedChange.pipe(Zn(L=>!L),(0,ft.T)(()=>{})),this.selectionChange=new d.bkB,this.valueChange=new d.bkB,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=P?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=P.typeaheadDebounceInterval),this._scrollStrategyFactory=A,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(S)||0,this.id=this.id}ngOnInit(){this._selectionModel=new BX(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Nf.F)(),oi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(oi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(vs(null),oi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&Z_(this._trackedModal,"aria-owns",i),function Fb(n,t,e){const i=Lb(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(Z_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!X_(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const f=this.selected;f&&u!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||X_(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(u?f.select():f.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(tr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new OR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ap.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(oi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ap.h)(...this.options.map(i=>i._stateChanges)).pipe(oi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(xA),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(zb),d.rXU(d.aKT),d.rXU(Am,8),d.rXU($v,8),d.rXU(cE,8),d.rXU(o2,8),d.rXU(Uu,10),d.kS0("tabindex"),d.rXU(dG),d.rXU(kC),d.rXU(bJ,8))}}static{this.\u0275dir=d.FsC({type:n,viewQuery:function(i,r){if(1&i&&(d.GBs(cJ,5),d.GBs(uJ,5),d.GBs(cG,5)),2&i){let s;d.mGM(s=d.lsd())&&(r.trigger=s.first),d.mGM(s=d.lsd())&&(r.panel=s.first),d.mGM(s=d.lsd())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[d.Vt3,d.OA$]})}}return n})(),IJ=(()=>{class n extends DJ{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(oi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function GC(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),a=i._getHostElement();r.scrollTop=0===e&&1===s?0:function WC(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new EJ(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof T2?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=ai(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(){let e;return function(r){return(e||(e=d.xGo(n)))(r||n)}}()}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(d.wni(s,xJ,5),d.wni(s,Kb,5),d.wni(s,Wb,5)),2&i){let a;d.mGM(a=d.lsd())&&(r.customTrigger=a.first),d.mGM(a=d.lsd())&&(r.options=a),d.mGM(a=d.lsd())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&d.bIt("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(d.BMQ("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),d.AVh("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[d.Jv_([{provide:s2,useExisting:n},{provide:nh,useExisting:n}]),d.Vt3],ngContentSelectors:_J,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(d.NAR(gJ),d.j41(0,"div",0,1),d.bIt("click",function(){return r.toggle()}),d.j41(3,"div",2),d.DNE(4,dJ,2,1,"span",3),d.DNE(5,pJ,3,2,"span",4),d.k0s(),d.j41(6,"div",5)(7,"div",6),d.qSk(),d.j41(8,"svg",7),d.nrm(9,"path",8),d.k0s()()()(),d.DNE(10,mJ,3,9,"ng-template",9),d.bIt("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=d.sdS(1);d.R7$(3),d.Y8G("ngSwitch",r.empty),d.BMQ("id",r._valueId),d.R7$(1),d.Y8G("ngSwitchCase",!0),d.R7$(1),d.Y8G("ngSwitchCase",!1),d.R7$(5),d.Y8G("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Il,Ii,Ec,Cc,cG,T2],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[yJ.transformPanel]},changeDetection:0})}}return n})(),SJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({providers:[wJ],imports:[Yr,lJ,Fm,nr,LL,BA,Fm,nr]})}}return n})();class A2{}class Fh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class TJ{encodeKey(t){return hG(t)}encodeValue(t){return hG(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const MJ=/%(\d[a-f0-9])/gi,RJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hG(n){return encodeURIComponent(n).replace(MJ,(t,e)=>RJ[e]??t)}function JA(n){return`${n}`}class kp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new TJ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function AJ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(a)||[];f.push(u),e.set(a,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(JA):[JA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new kp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(JA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(JA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class kJ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function fG(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pG(n){return typeof Blob<"u"&&n instanceof Blob}function mG(n){return typeof FormData<"u"&&n instanceof FormData}class uE{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function OJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Fh),this.context||(this.context=new kJ),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new kp,this.urlWithParams=e}serializeBody(){return null===this.body?null:fG(this.body)||pG(this.body)||mG(this.body)||function PJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mG(this.body)?null:pG(this.body)?this.body.type||null:fG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((x,S)=>x.set(S,t.setHeaders[S]),f)),t.setParams&&(m=Object.keys(t.setParams).reduce((x,S)=>x.set(S,t.setParams[S]),m)),new uE(e,i,s,{params:m,headers:f,context:v,reportProgress:u,responseType:r,withCredentials:a})}}var R2=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(R2||{});class k2{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class dE extends k2{constructor(t={}){super(t),this.type=R2.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new dE({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function O2(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let P2=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof uE)s=e;else{let f,m;f=r.headers instanceof Fh?r.headers:new Fh(r.headers),r.params&&(m=r.params instanceof kp?r.params:new kp({fromObject:r.params})),s=new uE(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=(0,lt.of)(s).pipe(Gi(f=>this.handler.handle(f)));if(e instanceof uE||"events"===r.observe)return a;const u=a.pipe(Zn(f=>f instanceof dE));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,ft.T)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return u.pipe((0,ft.T)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return u.pipe((0,ft.T)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return u.pipe((0,ft.T)(f=>f.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new kp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,O2(r,i))}post(e,i,r={}){return this.request("POST",e,O2(r,i))}put(e,i,r={}){return this.request("PUT",e,O2(r,i))}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(A2))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();const eee=["*"];let nM;function hE(n){return function tee(){if(void 0===nM&&(nM=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nM=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return nM}()?.createHTML(n)||n}function DG(n){return Error(`Unable to find icon with the name "${n}"`)}function IG(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function SG(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Wg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let iM=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Wg(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(d.WPN.HTML,r);if(!a)throw SG(r);const u=hE(a);return this._addSvgIconConfig(e,i,new Wg("",u,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Wg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(d.WPN.HTML,i);if(!s)throw SG(i);const a=hE(s);return this._addSvgIconSetConfig(e,new Wg("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(d.WPN.RESOURCE_URL,e);if(!i)throw IG(e);const r=this._cachedIconsByUrl.get(i);return r?(0,lt.of)(rM(r)):this._loadSvgIconFromConfig(new Wg(e,null)).pipe((0,Hn.M)(s=>this._cachedIconsByUrl.set(i,s)),(0,ft.T)(s=>rM(s)))}getNamedSvgIcon(e,i=""){const r=TG(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):mo(DG(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,lt.of)(rM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ft.T)(i=>rM(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,lt.of)(r):G5(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ur(u=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(d.WPN.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(m)),(0,lt.of)(null)})))).pipe((0,ft.T)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw DG(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(a,e,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Hn.M)(i=>e.svgText=i),(0,ft.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,lt.of)(null):this._fetchIcon(e).pipe((0,Hn.M)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(hE("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(hE("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:u}=r[s];"id"!==a&&i.setAttribute(a,u)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function nee(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(d.WPN.RESOURCE_URL,i);if(!a)throw IG(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const f=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,ft.T)(m=>hE(m)),Go(()=>this._inProgressUrlFetches.delete(a)),(0,R4.u)());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(TG(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return ree(s)?new Wg(s.url,null,s.options):new Wg(s,null)}}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(P2,8),d.KVO(Uo),d.KVO(he,8),d.KVO(d.zcH))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rM(n){return n.cloneNode(!0)}function TG(n,t){return n+":"+t}function ree(n){return!(!n.url||!n.options)}const see=sy(class{constructor(n){this._elementRef=n}}),oee=new d.nKC("MAT_ICON_DEFAULT_OPTIONS"),aee=new d.nKC("mat-icon-location",{providedIn:"root",factory:function lee(){const n=(0,d.WQX)(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),AG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cee=AG.map(n=>`[${n}]`).join(", "),uee=/^url\(['"]?#(.*?)['"]?\)$/;let dee=(()=>{class n extends see{get inline(){return this._inline}set inline(e){this._inline=ai(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,a,u){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=es.yU.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(cee),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)AG.forEach(a=>{const u=i[s],f=u.getAttribute(a),m=f?f.match(uee):null;if(m){let v=r.get(u);v||(v=[],r.set(u,v)),v.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(tr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(iM),d.kS0("aria-hidden"),d.rXU(aee),d.rXU(d.zcH),d.rXU(oee,8))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(d.BMQ("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.AVh("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.Vt3],ngContentSelectors:eee,decls:1,vars:0,template:function(i,r){1&i&&(d.NAR(),d.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),hee=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,nr]})}}return n})();function fee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Date"),d.k0s())}function pee(n,t){if(1&n&&(d.j41(0,"td",34),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.JRh(e.date)}}function mee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Amount"),d.k0s())}function gee(n,t){if(1&n&&(d.j41(0,"td",34),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.SpI("\u20b9",e.amount,"")}}function _ee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Category"),d.k0s())}function yee(n,t){if(1&n&&(d.j41(0,"td",34),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.JRh(e.category)}}function vee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Description"),d.k0s())}function bee(n,t){if(1&n&&(d.j41(0,"td",34),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.JRh(e.description)}}function wee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Method"),d.k0s())}function xee(n,t){if(1&n&&(d.j41(0,"td",34),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.JRh(e.method)}}function Eee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Location"),d.k0s())}function Cee(n,t){if(1&n&&(d.j41(0,"td",34),d.EFF(1),d.k0s()),2&n){const e=t.$implicit;d.R7$(1),d.JRh(e.location)}}function Dee(n,t){1&n&&(d.j41(0,"th",33),d.EFF(1,"Actions"),d.k0s())}function Iee(n,t){if(1&n){const e=d.RV6();d.j41(0,"td",34)(1,"button",35),d.bIt("click",function(){const s=d.eBV(e).$implicit,a=d.XpG();return d.Njj(a.deleteExpense(s.id))}),d.j41(2,"mat-icon"),d.EFF(3,"delete"),d.k0s()()()}}function See(n,t){1&n&&d.nrm(0,"tr",36)}function Tee(n,t){1&n&&d.nrm(0,"tr",37)}const Aee=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"about",component:gk},{path:"home",component:VX},{path:"monthly",component:KY},{path:"expenses",component:(()=>{class n{constructor(e){this.firestore=e,this.displayedColumns=["date","amount","category","description","method","location","actions"],this.expenseList=[],this.dataSource=new FY([]),this.newExpense={date:"",amount:0,category:"",description:"",method:"",location:""},this.loadExpenses()}loadExpenses(){this.firestore.collection("expenses").valueChanges({idField:"id"}).subscribe(e=>{this.expenseList=e,this.dataSource.data=this.expenseList})}applyFilter(e){const i=e.target.value.trim().toLowerCase();this.dataSource.filter=i}addExpense(){var e=this;return(0,Te.A)(function*(){const{date:i,amount:r,category:s,description:a,method:u,location:f}=e.newExpense;i&&r&&s&&a&&u&&f?(yield e.firestore.collection("expenses").add({date:i,amount:r,category:s,description:a,method:u,location:f}),e.newExpense={date:"",amount:0,category:"",description:"",method:"",location:""}):alert("All fields are required.")})()}deleteExpense(e){this.firestore.doc(`expenses/${e}`).delete()}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(vA))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-expenses"]],decls:75,vars:9,consts:[[1,"expenses-container"],[1,"expense-form",3,"ngSubmit"],["expenseForm","ngForm"],["appearance","outline"],["matInput","","type","date","name","date","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","name","amount","required","",3,"ngModel","ngModelChange"],["name","category","required","",3,"ngModel","ngModelChange"],["value","Food"],["value","Groceries"],["value","Entertainment"],["value","Utilities"],["value","income"],["matInput","","name","description","required","",3,"ngModel","ngModelChange"],["name","method","required","",3,"ngModel","ngModelChange"],["value","Cash"],["value","UPI"],["value","Credit Card"],["matInput","","name","location","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],["appearance","outline",2,"width","300px","margin-bottom","20px"],["matInput","","placeholder","Enter text to filter...",3,"keyup"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","category"],["matColumnDef","description"],["matColumnDef","method"],["matColumnDef","location"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(d.j41(0,"div",0)(1,"h2"),d.EFF(2,"Add / Remove Expenses"),d.k0s(),d.j41(3,"form",1,2),d.bIt("ngSubmit",function(){return r.addExpense()}),d.j41(5,"mat-form-field",3)(6,"mat-label"),d.EFF(7,"Date"),d.k0s(),d.j41(8,"input",4),d.bIt("ngModelChange",function(a){return r.newExpense.date=a}),d.k0s()(),d.j41(9,"mat-form-field",3)(10,"mat-label"),d.EFF(11,"Amount"),d.k0s(),d.j41(12,"input",5),d.bIt("ngModelChange",function(a){return r.newExpense.amount=a}),d.k0s()(),d.j41(13,"mat-form-field",3)(14,"mat-label"),d.EFF(15,"Category"),d.k0s(),d.j41(16,"mat-select",6),d.bIt("ngModelChange",function(a){return r.newExpense.category=a}),d.j41(17,"mat-option",7),d.EFF(18,"Food"),d.k0s(),d.j41(19,"mat-option",8),d.EFF(20,"Groceries"),d.k0s(),d.j41(21,"mat-option",9),d.EFF(22,"Entertainment"),d.k0s(),d.j41(23,"mat-option",10),d.EFF(24,"Utilities"),d.k0s(),d.j41(25,"mat-option",11),d.EFF(26,"Income"),d.k0s()()(),d.j41(27,"mat-form-field",3)(28,"mat-label"),d.EFF(29,"Description"),d.k0s(),d.j41(30,"input",12),d.bIt("ngModelChange",function(a){return r.newExpense.description=a}),d.k0s()(),d.j41(31,"mat-form-field",3)(32,"mat-label"),d.EFF(33,"Payment Method"),d.k0s(),d.j41(34,"mat-select",13),d.bIt("ngModelChange",function(a){return r.newExpense.method=a}),d.j41(35,"mat-option",14),d.EFF(36,"Cash"),d.k0s(),d.j41(37,"mat-option",15),d.EFF(38,"UPI"),d.k0s(),d.j41(39,"mat-option",16),d.EFF(40,"Credit Card"),d.k0s()()(),d.j41(41,"mat-form-field",3)(42,"mat-label"),d.EFF(43,"Location"),d.k0s(),d.j41(44,"input",17),d.bIt("ngModelChange",function(a){return r.newExpense.location=a}),d.k0s()(),d.j41(45,"button",18),d.EFF(46,"Add Expense"),d.k0s()(),d.j41(47,"mat-form-field",19)(48,"mat-label"),d.EFF(49,"Search Transactions"),d.k0s(),d.j41(50,"input",20),d.bIt("keyup",function(a){return r.applyFilter(a)}),d.k0s()(),d.j41(51,"table",21),d.qex(52,22),d.DNE(53,fee,2,0,"th",23),d.DNE(54,pee,2,1,"td",24),d.bVm(),d.qex(55,25),d.DNE(56,mee,2,0,"th",23),d.DNE(57,gee,2,1,"td",24),d.bVm(),d.qex(58,26),d.DNE(59,_ee,2,0,"th",23),d.DNE(60,yee,2,1,"td",24),d.bVm(),d.qex(61,27),d.DNE(62,vee,2,0,"th",23),d.DNE(63,bee,2,1,"td",24),d.bVm(),d.qex(64,28),d.DNE(65,wee,2,0,"th",23),d.DNE(66,xee,2,1,"td",24),d.bVm(),d.qex(67,29),d.DNE(68,Eee,2,0,"th",23),d.DNE(69,Cee,2,1,"td",24),d.bVm(),d.qex(70,30),d.DNE(71,Dee,2,0,"th",23),d.DNE(72,Iee,4,0,"td",24),d.bVm(),d.DNE(73,See,1,0,"tr",31),d.DNE(74,Tee,1,0,"tr",32),d.k0s()()),2&i&&(d.R7$(8),d.Y8G("ngModel",r.newExpense.date),d.R7$(4),d.Y8G("ngModel",r.newExpense.amount),d.R7$(4),d.Y8G("ngModel",r.newExpense.category),d.R7$(14),d.Y8G("ngModel",r.newExpense.description),d.R7$(4),d.Y8G("ngModel",r.newExpense.method),d.R7$(10),d.Y8G("ngModel",r.newExpense.location),d.R7$(7),d.Y8G("dataSource",r.dataSource),d.R7$(22),d.Y8G("matHeaderRowDef",r.displayedColumns),d.R7$(1),d.Y8G("matRowDefColumns",r.displayedColumns))},dependencies:[Vm,nD,NQ,r2,VZ,XL,OA,YL,PA,kA,QL,NA,FA,ZL,JL,IJ,Kb,dee,k3,UA,w2,y3,v3,QA,b2,$v],styles:[".expenses-container[_ngcontent-%COMP%]{padding:24px}.expenses-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;color:#3f51b5}.expenses-container[_ngcontent-%COMP%]   .expense-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:24px}.expenses-container[_ngcontent-%COMP%]   .expense-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:200px}.expenses-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden}.expenses-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:700}.expenses-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .expenses-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px}"]})}}return n})()}];let Mee=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[L_.forRoot(Aee),L_]})}}return n})();const Ree=["*",[["mat-toolbar-row"]]],kee=["*","mat-toolbar-row"],Oee=sy(class{constructor(n){this._elementRef=n}});let Pee=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=d.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return n})(),Nee=(()=>{class n extends Oee{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(ki),d.rXU(he))}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&d.wni(s,Pee,5),2&i){let a;d.mGM(a=d.lsd())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&d.AVh("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.Vt3],ngContentSelectors:kee,decls:2,vars:0,template:function(i,r){1&i&&(d.NAR(Ree),d.SdG(0),d.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),Fee=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({imports:[nr,nr]})}}return n})(),Lee=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-navbar"]],decls:12,vars:0,consts:[["color","primary"],[1,"logo"],[1,"spacer"],["mat-button","","routerLink","/about"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/monthly"],["mat-button","","routerLink","/expenses"]],template:function(i,r){1&i&&(d.j41(0,"mat-toolbar",0)(1,"span",1),d.EFF(2,"\u{1f4b0} Expense Tracker"),d.k0s(),d.nrm(3,"span",2),d.j41(4,"a",3),d.EFF(5,"About"),d.k0s(),d.j41(6,"a",4),d.EFF(7,"Home"),d.k0s(),d.j41(8,"a",5),d.EFF(9,"Monthly"),d.k0s(),d.j41(10,"a",6),d.EFF(11,"Add/Remove"),d.k0s()())},dependencies:[O_,Nee,qB],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:12px}"]})}}return n})(),Vee=(()=>{class n{constructor(){this.title="expense-tracker"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=d.VBU({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){1&i&&d.nrm(0,"app-navbar")(1,"router-outlet")},dependencies:[Cf,Lee]})}}return n})();function MG(n){return new d.wOt(3e3,!1)}function Pp(n){switch(n.length){case 0:return new rE;case 1:return n[0];default:return new P5(n)}}function RG(n,t,e=new Map,i=new Map){const r=[],s=[];let a=-1,u=null;if(t.forEach(f=>{const m=f.get("offset"),v=m==a,x=v&&u||new Map;f.forEach((S,A)=>{let O=A,P=S;if("offset"!==A)switch(O=n.normalizePropertyName(O,r),P){case"!":P=e.get(A);break;case Nh:P=i.get(A);break;default:P=n.normalizeStyleValue(A,O,P,r)}x.set(O,P)}),v||s.push(x),u=x,a=m}),r.length)throw function ate(n){return new d.wOt(3502,!1)}();return s}function F2(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&L2(e,"start",n)));break;case"done":n.onDone(()=>i(e&&L2(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&L2(e,"destroy",n)))}}function L2(n,t,e){const s=V2(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function V2(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Pa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function kG(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const vte=(()=>typeof document>"u"?null:document.documentElement)();function B2(n){const t=n.parentNode||n.host||null;return t===vte?null:t}let Kg=null,OG=!1;function PG(n,t){for(;t;){if(t===n)return!0;t=B2(t)}return!1}function NG(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let FG=(()=>{class n{validateStyleProperty(e){return function wte(n){Kg||(Kg=function xte(){return typeof document<"u"?document.body:null}()||{},OG=!!Kg.style&&"WebkitAppearance"in Kg.style);let t=!0;return Kg.style&&!function bte(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Kg.style,!t&&OG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Kg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return PG(e,i)}getParentElement(e){return B2(e)}query(e,i,r){return NG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,u=[],f){return new rE(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})(),U2=(()=>{class n{static{this.NOOP=new FG}}return n})();const Ete=1e3,j2="ng-enter",sM="ng-leave",oM="ng-trigger",aM=".ng-trigger",VG="ng-animating",H2=".ng-animating";function Lh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:z2(parseFloat(t[1]),t[2])}function z2(n,t){return"s"===t?n*Ete:n}function lM(n,t,e){return n.hasOwnProperty("duration")?n:function Dte(n,t,e){let r,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(MG()),{duration:0,delay:0,easing:""};r=z2(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(s=z2(parseFloat(f),u[4]));const m=u[5];m&&(a=m)}else r=n;if(!e){let u=!1,f=t.length;r<0&&(t.push(function Bee(){return new d.wOt(3100,!1)}()),u=!0),s<0&&(t.push(function Uee(){return new d.wOt(3101,!1)}()),u=!0),u&&t.splice(f,0,MG())}return{duration:r,delay:s,easing:a}}(n,t,e)}function fE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function BG(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Np(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function ju(n,t,e){t.forEach((i,r)=>{const s=G2(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function qg(n,t){t.forEach((e,i)=>{const r=G2(i);n.style[r]=""})}function pE(n){return Array.isArray(n)?1==n.length?n[0]:k5(n):n}const $2=new RegExp("{{\\s*(.+?)\\s*}}","g");function jG(n){let t=[];if("string"==typeof n){let e;for(;e=$2.exec(n);)t.push(e[1]);$2.lastIndex=0}return t}function mE(n,t,e){const i=n.toString(),r=i.replace($2,(s,a)=>{let u=t[a];return null==u&&(e.push(function Hee(n){return new d.wOt(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function cM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Tte=/-+([a-z0-9])/g;function G2(n){return n.replace(Tte,(...t)=>t[1].toUpperCase())}function Na(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function zee(n){return new d.wOt(3004,!1)}()}}function HG(n,t){return window.getComputedStyle(n)[t]}const uM="*";function Rte(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function kte(n,t,e){if(":"==n[0]){const f=function Ote(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function ite(n){return new d.wOt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function nte(n){return new d.wOt(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(zG(r,a));"<"==s[0]&&!(r==uM&&a==uM)&&t.push(zG(a,r))}(i,e,t)):e.push(n),e}const dM=new Set(["true","1"]),hM=new Set(["false","0"]);function zG(n,t){const e=dM.has(n)||hM.has(n),i=dM.has(t)||hM.has(t);return(r,s)=>{let a=n==uM||n==r,u=t==uM||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?dM.has(n):hM.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?dM.has(t):hM.has(t)),a&&u}}const Pte=new RegExp("s*:selfs*,?","g");function W2(n,t,e,i){return new Nte(n).build(t,e,i)}class Nte{constructor(t){this._driver=t}build(t,e,i){const r=new Vte(e);return this._resetContextStyleTimingState(r),Na(this,pE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Gee(){return new d.wOt(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,m=f.name;m.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,s.push(this.visitState(f,e))}),f.name=m}else if(1==u.type){const f=this.visitTransition(u,e);i+=f.queryCount,r+=f.depCount,a.push(f)}else e.errors.push(function Wee(){return new d.wOt(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(f=>{jG(f).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}),s.size&&(cM(s.values()),e.errors.push(function Kee(n,t){return new d.wOt(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Na(this,pE(t.animation),e);return{type:1,matchers:Rte(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Xg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Na(this,i,e)),options:Xg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const u=Na(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:Xg(t.options)}}visitAnimate(t,e){const i=function Ute(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return K2(lM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=K2(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=lM(e,t);return K2(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:jg({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,u=!1;if(!a){u=!0;const m={};i.easing&&(m.easing=i.easing),a=jg(m)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Nh?i.push(u):e.errors.push(new d.wOt(3002,!1)):i.push(BG(u));let s=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!s))for(let f of u.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(f);let x=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function Xee(n,t,e,i,r){return new d.wOt(3010,!1)}()),x=!1),s=v.startTime),x&&m.set(f,{startTime:s,endTime:r}),e.options&&function Ste(n,t,e){const i=t.params||{},r=jG(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function jee(n){return new d.wOt(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Yee(){return new d.wOt(3011,!1)}()),i;let s=0;const a=[];let u=!1,f=!1,m=0;const v=t.steps.map($=>{const X=this._makeStyleAst($,e);let ee=null!=X.offset?X.offset:function Bte(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(X.styles),le=0;return null!=ee&&(s++,le=X.offset=ee),f=f||le<0||le>1,u=u||le<m,m=le,a.push(le),X});f&&e.errors.push(function Qee(){return new d.wOt(3012,!1)}()),u&&e.errors.push(function Zee(){return new d.wOt(3200,!1)}());const x=t.steps.length;let S=0;s>0&&s<x?e.errors.push(function Jee(){return new d.wOt(3202,!1)}()):0==s&&(S=1/(x-1));const A=x-1,O=e.currentTime,P=e.currentAnimateTimings,L=P.duration;return v.forEach(($,X)=>{const ee=S>0?X==A?1:S*X:a[X],le=ee*L;e.currentTime=O+P.delay+le,P.duration=le,this._validateStyleAst($,e),$.offset=ee,i.styles.push($)}),i}visitReference(t,e){return{type:8,animation:Na(this,pE(t.animation),e),options:Xg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Xg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Xg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Fte(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Pte,"")),n=n.replace(/@\*/g,aM).replace(/@\w+/g,e=>aM+"-"+e.slice(1)).replace(/:animating/g,H2),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Pa(e.collectedStyles,e.currentQuerySelector,new Map);const u=Na(this,pE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:Xg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ete(){return new d.wOt(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:lM(t.timings,e.errors,!0);return{type:12,animation:Na(this,pE(t.animation),e),timings:i,options:null}}}class Vte{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xg(n){return n?(n=fE(n)).params&&(n.params=function Lte(n){return n?fE(n):null}(n.params)):n={},n}function K2(n,t,e){return{duration:n,delay:t,easing:e}}function q2(n,t,e,i,r,s,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:u}}class fM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zte=new RegExp(":enter","g"),Gte=new RegExp(":leave","g");function X2(n,t,e,i,r,s=new Map,a=new Map,u,f,m=[]){return(new Wte).buildKeyframes(n,t,e,i,r,s,a,u,f,m)}class Wte{buildKeyframes(t,e,i,r,s,a,u,f,m,v=[]){m=m||new fM;const x=new Y2(t,e,m,r,s,v,[]);x.options=f;const S=f.delay?Lh(f.delay):0;x.currentTimeline.delayNextStep(S),x.currentTimeline.setStyles([a],null,x.errors,f),Na(this,i,x);const A=x.timelines.filter(O=>O.containsAnimation());if(A.length&&u.size){let O;for(let P=A.length-1;P>=0;P--){const L=A[P];if(L.element===e){O=L;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([u],null,x.errors,f)}return A.length?A.map(O=>O.buildKeyframes()):[q2(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Lh(mE(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Lh(i.duration):null,u=null!=i.delay?Lh(i.delay):null;return 0!==a&&t.forEach(f=>{const m=e.appendInstructionToTimeline(f,a,u);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Na(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pM);const a=Lh(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Na(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Lh(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),Na(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return lM(e.params?mE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*s),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Lh(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pM);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((m,v)=>{e.currentQueryIndex=v;const x=e.createSubContext(t.options,m);s&&x.delayNextStep(s),m===e.element&&(f=x.currentTimeline),Na(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),u=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=u-f;break;case"full":f=i.currentStaggerTime}const v=e.currentTimeline;f&&v.delayNextStep(f);const x=v.currentTime;Na(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const pM={};class Y2{constructor(t,e,i,r,s,a,u,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new mM(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Lh(i.duration)),null!=i.delay&&(r.delay=Lh(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=mE(s[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Y2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=pM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Kte(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(zte,"."+this._enterClassName)).replace(Gte,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),u.push(...m)}return!s&&0==u.length&&a.push(function tte(n){return new d.wOt(3014,!1)}()),u}}class mM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new mM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Nh),this._currentKeyframe.set(e,Nh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function qte(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Nh)}else Np(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,f]of a){const m=mE(f,s,i);this._pendingStyles.set(u,m),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Nh),this._updateStyle(u,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const m=Np(u,new Map,this._backFill);m.forEach((v,x)=>{"!"===v?t.add(x):v===Nh&&e.add(x)}),i||m.set("offset",f/this.duration),r.push(m)});const s=t.size?cM(t.values()):[],a=e.size?cM(e.values()):[];if(i){const u=r[0],f=new Map(u);u.set("offset",0),f.set("offset",1),r=[u,f]}return q2(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class Kte extends mM{constructor(t,e,i,r,s,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,u=e/a,f=Np(t[0]);f.set("offset",0),s.push(f);const m=Np(t[0]);m.set("offset",WG(u)),s.push(m);const v=t.length-1;for(let x=1;x<=v;x++){let S=Np(t[x]);const A=S.get("offset");S.set("offset",WG((e+A*i)/a)),s.push(S)}i=a,e=0,r="",t=s}return q2(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function WG(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Q2{}const Xte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yte extends Q2{normalizePropertyName(t,e){return G2(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(Xte.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function $ee(n,t){return new d.wOt(3005,!1)}())}return a+s}}function KG(n,t,e,i,r,s,a,u,f,m,v,x,S){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:u,queriedElements:f,preStyleProps:m,postStyleProps:v,totalTime:x,errors:S}}const Z2={};class qG{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Qte(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,u,f,m,v){const x=[],S=this.ast.options&&this.ast.options.params||Z2,O=this.buildStyles(i,u&&u.params||Z2,x),P=f&&f.params||Z2,L=this.buildStyles(r,P,x),$=new Set,X=new Map,ee=new Map,le="void"===r,ce={params:Zte(P,S),delay:this.ast.options?.delay},xe=v?[]:X2(t,e,this.ast.animation,s,a,O,L,ce,m,x);let ze=0;if(xe.forEach(pt=>{ze=Math.max(pt.duration+pt.delay,ze)}),x.length)return KG(e,this._triggerName,i,r,le,O,L,[],[],X,ee,ze,x);xe.forEach(pt=>{const jt=pt.element,nn=Pa(X,jt,new Set);pt.preStyleProps.forEach(xi=>nn.add(xi));const ln=Pa(ee,jt,new Set);pt.postStyleProps.forEach(xi=>ln.add(xi)),jt!==e&&$.add(jt)});const Ge=cM($.values());return KG(e,this._triggerName,i,r,le,O,L,xe,Ge,X,ee,ze)}}function Zte(n,t){const e=fE(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Jte{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=fE(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{a&&(a=mE(a,r,e));const f=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,f,a,e),i.set(u,a)})}),i}}class tne{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Jte(r.style,r.options&&r.options.params||{},i))}),XG(this.states,"true","1"),XG(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new qG(t,r,this.states))}),this.fallbackTransition=function nne(n,t,e){return new qG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function XG(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const ine=new fM;class rne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=W2(this._driver,e,i,[]);if(i.length)throw function lte(n){return new d.wOt(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=RG(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const u=new Map;if(s?(a=X2(this._driver,e,s,j2,sM,new Map,new Map,i,ine,r),a.forEach(v=>{const x=Pa(u,v.element,new Map);v.postStyleProps.forEach(S=>x.set(S,null))})):(r.push(function cte(){return new d.wOt(3300,!1)}()),a=[]),r.length)throw function ute(n){return new d.wOt(3504,!1)}();u.forEach((v,x)=>{v.forEach((S,A)=>{v.set(A,this._driver.computeStyle(x,A,Nh))})});const m=Pp(a.map(v=>{const x=u.get(v.element);return this._buildPlayer(v,new Map,x)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function dte(n){return new d.wOt(3301,!1)}();return e}listen(t,e,i,r){const s=V2(e,"","","");return F2(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const YG="ng-animate-queued",J2="ng-animate-disabled",cne=[],QG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},une={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vc="__ng_removed";class eV{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pne(n){return n??null}(i?t.value:t),i){const s=fE(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const gE="void",tV=new eV(gE);class dne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function hte(n,t){return new d.wOt(3302,!1)}();if(null==i||0==i.length)throw function fte(n){return new d.wOt(3303,!1)}();if(!function mne(n){return"start"==n||"done"==n}(i))throw function pte(n,t){return new d.wOt(3400,!1)}();const s=Pa(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const u=Pa(this._engine.statesByElement,t,new Map);return u.has(e)||(bl(t,oM),bl(t,oM+"-"+e),u.set(e,tV)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(a);f>=0&&s.splice(f,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function mte(n){return new d.wOt(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new nV(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(bl(t,oM),bl(t,oM+"-"+e),this._engine.statesByElement.set(t,u=new Map));let f=u.get(e);const m=new eV(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),u.set(e,m),f||(f=tV),m.value!==gE&&f.value===m.value){if(!function yne(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(f.params,m.params)){const P=[],L=s.matchStyles(f.value,f.params,P),$=s.matchStyles(m.value,m.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{qg(t,L),ju(t,$)})}return}const S=Pa(this._engine.playersByElement,t,[]);S.forEach(P=>{P.namespaceId==this.id&&P.triggerName==e&&P.queued&&P.destroy()});let A=s.matchTransition(f.value,m.value,t,m.params),O=!1;if(!A){if(!r)return;A=s.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:A,fromState:f,toState:m,player:a,isFallbackTransition:O}),O||(bl(t,YG),a.onStart(()=>{Gv(t,YG)})),a.onDone(()=>{let P=this.players.indexOf(a);P>=0&&this.players.splice(P,1);const L=this._engine.playersByElement.get(t);if(L){let $=L.indexOf(a);$>=0&&L.splice($,1)}}),this.players.push(a),S.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,aM,!0);i.forEach(r=>{if(r[vc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const u=[];if(s.forEach((f,m)=>{if(a.set(m,f.value),this._triggers.has(m)){const v=this.trigger(t,m,gE,r);v&&u.push(v)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Pp(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const f=this._triggers.get(a).fallbackTransition,m=i.get(a)||tV,v=new eV(gE),x=new nV(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:f,fromState:m,toState:v,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[vc];(!s||s===QG)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){bl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==i.triggerName){const f=V2(s,i.triggerName,i.fromState.value,i.toState.value);f._data=t,F2(i.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class hne{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new dne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const f=r.get(u);if(f){const m=i.indexOf(f);i.splice(m+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(gM(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!gM(e))return;const s=e[vc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bl(t,J2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gv(t,J2))}removeNode(t,e,i){if(gM(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[vc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return gM(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,aM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,H2,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[vc];if(e&&e.setForRemoval){if(t[vc]=QG,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(J2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Pp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function gte(n){return new d.wOt(3402,!1)}()}_flushAnimations(t,e){const i=new fM,r=[],s=new Map,a=[],u=new Map,f=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(Ze=>{v.add(Ze);const ut=this.driver.query(Ze,".ng-animate-queued",!0);for(let Tt=0;Tt<ut.length;Tt++)v.add(ut[Tt])});const x=this.bodyNode,S=Array.from(this.statesByElement.keys()),A=eW(S,this.collectedEnterElements),O=new Map;let P=0;A.forEach((Ze,ut)=>{const Tt=j2+P++;O.set(ut,Tt),Ze.forEach(Ht=>bl(Ht,Tt))});const L=[],$=new Set,X=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const ut=this.collectedLeaveElements[Ze],Tt=ut[vc];Tt&&Tt.setForRemoval&&(L.push(ut),$.add(ut),Tt.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(Ht=>$.add(Ht)):X.add(ut))}const ee=new Map,le=eW(S,Array.from($));le.forEach((Ze,ut)=>{const Tt=sM+P++;ee.set(ut,Tt),Ze.forEach(Ht=>bl(Ht,Tt))}),t.push(()=>{A.forEach((Ze,ut)=>{const Tt=O.get(ut);Ze.forEach(Ht=>Gv(Ht,Tt))}),le.forEach((Ze,ut)=>{const Tt=ee.get(ut);Ze.forEach(Ht=>Gv(Ht,Tt))}),L.forEach(Ze=>{this.processLeaveNode(Ze)})});const ce=[],xe=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(e).forEach(Tt=>{const Ht=Tt.player,Ei=Tt.element;if(ce.push(Ht),this.collectedEnterElements.length){const Ys=Ei[vc];if(Ys&&Ys.setForMove){if(Ys.previousTriggersValues&&Ys.previousTriggersValues.has(Tt.triggerName)){const Qg=Ys.previousTriggersValues.get(Tt.triggerName),wl=this.statesByElement.get(Tt.element);if(wl&&wl.has(Tt.triggerName)){const IM=wl.get(Tt.triggerName);IM.value=Qg,wl.set(Tt.triggerName,IM)}}return void Ht.destroy()}}const Ro=!x||!this.driver.containsElement(x,Ei),Nr=ee.get(Ei),na=O.get(Ei),Fn=this._buildInstruction(Tt,i,na,Nr,Ro);if(Fn.errors&&Fn.errors.length)return void xe.push(Fn);if(Ro)return Ht.onStart(()=>qg(Ei,Fn.fromStyles)),Ht.onDestroy(()=>ju(Ei,Fn.toStyles)),void r.push(Ht);if(Tt.isFallbackTransition)return Ht.onStart(()=>qg(Ei,Fn.fromStyles)),Ht.onDestroy(()=>ju(Ei,Fn.toStyles)),void r.push(Ht);const Vp=[];Fn.timelines.forEach(Ys=>{Ys.stretchStartingKeyframe=!0,this.disabledNodes.has(Ys.element)||Vp.push(Ys)}),Fn.timelines=Vp,i.append(Ei,Fn.timelines),a.push({instruction:Fn,player:Ht,element:Ei}),Fn.queriedElements.forEach(Ys=>Pa(u,Ys,[]).push(Ht)),Fn.preStyleProps.forEach((Ys,Qg)=>{if(Ys.size){let wl=f.get(Qg);wl||f.set(Qg,wl=new Set),Ys.forEach((IM,gV)=>wl.add(gV))}}),Fn.postStyleProps.forEach((Ys,Qg)=>{let wl=m.get(Qg);wl||m.set(Qg,wl=new Set),Ys.forEach((IM,gV)=>wl.add(gV))})});if(xe.length){const Ze=[];xe.forEach(ut=>{Ze.push(function _te(n,t){return new d.wOt(3505,!1)}())}),ce.forEach(ut=>ut.destroy()),this.reportError(Ze)}const ze=new Map,Ge=new Map;a.forEach(Ze=>{const ut=Ze.element;i.has(ut)&&(Ge.set(ut,ut),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,ze))}),r.forEach(Ze=>{const ut=Ze.element;this._getPreviousPlayers(ut,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Ht=>{Pa(ze,ut,[]).push(Ht),Ht.destroy()})});const pt=L.filter(Ze=>nW(Ze,f,m)),jt=new Map;JG(jt,this.driver,X,m,Nh).forEach(Ze=>{nW(Ze,f,m)&&pt.push(Ze)});const ln=new Map;A.forEach((Ze,ut)=>{JG(ln,this.driver,new Set(Ze),f,"!")}),pt.forEach(Ze=>{const ut=jt.get(Ze),Tt=ln.get(Ze);jt.set(Ze,new Map([...ut?.entries()??[],...Tt?.entries()??[]]))});const xi=[],Xs=[],Nn={};a.forEach(Ze=>{const{element:ut,player:Tt,instruction:Ht}=Ze;if(i.has(ut)){if(v.has(ut))return Tt.onDestroy(()=>ju(ut,Ht.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(Ht.totalTime),void r.push(Tt);let Ei=Nn;if(Ge.size>1){let Nr=ut;const na=[];for(;Nr=Nr.parentNode;){const Fn=Ge.get(Nr);if(Fn){Ei=Fn;break}na.push(Nr)}na.forEach(Fn=>Ge.set(Fn,Ei))}const Ro=this._buildAnimation(Tt.namespaceId,Ht,ze,s,ln,jt);if(Tt.setRealPlayer(Ro),Ei===Nn)xi.push(Tt);else{const Nr=this.playersByElement.get(Ei);Nr&&Nr.length&&(Tt.parentPlayer=Pp(Nr)),r.push(Tt)}}else qg(ut,Ht.fromStyles),Tt.onDestroy(()=>ju(ut,Ht.toStyles)),Xs.push(Tt),v.has(ut)&&r.push(Tt)}),Xs.forEach(Ze=>{const ut=s.get(Ze.element);if(ut&&ut.length){const Tt=Pp(ut);Ze.setRealPlayer(Tt)}}),r.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<L.length;Ze++){const ut=L[Ze],Tt=ut[vc];if(Gv(ut,sM),Tt&&Tt.hasAnimation)continue;let Ht=[];if(u.size){let Ro=u.get(ut);Ro&&Ro.length&&Ht.push(...Ro);let Nr=this.driver.query(ut,H2,!0);for(let na=0;na<Nr.length;na++){let Fn=u.get(Nr[na]);Fn&&Fn.length&&Ht.push(...Fn)}}const Ei=Ht.filter(Ro=>!Ro.destroyed);Ei.length?gne(this,ut,Ei):this.processLeaveNode(ut)}return L.length=0,xi.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const ut=this.players.indexOf(Ze);this.players.splice(ut,1)}),Ze.play()}),xi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const f=!s||s==gE;u.forEach(m=>{m.queued||!f&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const m=f.element,v=m!==s,x=Pa(i,m,[]);this._getPreviousPlayers(m,v,a,u,e.toState).forEach(A=>{const O=A.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),A.destroy(),x.push(A)})}qg(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const u=e.triggerName,f=e.element,m=[],v=new Set,x=new Set,S=e.timelines.map(O=>{const P=O.element;v.add(P);const L=P[vc];if(L&&L.removedBeforeQueried)return new rE(O.duration,O.delay);const $=P!==f,X=function _ne(n){const t=[];return tW(n,t),t}((i.get(P)||cne).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===P),ee=s.get(P),le=a.get(P),ce=RG(this._normalizer,O.keyframes,ee,le),xe=this._buildPlayer(O,ce,X);if(O.subTimeline&&r&&x.add(P),$){const ze=new nV(t,u,P);ze.setRealPlayer(xe),m.push(ze)}return xe});m.forEach(O=>{Pa(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function fne(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,O.element,O))}),v.forEach(O=>bl(O,VG));const A=Pp(S);return A.onDestroy(()=>{v.forEach(O=>Gv(O,VG)),ju(f,e.toStyles)}),x.forEach(O=>{Pa(r,O,[]).push(A)}),A}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new rE(t.duration,t.delay)}}class nV{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new rE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>F2(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Pa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gM(n){return n&&1===n.nodeType}function ZG(n,t){const e=n.style.display;return n.style.display=t??"none",e}function JG(n,t,e,i,r){const s=[];e.forEach(f=>s.push(ZG(f)));const a=[];i.forEach((f,m)=>{const v=new Map;f.forEach(x=>{const S=t.computeStyle(m,x,r);v.set(x,S),(!S||0==S.length)&&(m[vc]=une,a.push(m))}),n.set(m,v)});let u=0;return e.forEach(f=>ZG(f,s[u++])),a}function eW(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(u){if(!u)return 1;let f=s.get(u);if(f)return f;const m=u.parentNode;return f=e.has(m)?m:r.has(m)?1:a(m),s.set(u,f),f}return t.forEach(u=>{const f=a(u);1!==f&&e.get(f).push(u)}),e}function bl(n,t){n.classList?.add(t)}function Gv(n,t){n.classList?.remove(t)}function gne(n,t,e){Pp(e).onDone(()=>n.processLeaveNode(t))}function tW(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof P5?tW(i.players,t):t.push(i)}}function nW(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class _M{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new hne(t,e,i),this._timelineEngine=new rne(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const f=[],v=W2(this._driver,s,f,[]);if(f.length)throw function ote(n,t){return new d.wOt(3404,!1)}();u=function ene(n,t,e){return new tne(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=kG(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,u]=kG(i);return this._timelineEngine.listen(a,e,u,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let bne=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ju(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ju(this._element,this._initialStyles),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qg(this._element,this._endStyles),this._endStyles=null),ju(this._element,this._initialStyles),this._state=3)}}return n})();function iV(n){let t=null;return n.forEach((e,i)=>{(function wne(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class iW{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:HG(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class xne{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return PG(t,e)}getParentElement(t){return B2(t)}query(t,e,i){return NG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const m=new Map,v=a.filter(A=>A instanceof iW);(function Ate(n,t){return 0===n||0===t})(i,r)&&v.forEach(A=>{A.currentSnapshot.forEach((O,P)=>m.set(P,O))});let x=function Ite(n){return n.length?n[0]instanceof Map?n:n.map(t=>BG(t)):[]}(e).map(A=>Np(A));x=function Mte(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(u=>a.set(u,HG(n,u)))}}return t}(t,x,m);const S=function vne(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=iV(t[0]),t.length>1&&(i=iV(t[t.length-1]))):t instanceof Map&&(e=iV(t)),e||i?new bne(n,e,i):null}(t,x);return new iW(t,x,f,S)}}let Ene=(()=>{class n extends R5{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:d.gXe.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?k5(e):e;return rW(this._renderer,null,i,"register",[r]),new Cne(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(d._9s),d.KVO(he))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();class Cne extends YY{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Dne(this._id,t,e||{},this._renderer)}}class Dne{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return rW(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rW(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const sW="@.disabled";let Ine=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,a)=>{const u=a?.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new oW("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(a,u,e,v.name,v)};return i.data.animation.forEach(f),new Sne(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(d._9s),d.KVO(_M),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();class oW{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==sW?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Sne extends oW{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sW?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Tne(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Ane(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let Mne=(()=>{class n extends _M{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(d.KVO(he),d.KVO(U2),d.KVO(Q2),d.KVO(d.o8S))}}static{this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}}return n})();const aW=[{provide:R5,useClass:Ene},{provide:Q2,useFactory:function Rne(){return new Yte}},{provide:_M,useClass:Mne},{provide:d._9s,useFactory:function kne(n,t,e){return new Ine(n,t,e)},deps:[fn,_M,d.SKi]}],rV=[{provide:U2,useFactory:()=>new xne},{provide:d.bc$,useValue:"BrowserAnimations"},...aW],lW=[{provide:U2,useClass:FG},{provide:d.bc$,useValue:"NoopAnimations"},...aW];let One=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?lW:rV}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n})}static{this.\u0275inj=d.G2t({providers:rV,imports:[uo]})}}return n})();const vM=function Fne(n,t){return n===t||n!=n&&t!=t},bM=function Lne(n,t){for(var e=n.length;e--;)if(vM(n[e][0],t))return e;return-1};var Bne=Array.prototype.splice;function Wv(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Wv.prototype.clear=function Pne(){this.__data__=[],this.size=0},Wv.prototype.delete=function Une(n){var t=this.__data__,e=bM(t,n);return!(e<0||(e==t.length-1?t.pop():Bne.call(t,e,1),--this.size,0))},Wv.prototype.get=function Hne(n){var t=this.__data__,e=bM(t,n);return e<0?void 0:t[e][1]},Wv.prototype.has=function $ne(n){return bM(this.__data__,n)>-1},Wv.prototype.set=function Wne(n,t){var e=this.__data__,i=bM(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const wM=Wv,cW="object"==typeof global&&global&&global.Object===Object&&global;var iie="object"==typeof self&&self&&self.Object===Object&&self;const Kv=cW||iie||Function("return this")();var sie=Kv.Symbol,uW=Object.prototype,oie=uW.hasOwnProperty,aie=uW.toString,_E=sie?sie.toStringTag:void 0;var die=Object.prototype.toString;var dW=sie?sie.toStringTag:void 0;const EM=function gie(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":dW&&dW in Object(n)?function lie(n){var t=oie.call(n,_E),e=n[_E];try{n[_E]=void 0;var i=!0}catch{}var r=aie.call(n);return i&&(t?n[_E]=e:delete n[_E]),r}(n):function hie(n){return die.call(n)}(n)},Yg=function _ie(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},sV=function xie(n){if(!Yg(n))return!1;var t=EM(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},oV=Kv["__core-js_shared__"];var hW=function(){var n=/[^.]+$/.exec(oV&&oV.keys&&oV.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var Sie=Function.prototype.toString;var Rie=/^\[object .+?Constructor\]$/,Fie=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Vie=function Lie(n){return!(!Yg(n)||function Cie(n){return!!hW&&hW in n}(n))&&(sV(n)?Fie:Rie).test(function Tie(n){if(null!=n){try{return Sie.call(n)}catch{}try{return n+""}catch{}}return""}(n))},aV=function jie(n,t){var e=function Bie(n,t){return n?.[t]}(n,t);return Vie(e)?e:void 0},fW=aV(Kv,"Map"),yE=aV(Object,"create");var Yie=Object.prototype.hasOwnProperty;var ere=Object.prototype.hasOwnProperty;function qv(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}qv.prototype.clear=function $ie(){this.__data__=yE?yE(null):{},this.size=0},qv.prototype.delete=function Wie(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},qv.prototype.get=function Qie(n){var t=this.__data__;if(yE){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return Yie.call(t,n)?t[n]:void 0},qv.prototype.has=function tre(n){var t=this.__data__;return yE?void 0!==t[n]:ere.call(t,n)},qv.prototype.set=function rre(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=yE&&void 0===t?"__lodash_hash_undefined__":t,this};const pW=qv,CM=function ure(n,t){var e=n.__data__;return function lre(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function Xv(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Xv.prototype.clear=function ore(){this.size=0,this.__data__={hash:new pW,map:new(fW||wM),string:new pW}},Xv.prototype.delete=function dre(n){var t=CM(this,n).delete(n);return this.size-=t?1:0,t},Xv.prototype.get=function fre(n){return CM(this,n).get(n)},Xv.prototype.has=function mre(n){return CM(this,n).has(n)},Xv.prototype.set=function _re(n,t){var e=CM(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const vre=Xv;function Yv(n){var t=this.__data__=new wM(n);this.size=t.size}Yv.prototype.clear=function qne(){this.__data__=new wM,this.size=0},Yv.prototype.delete=function Yne(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},Yv.prototype.get=function Zne(n){return this.__data__.get(n)},Yv.prototype.has=function eie(n){return this.__data__.has(n)},Yv.prototype.set=function wre(n,t){var e=this.__data__;if(e instanceof wM){var i=e.__data__;if(!fW||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new vre(i)}return e.set(n,t),this.size=e.size,this};const Ere=Yv;var Cre=function(){try{var n=aV(Object,"defineProperty");return n({},"",{}),n}catch{}}();const DM=Cre,lV=function Dre(n,t,e){"__proto__"==t&&DM?DM(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},cV=function Ire(n,t,e){(void 0!==e&&!vM(n[t],e)||void 0===e&&!(t in n))&&lV(n,t,e)};var Tre=function Sre(n){return function(t,e,i){for(var r=-1,s=Object(t),a=i(t),u=a.length;u--;){var f=a[n?u:++r];if(!1===e(s[f],f,s))break}return t}}();const Are=Tre;var mW="object"==typeof exports&&exports&&!exports.nodeType&&exports,gW=mW&&"object"==typeof module&&module&&!module.nodeType&&module,_W=gW&&gW.exports===mW?Kv.Buffer:void 0,yW=_W?_W.allocUnsafe:void 0;const vW=Kv.Uint8Array,Lre=function Fre(n,t){var e=t?function Pre(n){var t=new n.constructor(n.byteLength);return new vW(t).set(new vW(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var bW=Object.create,Ure=function(){function n(){}return function(t){if(!Yg(t))return{};if(bW)return bW(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const jre=Ure;var zre=function Hre(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const wW=zre;var $re=Object.prototype;const xW=function Gre(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||$re)},vE=function qre(n){return null!=n&&"object"==typeof n},EW=function Yre(n){return vE(n)&&"[object Arguments]"==EM(n)};var CW=Object.prototype,Qre=CW.hasOwnProperty,Zre=CW.propertyIsEnumerable,Jre=EW(function(){return arguments}())?EW:function(n){return vE(n)&&Qre.call(n,"callee")&&!Zre.call(n,"callee")};const uV=Jre,dV=Array.isArray,DW=function nse(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},hV=function ise(n){return null!=n&&DW(n.length)&&!sV(n)};var IW="object"==typeof exports&&exports&&!exports.nodeType&&exports,SW=IW&&"object"==typeof module&&module&&!module.nodeType&&module,TW=SW&&SW.exports===IW?Kv.Buffer:void 0;const AW=(TW?TW.isBuffer:void 0)||function ose(){return!1};var MW=Function.prototype.toString,pse=Object.prototype.hasOwnProperty,mse=MW.call(Object);var wi={};wi["[object Float32Array]"]=wi["[object Float64Array]"]=wi["[object Int8Array]"]=wi["[object Int16Array]"]=wi["[object Int32Array]"]=wi["[object Uint8Array]"]=wi["[object Uint8ClampedArray]"]=wi["[object Uint16Array]"]=wi["[object Uint32Array]"]=!0,wi["[object Arguments]"]=wi["[object Array]"]=wi["[object ArrayBuffer]"]=wi["[object Boolean]"]=wi["[object DataView]"]=wi["[object Date]"]=wi["[object Error]"]=wi["[object Function]"]=wi["[object Map]"]=wi["[object Number]"]=wi["[object Object]"]=wi["[object RegExp]"]=wi["[object Set]"]=wi["[object String]"]=wi["[object WeakMap]"]=!1;var RW="object"==typeof exports&&exports&&!exports.nodeType&&exports,bE=RW&&"object"==typeof module&&module&&!module.nodeType&&module,fV=bE&&bE.exports===RW&&cW.process,Kse=function(){try{return bE&&bE.require&&bE.require("util").types||fV&&fV.binding&&fV.binding("util")}catch{}}(),OW=Kse&&Kse.isTypedArray;const PW=OW?function $se(n){return function(t){return n(t)}}(OW):function Hse(n){return vE(n)&&DW(n.length)&&!!wi[EM(n)]},pV=function Xse(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var Qse=Object.prototype.hasOwnProperty;const Jse=function Zse(n,t,e){var i=n[t];(!Qse.call(n,t)||!vM(i,e)||void 0===e&&!(t in n))&&lV(n,t,e)};var soe=/^(?:0|[1-9]\d*)$/;const NW=function ooe(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&soe.test(n))&&n>-1&&n%1==0&&n<t};var loe=Object.prototype.hasOwnProperty;const uoe=function coe(n,t){var e=dV(n),i=!e&&uV(n),r=!e&&!i&&AW(n),s=!e&&!i&&!r&&PW(n),a=e||i||r||s,u=a?function noe(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],f=u.length;for(var m in n)(t||loe.call(n,m))&&(!a||!("length"==m||r&&("offset"==m||"parent"==m)||s&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||NW(m,f)))&&u.push(m);return u};var poe=Object.prototype.hasOwnProperty;const goe=function moe(n){if(!Yg(n))return function doe(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=xW(n),e=[];for(var i in n)"constructor"==i&&(t||!poe.call(n,i))||e.push(i);return e},FW=function _oe(n){return hV(n)?uoe(n,!0):goe(n)},voe=function yoe(n){return function eoe(n,t,e,i){var r=!e;e||(e={});for(var s=-1,a=t.length;++s<a;){var u=t[s],f=i?i(e[u],n[u],u,e,n):void 0;void 0===f&&(f=n[u]),r?lV(e,u,f):Jse(e,u,f)}return e}(n,FW(n))},woe=function boe(n,t,e,i,r,s,a){var u=pV(n,e),f=pV(t,e),m=a.get(f);if(m)cV(n,e,m);else{var v=s?s(u,f,e+"",n,t,a):void 0,x=void 0===v;if(x){var S=dV(f),A=!S&&AW(f),O=!S&&!A&&PW(f);v=f,S||A||O?dV(u)?v=u:function rse(n){return vE(n)&&hV(n)}(u)?v=function Vre(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(u):A?(x=!1,v=function Rre(n,t){if(t)return n.slice();var e=n.length,i=yW?yW(e):new n.constructor(e);return n.copy(i),i}(f,!0)):O?(x=!1,v=Lre(f,!0)):v=[]:function gse(n){if(!vE(n)||"[object Object]"!=EM(n))return!1;var t=wW(n);if(null===t)return!0;var e=pse.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&MW.call(e)==mse}(f)||uV(f)?(v=u,uV(u)?v=voe(u):(!Yg(u)||sV(u))&&(v=function Wre(n){return"function"!=typeof n.constructor||xW(n)?{}:jre(wW(n))}(f))):x=!1}x&&(a.set(f,v),r(v,f,i,s,a),a.delete(f)),cV(n,e,v)}},xoe=function LW(n,t,e,i,r){n!==t&&Are(t,function(s,a){if(r||(r=new Ere),Yg(s))woe(n,t,a,e,LW,i,r);else{var u=i?i(pV(n,a),s,a+"",n,t,r):void 0;void 0===u&&(u=s),cV(n,a,u)}},FW)},VW=function Eoe(n){return n};var BW=Math.max;const Aoe=function Toe(n){return function(){return n}};var Moe=DM?function(n,t){return DM(n,"toString",{configurable:!0,enumerable:!1,value:Aoe(t),writable:!0})}:VW,Poe=Date.now,Foe=function Noe(n){var t=0,e=0;return function(){var i=Poe(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(Moe);const Loe=Foe,Boe=function Voe(n,t){return Loe(function Ioe(n,t,e){return t=BW(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=BW(i.length-t,0),a=Array(s);++r<s;)a[r]=i[t+r];r=-1;for(var u=Array(t+1);++r<t;)u[r]=i[r];return u[t]=e(a),function Coe(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}(n,this,u)}}(n,t,VW),n+"")};var zoe=function Hoe(n){return Boe(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,a&&function Uoe(n,t,e){if(!Yg(e))return!1;var i=typeof t;return!!("number"==i?hV(e)&&NW(t,e.length):"string"==i&&t in e)&&vM(e[t],n)}(e[0],e[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var u=e[i];u&&n(t,u,i,s)}return t})}(function(n,t,e){xoe(n,t,e)});const $oe=zoe,Goe=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Woe={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>Fp(Lp(n.datasetIndex),.4),borderColor:n=>Fp(Lp(n.datasetIndex),1),pointBackgroundColor:n=>Fp(Lp(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>Fp(Lp(n.datasetIndex),.6),borderColor:n=>Fp(Lp(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Fp(Lp(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Fp(Lp(n.dataIndex),.6),borderColor:n=>Fp(Lp(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Fp(n,t){return"rgba("+n.concat(t).join(",")+")"}function mV(n,t){return Math.floor(Math.random()*(t-n+1))+n}function Lp(n=0){return Goe[n]||function Koe(){return[mV(0,255),mV(0,255),mV(0,255)]}()}let UW=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Du.register(...VU);let qoe=(()=>{class n{constructor(e){e?.plugins&&Du.register(...e?.plugins);const i=$oe(e?.generateColors?Woe:{},e?.defaults||{});Bn.set(i)}static forRoot(e){return{ngModule:n,providers:[{provide:UW,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(d.KVO(UW,8))},n.\u0275mod=d.$C({type:n}),n.\u0275inj=d.G2t({}),n})();const Xoe_firebaseConfig={apiKey:"AIzaSyC46h62eTb...mq_RU",authDomain:"expense-tracker-96696.firebaseapp.com",projectId:"expense-tracker-96696",storageBucket:"expense-tracker-96696.appspot.com",messagingSenderId:"220785810819",appId:"1:220785810819:web:ae47b2382dfde39bbaeeab6"};let Yoe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=d.$C({type:n,bootstrap:[Vee]})}static{this.\u0275inj=d.G2t({imports:[uo,Mee,One,Ma.bf.initializeApp(Xoe_firebaseConfig),SX,Fee,mk,BA,BZ,PX,OY,SJ,Fm,hee,OZ,qoe]})}}return n})();Ai().bootstrapModule(Yoe).catch(n=>console.error(n))},4412:(bt,Me,B)=>{B.d(Me,{t:()=>ne});var d=B(1413);class ne extends d.B{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const de=super._subscribe(oe);return!de.closed&&oe.next(this._value),de}getValue(){const{hasError:oe,thrownError:de,_value:he}=this;if(oe)throw de;return this._throwIfClosed(),he}next(oe){super.next(this._value=oe)}}},1985:(bt,Me,B)=>{B.d(Me,{c:()=>Be});var d=B(7707),ne=B(8359),U=B(3494),oe=B(1203),de=B(1026),he=B(8071),De=B(9786);let Be=(()=>{class ie{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const et=new ie;return et.source=this,et.operator=Pe,et}subscribe(Pe,et,Ve){const Qe=function K(ie){return ie&&ie instanceof d.vU||function H(ie){return ie&&(0,he.T)(ie.next)&&(0,he.T)(ie.error)&&(0,he.T)(ie.complete)}(ie)&&(0,ne.Uv)(ie)}(Pe)?Pe:new d.Ms(Pe,et,Ve);return(0,De.Y)(()=>{const{operator:He,source:It}=this;Qe.add(He?He.call(Qe,It):It?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(et){Pe.error(et)}}forEach(Pe,et){return new(et=Ee(et))((Ve,Qe)=>{const He=new d.Ms({next:It=>{try{Pe(It)}catch(xt){Qe(xt),He.unsubscribe()}},error:Qe,complete:Ve});this.subscribe(He)})}_subscribe(Pe){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Pe)}[U.s](){return this}pipe(...Pe){return(0,oe.m)(Pe)(this)}toPromise(Pe){return new(Pe=Ee(Pe))((et,Ve)=>{let Qe;this.subscribe(He=>Qe=He,He=>Ve(He),()=>et(Qe))})}}return ie.create=We=>new ie(We),ie})();function Ee(ie){var We;return null!==(We=ie??de.$.Promise)&&void 0!==We?We:Promise}},1413:(bt,Me,B)=>{B.d(Me,{B:()=>De});var d=B(1985),ne=B(8359);const oe=(0,B(1853).L)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=B(7908),he=B(9786);let De=(()=>{class Ee extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const ie=new Be(this,this);return ie.operator=K,ie}_throwIfClosed(){if(this.closed)throw new oe}next(K){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(K)}})}error(K){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:ie}=this;for(;ie.length;)ie.shift().error(K)}})}complete(){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:ie,isStopped:We,observers:Pe}=this;return ie||We?ne.Kn:(this.currentObservers=null,Pe.push(K),new ne.yU(()=>{this.currentObservers=null,(0,de.o)(Pe,K)}))}_checkFinalizedStatuses(K){const{hasError:ie,thrownError:We,isStopped:Pe}=this;ie?K.error(We):Pe&&K.complete()}asObservable(){const K=new d.c;return K.source=this,K}}return Ee.create=(H,K)=>new Be(H,K),Ee})();class Be extends De{constructor(H,K){super(),this.destination=H,this.source=K}next(H){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===ie||ie.call(K,H)}error(H){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===ie||ie.call(K,H)}complete(){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===K||K.call(H)}_subscribe(H){var K,ie;return null!==(ie=null===(K=this.source)||void 0===K?void 0:K.subscribe(H))&&void 0!==ie?ie:ne.Kn}}},7707:(bt,Me,B)=>{B.d(Me,{Ms:()=>Ve,vU:()=>ie});var d=B(8071),ne=B(8359),U=B(1026),oe=B(5334),de=B(5343);const he=Ee("C",void 0,void 0);function Ee(ue,Se,ae){return{kind:ue,value:Se,error:ae}}var H=B(9270),K=B(9786);class ie extends ne.yU{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,ne.Uv)(Se)&&Se.add(this)):this.destination=xt}static create(Se,ae,Re){return new Ve(Se,ae,Re)}next(Se){this.isStopped?It(function Be(ue){return Ee("N",ue,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?It(function De(ue){return Ee("E",void 0,ue)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?It(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Pe(ue,Se){return We.call(ue,Se)}class et{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:ae}=this;if(ae.next)try{ae.next(Se)}catch(Re){Qe(Re)}}error(Se){const{partialObserver:ae}=this;if(ae.error)try{ae.error(Se)}catch(Re){Qe(Re)}else Qe(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(ae){Qe(ae)}}}class Ve extends ie{constructor(Se,ae,Re){let je;if(super(),(0,d.T)(Se)||!Se)je={next:Se??void 0,error:ae??void 0,complete:Re??void 0};else{let Je;this&&U.$.useDeprecatedNextContext?(Je=Object.create(Se),Je.unsubscribe=()=>this.unsubscribe(),je={next:Se.next&&Pe(Se.next,Je),error:Se.error&&Pe(Se.error,Je),complete:Se.complete&&Pe(Se.complete,Je)}):je=Se}this.destination=new et(je)}}function Qe(ue){U.$.useDeprecatedSynchronousErrorHandling?(0,K.l)(ue):(0,oe.m)(ue)}function It(ue,Se){const{onStoppedNotification:ae}=U.$;ae&&H.f.setTimeout(()=>ae(ue,Se))}const xt={closed:!0,next:de.l,error:function He(ue){throw ue},complete:de.l}},8359:(bt,Me,B)=>{B.d(Me,{Kn:()=>he,yU:()=>de,Uv:()=>De});var d=B(8071);const U=(0,B(1853).L)(Ee=>function(K){Ee(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((ie,We)=>`${We+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var oe=B(7908);class de{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Pe of K)Pe.remove(this);else K.remove(this);const{initialTeardown:ie}=this;if((0,d.T)(ie))try{ie()}catch(Pe){H=Pe instanceof U?Pe.errors:[Pe]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Pe of We)try{Be(Pe)}catch(et){H=H??[],et instanceof U?H=[...H,...et.errors]:H.push(et)}}if(H)throw new U(H)}}add(H){var K;if(H&&H!==this)if(this.closed)Be(H);else{if(H instanceof de){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(H)}}_hasParent(H){const{_parentage:K}=this;return K===H||Array.isArray(K)&&K.includes(H)}_addParent(H){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(H),K):K?[K,H]:H}_removeParent(H){const{_parentage:K}=this;K===H?this._parentage=null:Array.isArray(K)&&(0,oe.o)(K,H)}remove(H){const{_finalizers:K}=this;K&&(0,oe.o)(K,H),H instanceof de&&H._removeParent(this)}}de.EMPTY=(()=>{const Ee=new de;return Ee.closed=!0,Ee})();const he=de.EMPTY;function De(Ee){return Ee instanceof de||Ee&&"closed"in Ee&&(0,d.T)(Ee.remove)&&(0,d.T)(Ee.add)&&(0,d.T)(Ee.unsubscribe)}function Be(Ee){(0,d.T)(Ee)?Ee():Ee.unsubscribe()}},1026:(bt,Me,B)=>{B.d(Me,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(bt,Me,B)=>{B.d(Me,{w:()=>ne});const ne=new(B(1985).c)(de=>de.complete())},8455:(bt,Me,B)=>{B.d(Me,{H:()=>Se});var d=B(8750),ne=B(941),U=B(6745),he=B(1985),Be=B(4761),Ee=B(8071),H=B(5225);function ie(ae,Re){if(!ae)throw new Error("Iterable cannot be null");return new he.c(je=>{(0,H.N)(je,Re,()=>{const Je=ae[Symbol.asyncIterator]();(0,H.N)(je,Re,()=>{Je.next().then(_e=>{_e.done?je.complete():je.next(_e.value)})},0,!0)})})}var We=B(5055),Pe=B(9858),et=B(7441),Ve=B(5397),Qe=B(7953),He=B(591),It=B(5196);function Se(ae,Re){return Re?function ue(ae,Re){if(null!=ae){if((0,We.l)(ae))return function oe(ae,Re){return(0,d.Tg)(ae).pipe((0,U._)(Re),(0,ne.Q)(Re))}(ae,Re);if((0,et.X)(ae))return function De(ae,Re){return new he.c(je=>{let Je=0;return Re.schedule(function(){Je===ae.length?je.complete():(je.next(ae[Je++]),je.closed||this.schedule())})})}(ae,Re);if((0,Pe.y)(ae))return function de(ae,Re){return(0,d.Tg)(ae).pipe((0,U._)(Re),(0,ne.Q)(Re))}(ae,Re);if((0,Qe.T)(ae))return ie(ae,Re);if((0,Ve.x)(ae))return function K(ae,Re){return new he.c(je=>{let Je;return(0,H.N)(je,Re,()=>{Je=ae[Be.l](),(0,H.N)(je,Re,()=>{let _e,Mt;try{({value:_e,done:Mt}=Je.next())}catch(Qt){return void je.error(Qt)}Mt?je.complete():je.next(_e)},0,!0)}),()=>(0,Ee.T)(Je?.return)&&Je.return()})}(ae,Re);if((0,It.U)(ae))return function xt(ae,Re){return ie((0,It.C)(ae),Re)}(ae,Re)}throw(0,He.L)(ae)}(ae,Re):(0,d.Tg)(ae)}},8750:(bt,Me,B)=>{B.d(Me,{Tg:()=>We});var d=B(1635),ne=B(7441),U=B(9858),oe=B(1985),de=B(5055),he=B(7953),De=B(591),Be=B(5397),Ee=B(5196),H=B(8071),K=B(5334),ie=B(3494);function We(ue){if(ue instanceof oe.c)return ue;if(null!=ue){if((0,de.l)(ue))return function Pe(ue){return new oe.c(Se=>{const ae=ue[ie.s]();if((0,H.T)(ae.subscribe))return ae.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,ne.X)(ue))return function et(ue){return new oe.c(Se=>{for(let ae=0;ae<ue.length&&!Se.closed;ae++)Se.next(ue[ae]);Se.complete()})}(ue);if((0,U.y)(ue))return function Ve(ue){return new oe.c(Se=>{ue.then(ae=>{Se.closed||(Se.next(ae),Se.complete())},ae=>Se.error(ae)).then(null,K.m)})}(ue);if((0,he.T)(ue))return He(ue);if((0,Be.x)(ue))return function Qe(ue){return new oe.c(Se=>{for(const ae of ue)if(Se.next(ae),Se.closed)return;Se.complete()})}(ue);if((0,Ee.U)(ue))return function It(ue){return He((0,Ee.C)(ue))}(ue)}throw(0,De.L)(ue)}function He(ue){return new oe.c(Se=>{(function xt(ue,Se){var ae,Re,je,Je;return(0,d.sH)(this,void 0,void 0,function*(){try{for(ae=(0,d.xN)(ue);!(Re=yield ae.next()).done;)if(Se.next(Re.value),Se.closed)return}catch(_e){je={error:_e}}finally{try{Re&&!Re.done&&(Je=ae.return)&&(yield Je.call(ae))}finally{if(je)throw je.error}}Se.complete()})})(ue,Se).catch(ae=>Se.error(ae))})}},7786:(bt,Me,B)=>{B.d(Me,{h:()=>he});var d=B(6365),ne=B(8750),U=B(983),oe=B(9326),de=B(8455);function he(...De){const Be=(0,oe.lI)(De),Ee=(0,oe.R0)(De,1/0),H=De;return H.length?1===H.length?(0,ne.Tg)(H[0]):(0,d.U)(Ee)((0,de.H)(H,Be)):U.w}},7673:(bt,Me,B)=>{B.d(Me,{of:()=>U});var d=B(9326),ne=B(8455);function U(...oe){const de=(0,d.lI)(oe);return(0,ne.H)(oe,de)}},4360:(bt,Me,B)=>{B.d(Me,{_:()=>ne});var d=B(7707);function ne(oe,de,he,De,Be){return new U(oe,de,he,De,Be)}class U extends d.vU{constructor(de,he,De,Be,Ee,H){super(de),this.onFinalize=Ee,this.shouldUnsubscribe=H,this._next=he?function(K){try{he(K)}catch(ie){de.error(ie)}}:super._next,this._error=Be?function(K){try{Be(K)}catch(ie){de.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(K){de.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3294:(bt,Me,B)=>{B.d(Me,{F:()=>oe});var d=B(3669),ne=B(9974),U=B(4360);function oe(he,De=d.D){return he=he??de,(0,ne.N)((Be,Ee)=>{let H,K=!0;Be.subscribe((0,U._)(Ee,ie=>{const We=De(ie);(K||!he(H,We))&&(K=!1,H=We,Ee.next(ie))}))})}function de(he,De){return he===De}},6354:(bt,Me,B)=>{B.d(Me,{T:()=>U});var d=B(9974),ne=B(4360);function U(oe,de){return(0,d.N)((he,De)=>{let Be=0;he.subscribe((0,ne._)(De,Ee=>{De.next(oe.call(de,Ee,Be++))}))})}},6365:(bt,Me,B)=>{B.d(Me,{U:()=>U});var d=B(1397),ne=B(3669);function U(oe=1/0){return(0,d.Z)(ne.D,oe)}},1397:(bt,Me,B)=>{B.d(Me,{Z:()=>Be});var d=B(6354),ne=B(8750),U=B(9974),oe=B(5225),de=B(4360),De=B(8071);function Be(Ee,H,K=1/0){return(0,De.T)(H)?Be((ie,We)=>(0,d.T)((Pe,et)=>H(ie,Pe,We,et))((0,ne.Tg)(Ee(ie,We))),K):("number"==typeof H&&(K=H),(0,U.N)((ie,We)=>function he(Ee,H,K,ie,We,Pe,et,Ve){const Qe=[];let He=0,It=0,xt=!1;const ue=()=>{xt&&!Qe.length&&!He&&H.complete()},Se=Re=>He<ie?ae(Re):Qe.push(Re),ae=Re=>{Pe&&H.next(Re),He++;let je=!1;(0,ne.Tg)(K(Re,It++)).subscribe((0,de._)(H,Je=>{We?.(Je),Pe?Se(Je):H.next(Je)},()=>{je=!0},void 0,()=>{if(je)try{for(He--;Qe.length&&He<ie;){const Je=Qe.shift();et?(0,oe.N)(H,et,()=>ae(Je)):ae(Je)}ue()}catch(Je){H.error(Je)}}))};return Ee.subscribe((0,de._)(H,Se,()=>{xt=!0,ue()})),()=>{Ve?.()}}(ie,We,Ee,K)))}},941:(bt,Me,B)=>{B.d(Me,{Q:()=>oe});var d=B(5225),ne=B(9974),U=B(4360);function oe(de,he=0){return(0,ne.N)((De,Be)=>{De.subscribe((0,U._)(Be,Ee=>(0,d.N)(Be,de,()=>Be.next(Ee),he),()=>(0,d.N)(Be,de,()=>Be.complete(),he),Ee=>(0,d.N)(Be,de,()=>Be.error(Ee),he)))})}},7647:(bt,Me,B)=>{B.d(Me,{u:()=>de});var d=B(8750),ne=B(1413),U=B(7707),oe=B(9974);function de(De={}){const{connector:Be=(()=>new ne.B),resetOnError:Ee=!0,resetOnComplete:H=!0,resetOnRefCountZero:K=!0}=De;return ie=>{let We,Pe,et,Ve=0,Qe=!1,He=!1;const It=()=>{Pe?.unsubscribe(),Pe=void 0},xt=()=>{It(),We=et=void 0,Qe=He=!1},ue=()=>{const Se=We;xt(),Se?.unsubscribe()};return(0,oe.N)((Se,ae)=>{Ve++,!He&&!Qe&&It();const Re=et=et??Be();ae.add(()=>{Ve--,0===Ve&&!He&&!Qe&&(Pe=he(ue,K))}),Re.subscribe(ae),!We&&Ve>0&&(We=new U.Ms({next:je=>Re.next(je),error:je=>{He=!0,It(),Pe=he(xt,Ee,je),Re.error(je)},complete:()=>{Qe=!0,It(),Pe=he(xt,H),Re.complete()}}),(0,d.Tg)(Se).subscribe(We))})(ie)}}function he(De,Be,...Ee){if(!0===Be)return void De();if(!1===Be)return;const H=new U.Ms({next:()=>{H.unsubscribe(),De()}});return(0,d.Tg)(Be(...Ee)).subscribe(H)}},6745:(bt,Me,B)=>{B.d(Me,{_:()=>ne});var d=B(9974);function ne(U,oe=0){return(0,d.N)((de,he)=>{he.add(U.schedule(()=>de.subscribe(he),oe))})}},5558:(bt,Me,B)=>{B.d(Me,{n:()=>oe});var d=B(8750),ne=B(9974),U=B(4360);function oe(de,he){return(0,ne.N)((De,Be)=>{let Ee=null,H=0,K=!1;const ie=()=>K&&!Ee&&Be.complete();De.subscribe((0,U._)(Be,We=>{Ee?.unsubscribe();let Pe=0;const et=H++;(0,d.Tg)(de(We,et)).subscribe(Ee=(0,U._)(Be,Ve=>Be.next(he?he(We,Ve,et,Pe++):Ve),()=>{Ee=null,ie()}))},()=>{K=!0,ie()}))})}},8141:(bt,Me,B)=>{B.d(Me,{M:()=>de});var d=B(8071),ne=B(9974),U=B(4360),oe=B(3669);function de(he,De,Be){const Ee=(0,d.T)(he)||De||Be?{next:he,error:De,complete:Be}:he;return Ee?(0,ne.N)((H,K)=>{var ie;null===(ie=Ee.subscribe)||void 0===ie||ie.call(Ee);let We=!0;H.subscribe((0,U._)(K,Pe=>{var et;null===(et=Ee.next)||void 0===et||et.call(Ee,Pe),K.next(Pe)},()=>{var Pe;We=!1,null===(Pe=Ee.complete)||void 0===Pe||Pe.call(Ee),K.complete()},Pe=>{var et;We=!1,null===(et=Ee.error)||void 0===et||et.call(Ee,Pe),K.error(Pe)},()=>{var Pe,et;We&&(null===(Pe=Ee.unsubscribe)||void 0===Pe||Pe.call(Ee)),null===(et=Ee.finalize)||void 0===et||et.call(Ee)}))}):oe.D}},6780:(bt,Me,B)=>{B.d(Me,{R:()=>de});var d=B(8359);class ne extends d.yU{constructor(De,Be){super()}schedule(De,Be=0){return this}}const U={setInterval(he,De,...Be){const{delegate:Ee}=U;return Ee?.setInterval?Ee.setInterval(he,De,...Be):setInterval(he,De,...Be)},clearInterval(he){const{delegate:De}=U;return(De?.clearInterval||clearInterval)(he)},delegate:void 0};var oe=B(7908);class de extends ne{constructor(De,Be){super(De,Be),this.scheduler=De,this.work=Be,this.pending=!1}schedule(De,Be=0){var Ee;if(this.closed)return this;this.state=De;const H=this.id,K=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(K,H,Be)),this.pending=!0,this.delay=Be,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(K,this.id,Be),this}requestAsyncId(De,Be,Ee=0){return U.setInterval(De.flush.bind(De,this),Ee)}recycleAsyncId(De,Be,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return Be;null!=Be&&U.clearInterval(Be)}execute(De,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(De,Be);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Be){let H,Ee=!1;try{this.work(De)}catch(K){Ee=!0,H=K||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:De,scheduler:Be}=this,{actions:Ee}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.o)(Ee,this),null!=De&&(this.id=this.recycleAsyncId(Be,De,null)),this.delay=null,super.unsubscribe()}}}},9687:(bt,Me,B)=>{B.d(Me,{q:()=>U});var d=B(6129);class ne{constructor(de,he=ne.now){this.schedulerActionCtor=de,this.now=he}schedule(de,he=0,De){return new this.schedulerActionCtor(this,de).schedule(De,he)}}ne.now=d.U.now;class U extends ne{constructor(de,he=ne.now){super(de,he),this.actions=[],this._active=!1}flush(de){const{actions:he}=this;if(this._active)return void he.push(de);let De;this._active=!0;do{if(De=de.execute(de.state,de.delay))break}while(de=he.shift());if(this._active=!1,De){for(;de=he.shift();)de.unsubscribe();throw De}}}},3236:(bt,Me,B)=>{B.d(Me,{E:()=>U,b:()=>oe});var d=B(6780);const U=new(B(9687).q)(d.R),oe=U},6129:(bt,Me,B)=>{B.d(Me,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(bt,Me,B)=>{B.d(Me,{f:()=>d});const d={setTimeout(ne,U,...oe){const{delegate:de}=d;return de?.setTimeout?de.setTimeout(ne,U,...oe):setTimeout(ne,U,...oe)},clearTimeout(ne){const{delegate:U}=d;return(U?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4761:(bt,Me,B)=>{B.d(Me,{l:()=>ne});const ne=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(bt,Me,B)=>{B.d(Me,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(bt,Me,B)=>{B.d(Me,{R0:()=>he,lI:()=>de,ms:()=>oe});var d=B(8071),ne=B(9470);function U(De){return De[De.length-1]}function oe(De){return(0,d.T)(U(De))?De.pop():void 0}function de(De){return(0,ne.m)(U(De))?De.pop():void 0}function he(De,Be){return"number"==typeof U(De)?De.pop():Be}},7908:(bt,Me,B)=>{function d(ne,U){if(ne){const oe=ne.indexOf(U);0<=oe&&ne.splice(oe,1)}}B.d(Me,{o:()=>d})},1853:(bt,Me,B)=>{function d(ne){const oe=ne(de=>{Error.call(de),de.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}B.d(Me,{L:()=>d})},9786:(bt,Me,B)=>{B.d(Me,{Y:()=>U,l:()=>oe});var d=B(1026);let ne=null;function U(de){if(d.$.useDeprecatedSynchronousErrorHandling){const he=!ne;if(he&&(ne={errorThrown:!1,error:null}),de(),he){const{errorThrown:De,error:Be}=ne;if(ne=null,De)throw Be}}else de()}function oe(de){d.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=de)}},5225:(bt,Me,B)=>{function d(ne,U,oe,de=0,he=!1){const De=U.schedule(function(){oe(),he?ne.add(this.schedule(null,de)):this.unsubscribe()},de);if(ne.add(De),!he)return De}B.d(Me,{N:()=>d})},3669:(bt,Me,B)=>{function d(ne){return ne}B.d(Me,{D:()=>d})},7441:(bt,Me,B)=>{B.d(Me,{X:()=>d});const d=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7953:(bt,Me,B)=>{B.d(Me,{T:()=>ne});var d=B(8071);function ne(U){return Symbol.asyncIterator&&(0,d.T)(U?.[Symbol.asyncIterator])}},8071:(bt,Me,B)=>{function d(ne){return"function"==typeof ne}B.d(Me,{T:()=>d})},5055:(bt,Me,B)=>{B.d(Me,{l:()=>U});var d=B(3494),ne=B(8071);function U(oe){return(0,ne.T)(oe[d.s])}},5397:(bt,Me,B)=>{B.d(Me,{x:()=>U});var d=B(4761),ne=B(8071);function U(oe){return(0,ne.T)(oe?.[d.l])}},9858:(bt,Me,B)=>{B.d(Me,{y:()=>ne});var d=B(8071);function ne(U){return(0,d.T)(U?.then)}},5196:(bt,Me,B)=>{B.d(Me,{C:()=>U,U:()=>oe});var d=B(1635),ne=B(8071);function U(de){return(0,d.AQ)(this,arguments,function*(){const De=de.getReader();try{for(;;){const{value:Be,done:Ee}=yield(0,d.N3)(De.read());if(Ee)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Be)}}finally{De.releaseLock()}})}function oe(de){return(0,ne.T)(de?.getReader)}},9470:(bt,Me,B)=>{B.d(Me,{m:()=>ne});var d=B(8071);function ne(U){return U&&(0,d.T)(U.schedule)}},9974:(bt,Me,B)=>{B.d(Me,{N:()=>U,S:()=>ne});var d=B(8071);function ne(oe){return(0,d.T)(oe?.lift)}function U(oe){return de=>{if(ne(de))return de.lift(function(he){try{return oe(he,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(bt,Me,B)=>{function d(){}B.d(Me,{l:()=>d})},1203:(bt,Me,B)=>{B.d(Me,{F:()=>ne,m:()=>U});var d=B(3669);function ne(...oe){return U(oe)}function U(oe){return 0===oe.length?d.D:1===oe.length?oe[0]:function(he){return oe.reduce((De,Be)=>Be(De),he)}}},5334:(bt,Me,B)=>{B.d(Me,{m:()=>U});var d=B(1026),ne=B(9270);function U(oe){ne.f.setTimeout(()=>{const{onUnhandledError:de}=d.$;if(!de)throw oe;de(oe)})}},591:(bt,Me,B)=>{function d(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Me,{L:()=>d})},7705:(bt,Me,B)=>{B.d(Me,{$C:()=>Ic,$GK:()=>Dt,$K3:()=>uw,$MX:()=>k_,AVh:()=>ah,Agw:()=>aC,BIS:()=>AV,BMQ:()=>Uf,C4Q:()=>ep,C5r:()=>Y0,Co$:()=>Ay,DNE:()=>fk,EFF:()=>u0,EJ8:()=>Sc,FsC:()=>qu,G2t:()=>vn,GBs:()=>jI,GFd:()=>zb,H3F:()=>rS,H5H:()=>Bn,H8p:()=>_m,HJs:()=>JO,Hbi:()=>BO,JRh:()=>ch,JZv:()=>mn,Jv_:()=>O0,KH2:()=>uh,KVO:()=>dn,Kcf:()=>zE,L39:()=>KO,LfX:()=>Nt,MKu:()=>Ow,Mr5:()=>qf,NAR:()=>dD,NEm:()=>yO,NYb:()=>hS,Njj:()=>xd,O8t:()=>s_,OA$:()=>Ga,OM3:()=>W_,Ocv:()=>eO,Ol2:()=>bI,PLl:()=>U_,QTQ:()=>pu,Ql9:()=>Iu,QuC:()=>Fo,R7$:()=>IR,RV6:()=>oD,Rfq:()=>et,RxE:()=>oR,SKi:()=>zr,SdG:()=>n0,SpI:()=>Xi,TL$:()=>VE,Tbb:()=>ie,UyX:()=>BM,VBU:()=>Ui,Vns:()=>mh,Vt3:()=>oy,WHO:()=>pw,WPN:()=>lu,WQX:()=>Lt,XpG:()=>uD,Xx1:()=>mf,Y8G:()=>ih,Z63:()=>Rf,ZF7:()=>ec,ZvI:()=>h0,_9s:()=>sR,_q3:()=>kw,aKT:()=>K_,aNF:()=>Zf,bIt:()=>Um,bMT:()=>AI,bVm:()=>py,bc$:()=>eR,bkB:()=>nc,c1b:()=>tg,cWb:()=>VM,czy:()=>iu,e01:()=>mw,e5t:()=>jM,eBV:()=>jc,eu8:()=>Zb,fpN:()=>VO,gRc:()=>IO,gXe:()=>gt,giA:()=>fS,h9k:()=>GM,hnV:()=>iS,iLQ:()=>yw,j41:()=>Zo,jDH:()=>at,jNT:()=>Jb,joV:()=>Ad,k0s:()=>Bm,kS0:()=>Fd,kdw:()=>gf,lJ4:()=>L0,lNU:()=>xt,lsd:()=>q0,mGM:()=>sg,mq5:()=>Km,n$t:()=>KM,nI1:()=>Jf,nKC:()=>vt,naY:()=>Wy,nrm:()=>Bs,o8S:()=>sp,oH4:()=>$y,osQ:()=>UM,plB:()=>Z0,qSk:()=>_s,qex:()=>fy,rOR:()=>Cu,rXU:()=>Qd,rcV:()=>al,sFG:()=>GV,sZ2:()=>JM,sdS:()=>hl,uvJ:()=>Da,w6W:()=>a1,wOt:()=>ue,wni:()=>HI,xGo:()=>df,xc7:()=>zm,xe9:()=>By,xvI:()=>aR,zZn:()=>ul,zcH:()=>Yd,zjR:()=>aD});var d=B(1413),ne=B(8359),U=B(1985),oe=B(7786),de=B(4412),he=B(7673),De=B(7647),Be=B(5558),Ee=B(3294);function H(o){for(let l in o)if(o[l]===H)return l;throw Error("Could not find renamed property on target object.")}function K(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function ie(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ie).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function We(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const Pe=H({__forward_ref__:H});function et(o){return o.__forward_ref__=et,o.toString=function(){return ie(this())},o}function Ve(o){return Qe(o)?o():o}function Qe(o){return"function"==typeof o&&o.hasOwnProperty(Pe)&&o.__forward_ref__===et}function He(o){return o&&!!o.\u0275providers}const xt="https://g.co/ng/security#xss";class ue extends Error{constructor(l,c){super(function Se(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,c)),this.code=l}}function ae(o){return"string"==typeof o?o:null==o?"":String(o)}function Mt(o,l){throw new ue(-201,!1)}function ke(o,l){null==o&&function ye(o,l,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${l} <=Actual]`))}(l,o,null,"!=")}function at(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function vn(o){return{providers:o.providers||[],imports:o.imports||[]}}function br(o){return qn(o,Xn)||qn(o,Oo)}function Nt(o){return null!==br(o)}function qn(o,l){return o.hasOwnProperty(l)?o[l]:null}function Li(o){return o&&(o.hasOwnProperty(Fr)||o.hasOwnProperty(xl))?o[Fr]:null}const Xn=H({\u0275prov:H}),Fr=H({\u0275inj:H}),Oo=H({ngInjectableDef:H}),xl=H({ngInjectorDef:H});var Dt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Dt||{});let Zt;function Dn(o){const l=Zt;return Zt=o,l}function Un(o,l,c){const h=br(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&Dt.Optional?null:void 0!==l?l:void Mt(ie(o))}const mn=globalThis;class vt{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=at({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gn={},fs="__NG_DI_FLAG__",ur="ngTempTokenPath",z=/\n/gm,Ae="__source";let fe;function St(o){const l=fe;return fe=o,l}function on(o,l=Dt.Default){if(void 0===fe)throw new ue(-203,!1);return null===fe?Un(o,void 0,l):fe.get(o,l&Dt.Optional?null:void 0,l)}function dn(o,l=Dt.Default){return(function Ft(){return Zt}()||on)(Ve(o),l)}function Lt(o,l=Dt.Default){return dn(o,rn(l))}function rn(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Bi(o){const l=[];for(let c=0;c<o.length;c++){const h=Ve(o[c]);if(Array.isArray(h)){if(0===h.length)throw new ue(900,!1);let p,_=Dt.Default;for(let b=0;b<h.length;b++){const C=h[b],I=to(C);"number"==typeof I?-1===I?p=C.token:_|=I:p=C}l.push(dn(p,_))}else l.push(dn(h))}return l}function Er(o,l){return o[fs]=l,o.prototype[fs]=l,o}function to(o){return o[fs]}function re(o){return{toString:o}.toString()}var Ue=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Ue||{}),gt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(gt||{});const Et={},rt=[],cn=H({\u0275cmp:H}),ri=H({\u0275dir:H}),Yn=H({\u0275pipe:H}),ks=H({\u0275mod:H}),Cr=H({\u0275fac:H}),no=H({__NG_ELEMENT_ID__:H}),Hu=H({__NG_ENV_ID__:H});function Il(o,l,c){let h=o.length;for(;;){const p=o.indexOf(l,c);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const _=l.length;if(p+_===h||o.charCodeAt(p+_)<=32)return p}c=p+1}}function bc(o,l,c){let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const _=c[h++],b=c[h++],C=c[h++];o.setAttribute(l,b,C,_)}else{const _=p,b=c[++h];wc(_)?o.setProperty(l,_,b):o.setAttribute(l,_,b),h++}}return h}function Kr(o){return 3===o||4===o||6===o}function wc(o){return 64===o.charCodeAt(0)}function ia(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?c=p:0===c||zu(o,c,p,null,-1===c||2===c?l[++h]:null)}}return o}function zu(o,l,c,h,p){let _=0,b=o.length;if(-1===l)b=-1;else for(;_<o.length;){const C=o[_++];if("number"==typeof C){if(C===l){b=-1;break}if(C>l){b=_-1;break}}}for(;_<o.length;){const C=o[_];if("number"==typeof C)break;if(C===c){if(null===h)return void(null!==p&&(o[_+1]=p));if(h===o[_+1])return void(o[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==b&&(o.splice(b,0,l),_=b+1),o.splice(_++,0,c),null!==h&&o.splice(_++,0,h),null!==p&&o.splice(_++,0,p)}const Qn="ng-template";function La(o,l,c){let h=0,p=!0;for(;h<o.length;){let _=o[h++];if("string"==typeof _&&p){const b=o[h++];if(c&&"class"===_&&-1!==Il(b.toLowerCase(),l,0))return!0}else{if(1===_){for(;h<o.length&&"string"==typeof(_=o[h++]);)if(_.toLowerCase()===l)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function Bp(o){return 4===o.type&&o.value!==Qn}function Up(o,l,c){return l===(4!==o.type||c?o.value:Qn)}function xc(o,l,c){let h=4;const p=o.attrs||[],_=function ra(o){for(let l=0;l<o.length;l++)if(Kr(o[l]))return l;return o.length}(p);let b=!1;for(let C=0;C<l.length;C++){const I=l[C];if("number"!=typeof I){if(!b)if(4&h){if(h=2|1&h,""!==I&&!Up(o,I,c)||""===I&&1===l.length){if(Ii(h))return!1;b=!0}}else{const R=8&h?I:l[++C];if(8&h&&null!==o.attrs){if(!La(o.attrs,R,c)){if(Ii(h))return!1;b=!0}continue}const j=Ec(8&h?"class":I,p,Bp(o),c);if(-1===j){if(Ii(h))return!1;b=!0;continue}if(""!==R){let Y;Y=j>_?"":p[j+1].toLowerCase();const te=8&h?Y:null;if(te&&-1!==Il(te,R,0)||2&h&&R!==Y){if(Ii(h))return!1;b=!0}}}}else{if(!b&&!Ii(h)&&!Ii(I))return!1;if(b&&Ii(I))continue;b=!1,h=I|1&h}}return Ii(h)||b}function Ii(o){return 0==(1&o)}function Ec(o,l,c,h){if(null===l)return-1;let p=0;if(h||!c){let _=!1;for(;p<l.length;){const b=l[p];if(b===o)return p;if(3===b||6===b)_=!0;else{if(1===b||2===b){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=_?1:2}return-1}return function Bh(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===l)return c;c++}return-1}(l,o)}function Cc(o,l,c=!1){for(let h=0;h<l.length;h++)if(xc(o,l[h],c))return!0;return!1}function Sl(o,l){e:for(let c=0;c<l.length;c++){const h=l[c];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function Tl(o,l){return o?":not("+l.trim()+")":l}function Uh(o){let l=o[0],c=1,h=2,p="",_=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&h){const C=o[++c];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!Ii(b)&&(l+=Tl(_,p),p=""),h=b,_=_||!Ii(h);c++}return""!==p&&(l+=Tl(_,p)),l}function Ui(o){return re(()=>{const l=jp(o),c={...l,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ue.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||gt.Emulated,styles:o.styles||rt,_:null,schemas:o.schemas||null,tView:null,id:""};Xu(c);const h=o.dependencies;return c.directiveDefs=sa(h,!1),c.pipeDefs=sa(h,!0),c.id=function Yu(o){let l=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const p of c)l=Math.imul(31,l)+p.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(c),c})}function Dc(o){return en(o)||ji(o)}function Wu(o){return null!==o}function Ic(o){return re(()=>({type:o.type,bootstrap:o.bootstrap||rt,declarations:o.declarations||rt,imports:o.imports||rt,exports:o.exports||rt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Va(o,l){if(null==o)return Et;const c={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),c[p]=h,l&&(l[p]=_)}return c}function qu(o){return re(()=>{const l=jp(o);return Xu(l),l})}function Sc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function en(o){return o[cn]||null}function ji(o){return o[ri]||null}function Hi(o){return o[Yn]||null}function Fo(o){const l=en(o)||ji(o)||Hi(o);return null!==l&&l.standalone}function Dr(o,l){const c=o[ks]||null;if(!c&&!0===l)throw new Error(`Type ${ie(o)} does not have '\u0275mod' property.`);return c}function jp(o){const l={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:o.inputs||Et,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||rt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Va(o.inputs,l),outputs:Va(o.outputs)}}function Xu(o){o.features?.forEach(l=>l(o))}function sa(o,l){if(!o)return null;const c=l?Hi:Dc;return()=>("function"==typeof o?o():o).map(h=>c(h)).filter(Wu)}const Wn=0,Ye=1,Bt=2,wn=3,Lr=4,Ba=5,dr=6,Yr=7,Kn=8,Lo=9,ps=10,Ct=11,Al=12,Ml=13,io=14,di=15,Ua=16,Ir=17,Sr=18,Qr=19,jh=20,ms=21,ro=22,Vo=23,Os=24,sn=25,Rl=1,Ps=2,Vr=7,so=9,Si=11;function hr(o){return Array.isArray(o)&&"object"==typeof o[Rl]}function Zi(o){return Array.isArray(o)&&!0===o[Rl]}function Zu(o){return 0!=(4&o.flags)}function Ji(o){return o.componentOffset>-1}function oa(o){return 1==(1&o.flags)}function Tr(o){return!!o.template}function Bo(o){return 0!=(512&o[Bt])}function ao(o,l){return o.hasOwnProperty(Cr)?o[Cr]:null}let si=null,ja=!1;function zi(o){const l=si;return si=o,l}const od={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Gh(o){if(!la(o)||o.dirty){if(!o.producerMustRecompute(o)&&!ad(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Gp(o){o.dirty=!0,function Nl(o){if(void 0===o.liveConsumerNode)return;const l=ja;ja=!0;try{for(const c of o.liveConsumerNode)c.dirty||Gp(c)}finally{ja=l}}(o),o.consumerMarkedDirty?.(o)}function Ti(o){return o&&(o.nextProducerIndex=0),zi(o)}function Mc(o,l){if(zi(l),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(la(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)za(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function ad(o){lo(o);for(let l=0;l<o.producerNode.length;l++){const c=o.producerNode[l],h=o.producerLastReadVersion[l];if(h!==c.version||(Gh(c),h!==c.version))return!0}return!1}function ld(o){if(lo(o),la(o))for(let l=0;l<o.producerNode.length;l++)za(o.producerNode[l],o.producerIndexOfThis[l]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function za(o,l){if(function Rc(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),lo(o),1===o.liveConsumerNode.length)for(let h=0;h<o.producerNode.length;h++)za(o.producerNode[h],o.producerIndexOfThis[h]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[l]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[l]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,l<o.liveConsumerNode.length){const h=o.liveConsumerIndexOfThis[l],p=o.liveConsumerNode[l];lo(p),p.producerIndexOfThis[h]=l}}function la(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function lo(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let ud=null;function s_(o){const l=zi(null);try{return o()}finally{zi(l)}}const Xh=()=>{},Fc=(()=>({...od,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Xh}))();class Yh{constructor(l,c,h){this.previousValue=l,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ga(){return Qh}function Qh(o){return o.type.prototype.ngOnChanges&&(o.setInput=co),ca}function ca(){const o=pd(this),l=o?.current;if(l){const c=o.previous;if(c===Et)o.previous=l;else for(let h in l)c[h]=l[h];o.current=null,this.ngOnChanges(l)}}function co(o,l,c,h){const p=this.declaredInputs[c],_=pd(o)||function md(o,l){return o[ua]=l}(o,{previous:Et,current:null}),b=_.current||(_.current={}),C=_.previous,I=C[p];b[p]=new Yh(I&&I.currentValue,l,C===Et),o[h]=l}Ga.ngInherit=!0;const ua="__ngSimpleChanges__";function pd(o){return o[ua]||null}const Fs=function(o,l,c){},Jh="svg";function fn(o){for(;Array.isArray(o);)o=o[Wn];return o}function ha(o,l){return fn(l[o])}function Ar(o,l){return fn(l[o.index])}function _d(o,l){return o.data[l]}function Ls(o,l){return o[l]}function Br(o,l){const c=l[o];return hr(c)?c:c[Wn]}function pa(o,l){return null==l?null:o[l]}function Lc(o){o[Ir]=0}function yd(o){1024&o[Bt]||(o[Bt]|=1024,Mn(o,1))}function a_(o){1024&o[Bt]&&(o[Bt]&=-1025,Mn(o,-1))}function Mn(o,l){let c=o[wn];if(null===c)return;c[Ba]+=l;let h=c;for(c=c[wn];null!==c&&(1===l&&1===h[Ba]||-1===l&&0===h[Ba]);)c[Ba]+=l,h=c,c=c[wn]}const kt={lFrame:Vn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qa(){return kt.bindingsEnabled}function uo(){return null!==kt.skipHydrationRootTNode}function Oe(){return kt.lFrame.lView}function zt(){return kt.lFrame.tView}function jc(o){return kt.lFrame.contextLView=o,o[Kn]}function xd(o){return kt.lFrame.contextLView=null,o}function hi(){let o=Ed();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ed(){return kt.lFrame.currentTNode}function Mr(o,l){const c=kt.lFrame;c.currentTNode=o,c.isParent=l}function Dd(){return kt.lFrame.isParent}function Id(){kt.lFrame.isParent=!1}function fi(){const o=kt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Uo(){return kt.lFrame.bindingIndex++}function gs(o){const l=kt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}function u_(o,l){const c=kt.lFrame;c.bindingIndex=c.bindingRootIndex=o,sf(l)}function sf(o){kt.lFrame.currentDirectiveIndex=o}function Zp(){return kt.lFrame.currentQueryIndex}function Hc(o){kt.lFrame.currentQueryIndex=o}function d_(o){const l=o[Ye];return 2===l.type?l.declTNode:1===l.type?o[dr]:null}function pi(o,l,c){if(c&Dt.SkipSelf){let p=l,_=o;for(;!(p=p.parent,null!==p||c&Dt.Host||(p=d_(_),null===p||(_=_[io],10&p.type))););if(null===p)return!1;l=p,o=_}const h=kt.lFrame=jo();return h.currentTNode=l,h.lView=o,!0}function Rr(o){const l=jo(),c=o[Ye];kt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function jo(){const o=kt.lFrame,l=null===o?null:o.child;return null===l?Vn(o):l}function Vn(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function lt(){const o=kt.lFrame;return kt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const mi=lt;function Xa(){const o=lt();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function $i(){return kt.lFrame.selectedIndex}function Vs(o){kt.lFrame.selectedIndex=o}function bn(){const o=kt.lFrame;return _d(o.tView,o.selectedIndex)}function _s(){kt.lFrame.currentNamespace=Jh}function Ad(){!function af(){kt.lFrame.currentNamespace=null}()}let fo=!0;function ga(){return fo}function un(o){fo=o}function ys(o,l){for(let c=l.directiveStart,h=l.directiveEnd;c<h;c++){const _=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:R,ngOnDestroy:N}=_;b&&(o.contentHooks??=[]).push(-c,b),C&&((o.contentHooks??=[]).push(c,C),(o.contentCheckHooks??=[]).push(c,C)),I&&(o.viewHooks??=[]).push(-c,I),R&&((o.viewHooks??=[]).push(c,R),(o.viewCheckHooks??=[]).push(c,R)),null!=N&&(o.destroyHooks??=[]).push(c,N)}}function zc(o,l,c){ya(o,l,3,c)}function _a(o,l,c,h){(3&o[Bt])===c&&ya(o,l,c,h)}function lf(o,l){let c=o[Bt];(3&c)===l&&(c&=8191,c+=1,o[Bt]=c)}function ya(o,l,c,h){const _=h??-1,b=l.length-1;let C=0;for(let I=void 0!==h?65535&o[Ir]:0;I<b;I++)if("number"==typeof l[I+1]){if(C=l[I],null!=h&&C>=h)break}else l[I]<0&&(o[Ir]+=65536),(C<_||-1==_)&&(Rd(o,c,l,I),o[Ir]=(4294901760&o[Ir])+I+2),I++}function Ho(o,l){Fs(4,o,l);const c=zi(null);try{l.call(o)}finally{zi(c),Fs(5,o,l)}}function Rd(o,l,c,h){const p=c[h]<0,_=c[h+1],C=o[p?-c[h]:c[h]];p?o[Bt]>>13<o[Ir]>>16&&(3&o[Bt])===l&&(o[Bt]+=8192,Ho(C,_)):Ho(C,_)}const Jr=-1;class po{constructor(l,c,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function Kt(o){return o!==Jr}function jn(o){return 32767&o}function vs(o,l){let c=function tr(o){return o>>16}(o),h=l;for(;c>0;)h=h[io],c--;return h}let Zn=!0;function Jn(o){const l=Zn;return Zn=o,l}const uf=255,Gc=5;let zo=0;const Gi={};function Ur(o,l){const c=_o(o,l);if(-1!==c)return c;const h=l[Ye];h.firstCreatePass&&(o.injectorIndex=l.length,Ya(h.data,o),Ya(l,null),Ya(h.blueprint,null));const p=$o(o,l),_=o.injectorIndex;if(Kt(p)){const b=jn(p),C=vs(p,l),I=C[Ye].data;for(let R=0;R<8;R++)l[_+R]=C[b+R]|I[b+R]}return l[_+8]=p,_}function Ya(o,l){o.push(0,0,0,0,0,0,0,0,l)}function _o(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function $o(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,p=l;for(;null!==p;){if(h=Nd(p),null===h)return Jr;if(c++,p=p[io],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return Jr}function Qa(o,l,c){!function Hn(o,l,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(no)&&(h=c[no]),null==h&&(h=c[no]=zo++);const p=h&uf;l.data[o+(p>>Gc)]|=1<<p}(o,l,c)}function Go(o,l,c){if(c&Dt.Optional||void 0!==o)return o;Mt()}function Kc(o,l,c,h){if(c&Dt.Optional&&void 0===h&&(h=null),!(c&(Dt.Self|Dt.Host))){const p=o[Lo],_=Dn(void 0);try{return p?p.get(l,h,c&Dt.Optional):Un(l,h,c&Dt.Optional)}finally{Dn(_)}}return Go(h,0,c)}function oi(o,l,c,h=Dt.Default,p){if(null!==o){if(2048&l[Bt]&&!(h&Dt.Self)){const b=function hf(o,l,c,h,p){let _=o,b=l;for(;null!==_&&null!==b&&2048&b[Bt]&&!(512&b[Bt]);){const C=Ut(_,b,c,h|Dt.Self,Gi);if(C!==Gi)return C;let I=_.parent;if(!I){const R=b[jh];if(R){const N=R.get(c,Gi,h);if(N!==Gi)return N}I=Nd(b),b=b[io]}_=I}return p}(o,l,c,h,Gi);if(b!==Gi)return b}const _=Ut(o,l,c,h,Gi);if(_!==Gi)return _}return Kc(l,c,h,p)}function Ut(o,l,c,h,p){const _=function Wo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(no)?o[no]:void 0;return"number"==typeof l?l>=0?l&uf:ba:l}(c);if("function"==typeof _){if(!pi(l,o,h))return h&Dt.Host?Go(p,0,h):Kc(l,c,h,p);try{let b;if(b=_(h),null!=b||h&Dt.Optional)return b;Mt()}finally{mi()}}else if("number"==typeof _){let b=null,C=_o(o,l),I=Jr,R=h&Dt.Host?l[di][dr]:null;for((-1===C||h&Dt.SkipSelf)&&(I=-1===C?$o(o,l):l[C+8],I!==Jr&&bs(h,!1)?(b=l[Ye],C=jn(I),l=vs(I,l)):C=-1);-1!==C;){const N=l[Ye];if(Od(_,C,N.data)){const j=qc(C,l,c,b,h,R);if(j!==Gi)return j}I=l[C+8],I!==Jr&&bs(h,l[Ye].data[C+8]===R)&&Od(_,C,l)?(b=N,C=jn(I),l=vs(I,l)):C=-1}}return p}function qc(o,l,c,h,p,_){const b=l[Ye],C=b.data[o+8],N=Xc(C,b,c,null==h?Ji(C)&&Zn:h!=b&&0!=(3&C.type),p&Dt.Host&&_===C);return null!==N?ts(l,b,N,C):Gi}function Xc(o,l,c,h,p){const _=o.providerIndexes,b=l.data,C=1048575&_,I=o.directiveStart,N=_>>20,Y=p?C+N:o.directiveEnd;for(let te=h?C:C+N;te<Y;te++){const Ie=b[te];if(te<I&&c===Ie||te>=I&&Ie.type===c)return te}if(p){const te=b[I];if(te&&Tr(te)&&te.type===c)return I}return null}function ts(o,l,c,h){let p=o[c];const _=l.data;if(function Hl(o){return o instanceof po}(p)){const b=p;b.resolving&&function je(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new ue(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Re(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ae(o)}(_[c]));const C=Jn(b.canSeeViewProviders);b.resolving=!0;const R=b.injectImpl?Dn(b.injectImpl):null;pi(o,h,Dt.Default);try{p=o[c]=b.factory(void 0,_,o,h),l.firstCreatePass&&c>=h.directiveStart&&function Md(o,l,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=l.type.prototype;if(h){const b=Qh(l);(c.preOrderHooks??=[]).push(o,b),(c.preOrderCheckHooks??=[]).push(o,b)}p&&(c.preOrderHooks??=[]).push(0-o,p),_&&((c.preOrderHooks??=[]).push(o,_),(c.preOrderCheckHooks??=[]).push(o,_))}(c,_[c],l)}finally{null!==R&&Dn(R),Jn(C),b.resolving=!1,mi()}}return p}function Od(o,l,c){return!!(c[l+(o>>Gc)]&1<<o)}function bs(o,l){return!(o&Dt.Self||o&Dt.Host&&l)}class Rn{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,h){return oi(this._tNode,this._lView,l,rn(h),c)}}function ba(){return new Rn(hi(),Oe())}function df(o){return re(()=>{const l=o.prototype.constructor,c=l[Cr]||Pd(l),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const _=p[Cr]||Pd(p);if(_&&_!==c)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Pd(o){return Qe(o)?()=>{const l=Pd(Ve(o));return l&&l()}:ao(o)}function Nd(o){const l=o[Ye],c=l.type;return 2===c?l.declTNode:1===c?o[dr]:null}function Fd(o){return function Wc(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const _=c[p];if(Kr(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(_===l)return c[p+1];p+=2}}}return null}(hi(),o)}const D="__parameters__";function q(o,l,c){return re(()=>{const h=function V(o){return function(...c){if(o){const h=o(...c);for(const p in h)this[p]=h[p]}}}(l);function p(..._){if(this instanceof p)return h.apply(this,_),this;const b=new p(..._);return C.annotation=b,C;function C(I,R,N){const j=I.hasOwnProperty(D)?I[D]:Object.defineProperty(I,D,{value:[]})[D];for(;j.length<=N;)j.push(null);return(j[N]=j[N]||[]).push(b),I}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}function Qc(o,l){o.forEach(c=>Array.isArray(c)?Qc(c,l):l(c))}function Jv(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function Ja(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function Zc(o,l){const c=[];for(let h=0;h<o;h++)c.push(l);return c}function ws(o,l,c){let h=zl(o,l);return h>=0?o[1|h]=c:(h=~h,function h_(o,l,c,h){let p=o.length;if(p==l)o.push(c,h);else if(1===p)o.push(h,o[0]),o[0]=c;else{for(p--,o.push(o[p-1],o[p]);p>l;)o[p]=o[p-2],p--;o[l]=c,o[l+1]=h}}(o,h,l,c)),h}function em(o,l){const c=zl(o,l);if(c>=0)return o[1|c]}function zl(o,l){return function tm(o,l,c){let h=0,p=o.length>>c;for(;p!==h;){const _=h+(p-h>>1),b=o[_<<c];if(l===b)return _<<c;b>l?p=_:h=_+1}return~(p<<c)}(o,l,1)}const mf=Er(q("Optional"),8),gf=Er(q("SkipSelf"),4);function Yl(o){return 128==(128&o.flags)}var iu=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(iu||{});const Ea=/^>|^->|<!--|-->|--!>|<!-$/g,Ef=/(<|>)/g,am="\u200b$1\u200b";const lm=new Map;let zd=0;const um="__ngContext__";function Wi(o,l){hr(l)?(o[um]=l[Qr],function cm(o){lm.set(o[Qr],o)}(l)):o[um]=l}let Z;function Fe(o,l){return Z(o,l)}function st(o){const l=o[wn];return Zi(l)?l[wn]:l}function xs(o){return dm(o[Al])}function sl(o){return dm(o[Lr])}function dm(o){for(;null!==o&&!Zi(o);)o=o[Lr];return o}function ol(o,l,c,h,p){if(null!=h){let _,b=!1;Zi(h)?_=h:hr(h)&&(b=!0,h=h[Wn]);const C=fn(h);0===o&&null!==c?null==p?ME(l,c,C):Kd(l,c,C,p||null,!0):1===o&&null!==c?Kd(l,c,C,p||null,!0):2===o?function S_(o,l,c){const h=I_(o,l);h&&function TM(o,l,c,h){o.removeChild(l,c,h)}(o,h,l,c)}(l,C,b):3===o&&l.destroyNode(C),null!=_&&function MM(o,l,c,h,p){const _=c[Vr];_!==fn(c)&&ol(l,o,h,_,p);for(let C=Si;C<c.length;C++){const I=c[C];qd(I[Ye],I,o,l,h,_)}}(l,o,_,c,p)}}function Gd(o,l){return o.createComment(function Cf(o){return o.replace(Ea,l=>l.replace(Ef,am))}(l))}function Wd(o,l,c){return o.createElement(l,c)}function IE(o,l){const c=o[so],h=c.indexOf(l);a_(l),c.splice(h,1)}function C_(o,l){if(o.length<=Si)return;const c=Si+l,h=o[c];if(h){const p=h[Ua];null!==p&&p!==o&&IE(p,h),l>0&&(o[c-1][Lr]=h[Lr]);const _=Ja(o,Si+l);!function su(o,l){qd(o,l,l[Ct],2,null,null),l[Wn]=null,l[dr]=null}(h[Ye],h);const b=_[Sr];null!==b&&b.detachView(_[Ye]),h[wn]=null,h[Lr]=null,h[Bt]&=-129}return h}function SE(o,l){if(!(256&l[Bt])){const c=l[Ct];l[Vo]&&ld(l[Vo]),l[Os]&&ld(l[Os]),c.destroyNode&&qd(o,l,c,3,null,null),function cb(o){let l=o[Al];if(!l)return db(o[Ye],o);for(;l;){let c=null;if(hr(l))c=l[Al];else{const h=l[Si];h&&(c=h)}if(!c){for(;l&&!l[Lr]&&l!==o;)hr(l)&&db(l[Ye],l),l=l[wn];null===l&&(l=o),hr(l)&&db(l[Ye],l),c=l&&l[Lr]}l=c}}(l)}}function db(o,l){if(!(256&l[Bt])){l[Bt]&=-129,l[Bt]|=256,function D_(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const p=l[c[h]];if(!(p instanceof po)){const _=c[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const C=p[_[b]],I=_[b+1];Fs(4,C,I);try{I.call(C)}finally{Fs(5,C,I)}}else{Fs(4,p,_);try{_.call(p)}finally{Fs(5,p,_)}}}}}(o,l),function TE(o,l){const c=o.cleanup,h=l[Yr];if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const b=c[_+3];b>=0?h[b]():h[-b].unsubscribe(),_+=2}else c[_].call(h[c[_+1]]);null!==h&&(l[Yr]=null);const p=l[ms];if(null!==p){l[ms]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(o,l),1===l[Ye].type&&l[Ct].destroy();const c=l[Ua];if(null!==c&&Zi(l[wn])){c!==l[wn]&&IE(c,l);const h=l[Sr];null!==h&&h.detachView(o)}!function ab(o){lm.delete(o[Qr])}(l)}}function ou(o,l,c){return function AE(o,l,c){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return c[Wn];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:_}=o.data[h.directiveStart+p];if(_===gt.None||_===gt.Emulated)return null}return Ar(h,c)}}(o,l.parent,c)}function Kd(o,l,c,h,p){o.insertBefore(l,c,h,p)}function ME(o,l,c){o.appendChild(l,c)}function RE(o,l,c,h,p){null!==h?Kd(o,l,c,h,p):ME(o,l,c)}function I_(o,l){return o.parentNode(l)}function kE(o,l,c){return OE(o,l,c)}let If,A_,M_,R_,OE=function hb(o,l,c){return 40&o.type?Ar(o,c):null};function Jl(o,l,c,h){const p=ou(o,h,l),_=l[Ct],C=kE(h.parent||l[dr],h,l);if(null!=p)if(Array.isArray(c))for(let I=0;I<c.length;I++)RE(_,p,c[I],C,!1);else RE(_,p,c,C,!1);void 0!==If&&If(_,h,l,c,p)}function Sf(o,l){if(null!==l){const c=l.type;if(3&c)return Ar(l,o);if(4&c)return pb(-1,o[l.index]);if(8&c){const h=l.child;if(null!==h)return Sf(o,h);{const p=o[l.index];return Zi(p)?pb(-1,p):fn(p)}}if(32&c)return Fe(l,o)()||fn(o[l.index]);{const h=PE(o,l);return null!==h?Array.isArray(h)?h[0]:Sf(st(o[di]),h):Sf(o,l.next)}}return null}function PE(o,l){return null!==l?o[di][dr].projection[l.projection]:null}function pb(o,l){const c=Si+o+1;if(c<l.length){const h=l[c],p=h[Ye].firstChild;if(null!==p)return Sf(h,p)}return l[Vr]}function mb(o,l,c,h,p,_,b){for(;null!=c;){const C=h[c.index],I=c.type;if(b&&0===l&&(C&&Wi(fn(C),h),c.flags|=2),32!=(32&c.flags))if(8&I)mb(o,l,c.child,h,p,_,!1),ol(l,o,p,C,_);else if(32&I){const R=Fe(c,h);let N;for(;N=R();)ol(l,o,p,N,_);ol(l,o,p,C,_)}else 16&I?FE(o,l,h,c,p,_):ol(l,o,p,C,_);c=b?c.projectionNext:c.next}}function qd(o,l,c,h,p,_){mb(c,h,o.firstChild,l,p,_,!1)}function FE(o,l,c,h,p,_){const b=c[di],I=b[dr].projection[h.projection];if(Array.isArray(I))for(let R=0;R<I.length;R++)ol(l,o,p,I[R],_);else{let R=I;const N=b[wn];Yl(h)&&(R.flags|=128),mb(o,l,R,N,p,_,!0)}}function fm(o,l,c){""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c)}function LE(o,l,c){const{mergedAttrs:h,classes:p,styles:_}=c;null!==h&&bc(o,l,h),null!==p&&fm(o,l,p),null!==_&&function kM(o,l,c){o.setAttribute(l,"style",c)}(o,l,_)}function Tf(o){return function gb(){if(void 0===A_&&(A_=null,mn.trustedTypes))try{A_=mn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return A_}()?.createHTML(o)||o}function VE(o){M_=o}function jE(o){return function _b(){if(void 0===R_&&(R_=null,mn.trustedTypes))try{R_=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return R_}()?.createScriptURL(o)||o}class au{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xt})`}}class yb extends au{getTypeName(){return"HTML"}}class Mf extends au{getTypeName(){return"Style"}}class vb extends au{getTypeName(){return"Script"}}class FM extends au{getTypeName(){return"URL"}}class LM extends au{getTypeName(){return"ResourceURL"}}function al(o){return o instanceof au?o.changingThisBreaksApplicationSecurity:o}function ec(o,l){const c=function HE(o){return o instanceof au&&o.getTypeName()||null}(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${xt})`)}return c===l}function zE(o){return new yb(o)}function VM(o){return new Mf(o)}function BM(o){return new vb(o)}function UM(o){return new FM(o)}function jM(o){return new LM(o)}class HM{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Tf(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class zM{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const c=this.inertDocument.createElement("template");return c.innerHTML=Tf(l),c}}const $E=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function k_(o){return(o=String(o)).match($E)?o:"unsafe:"+o}function tc(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function gm(...o){const l={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(l[h]=!0);return l}const GE=tc("area,br,col,hr,img,wbr"),bo=tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),WE=tc("rp,rt"),bb=gm(GE,gm(bo,tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gm(WE,tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gm(WE,bo)),P_=tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KE=gm(P_,tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wb=tc("script,style,template");class qE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,h=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?h=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,h&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!bb.hasOwnProperty(c))return this.sanitizedSomething=!0,!wb.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const h=l.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),b=_.name,C=b.toLowerCase();if(!KE.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=_.value;P_[C]&&(I=k_(I)),this.buf.push(" ",b,'="',ll(I),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();bb.hasOwnProperty(c)&&!GE.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(ll(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const bV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XE=/([^\#-~ |!])/g;function ll(o){return o.replace(/&/g,"&amp;").replace(bV,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(XE,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let N_;function GM(o,l){let c=null;try{N_=N_||function pm(o){const l=new zM(o);return function mm(){try{return!!(new window.DOMParser).parseFromString(Tf(""),"text/html")}catch{return!1}}()?new HM(l):l}(o);let h=l?String(l):"";c=N_.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=c.innerHTML,c=N_.getInertBodyElement(h)}while(h!==_);return Tf((new qE).sanitizeChildren(YE(c)||c))}finally{if(c){const h=YE(c)||c;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function YE(o){return"content"in o&&function wV(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var lu=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(lu||{});function ZE(o){const l=F_();return l?l.sanitize(lu.URL,o)||"":ec(o,"URL")?al(o):k_(ae(o))}function JE(o){const l=F_();if(l)return jE(l.sanitize(lu.RESOURCE_URL,o)||"");if(ec(o,"ResourceURL"))return jE(al(o));throw new ue(904,!1)}function KM(o,l,c){return function EV(o,l){return"src"===l&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===l&&("base"===o||"link"===o)?JE:ZE}(l,c)(o)}function F_(){const o=Oe();return o&&o[ps].sanitizer}const Rf=new vt("ENVIRONMENT_INITIALIZER"),tC=new vt("INJECTOR",-1),nC=new vt("INJECTOR_DEF_TYPES");class L_{get(l,c=Gn){if(c===Gn){const h=new Error(`NullInjectorError: No provider for ${ie(l)}!`);throw h.name="NullInjectorError",h}return c}}function qM(...o){return{\u0275providers:rC(0,o),\u0275fromNgModule:!0}}function rC(o,...l){const c=[],h=new Set;let p;const _=b=>{c.push(b)};return Qc(l,b=>{const C=b;V_(C,_,[],h)&&(p||=[],p.push(C))}),void 0!==p&&sC(p,_),c}function sC(o,l){for(let c=0;c<o.length;c++){const{ngModule:h,providers:p}=o[c];Eb(p,_=>{l(_,h)})}}function V_(o,l,c,h){if(!(o=Ve(o)))return!1;let p=null,_=Li(o);const b=!_&&en(o);if(_||b){if(b&&!b.standalone)return!1;p=o}else{const I=o.ngModule;if(_=Li(I),!_)return!1;p=I}const C=h.has(p);if(b){if(C)return!1;if(h.add(p),b.dependencies){const I="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const R of I)V_(R,l,c,h)}}else{if(!_)return!1;{if(null!=_.imports&&!C){let R;h.add(p);try{Qc(_.imports,N=>{V_(N,l,c,h)&&(R||=[],R.push(N))})}finally{}void 0!==R&&sC(R,l)}if(!C){const R=ao(p)||(()=>new p);l({provide:p,useFactory:R,deps:rt},p),l({provide:nC,useValue:p,multi:!0},p),l({provide:Rf,useValue:()=>dn(p),multi:!0},p)}const I=_.providers;if(null!=I&&!C){const R=o;Eb(I,N=>{l(N,R)})}}}return p!==o&&void 0!==o.providers}function Eb(o,l){for(let c of o)He(c)&&(c=c.\u0275providers),Array.isArray(c)?Eb(c,l):l(c)}const DV=H({provide:String,useValue:H});function oC(o){return null!==o&&"object"==typeof o&&DV in o}function kf(o){return"function"==typeof o}const _m=new vt("Set Injector scope."),ki={},SV={};let cu;function ym(){return void 0===cu&&(cu=new L_),cu}class Da{}class cl extends Da{get destroyed(){return this._destroyed}constructor(l,c,h,p){super(),this.parent=c,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ib(l,b=>this.processProvider(b)),this.records.set(tC,Of(void 0,this)),p.has("environment")&&this.records.set(Da,Of(void 0,this));const _=this.records.get(_m);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(nC.multi,rt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of l)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const c=St(this),h=Dn(void 0);try{return l()}finally{St(c),Dn(h)}}get(l,c=Gn,h=Dt.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(Hu))return l[Hu](this);h=rn(h);const _=St(this),b=Dn(void 0);try{if(!(h&Dt.SkipSelf)){let I=this.records.get(l);if(void 0===I){const R=function ZM(o){return"function"==typeof o||"object"==typeof o&&o instanceof vt}(l)&&br(l);I=R&&this.injectableDefInScope(R)?Of(Cb(l),ki):null,this.records.set(l,I)}if(null!=I)return this.hydrate(l,I)}return(h&Dt.Self?ym():this.parent).get(l,c=h&Dt.Optional&&c===Gn?null:c)}catch(C){if("NullInjectorError"===C.name){if((C[ur]=C[ur]||[]).unshift(ie(l)),_)throw C;return function Dl(o,l,c,h){const p=o[ur];throw l[Ae]&&p.unshift(l[Ae]),o.message=function Ce(o,l,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=ie(l);if(Array.isArray(l))p=l.map(ie).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let C=l[b];_.push(b+":"+("string"==typeof C?JSON.stringify(C):ie(C)))}p=`{${_.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${o.replace(z,"\n  ")}`}("\n"+o.message,p,c,h),o.ngTokenPath=p,o[ur]=null,o}(C,l,"R3InjectorError",this.source)}throw C}finally{Dn(b),St(_)}}resolveInjectorInitializers(){const l=St(this),c=Dn(void 0);try{const p=this.get(Rf.multi,rt,Dt.Self);for(const _ of p)_()}finally{St(l),Dn(c)}}toString(){const l=[],c=this.records;for(const h of c.keys())l.push(ie(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(l){let c=kf(l=Ve(l))?l:Ve(l&&l.provide);const h=function B_(o){return oC(o)?Of(void 0,o.useValue):Of(uu(o),ki)}(l);if(kf(l)||!0!==l.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Of(void 0,ki,!0),p.factory=()=>Bi(p.multi),this.records.set(c,p)),c=l,p.multi.push(l)}this.records.set(c,h)}hydrate(l,c){return c.value===ki&&(c.value=SV,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Db(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=Ve(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(l){const c=this._onDestroyHooks.indexOf(l);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Cb(o){const l=br(o),c=null!==l?l.factory:ao(o);if(null!==c)return c;if(o instanceof vt)throw new ue(204,!1);if(o instanceof Function)return function vm(o){const l=o.length;if(l>0)throw Zc(l,"?"),new ue(204,!1);const c=function ui(o){return o&&(o[Xn]||o[Oo])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new ue(204,!1)}function uu(o,l,c){let h;if(kf(o)){const p=Ve(o);return ao(p)||Cb(p)}if(oC(o))h=()=>Ve(o.useValue);else if(function QM(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Bi(o.deps||[]));else if(function YM(o){return!(!o||!o.useExisting)}(o))h=()=>dn(Ve(o.useExisting));else{const p=Ve(o&&(o.useClass||o.provide));if(!function TV(o){return!!o.deps}(o))return ao(p)||Cb(p);h=()=>new p(...Bi(o.deps))}return h}function Of(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function Ib(o,l){for(const c of o)Array.isArray(c)?Ib(c,l):c&&He(c)?Ib(c.\u0275providers,l):l(c)}const JM=new vt("AppId",{providedIn:"root",factory:()=>du}),du="ng",U_=new vt("Platform Initializer"),aC=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eR=new vt("AnimationModuleType"),AV=new vt("CSP nonce",{providedIn:"root",factory:()=>function Af(){if(void 0!==M_)return M_;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uC=(o,l,c)=>null;function dC(o,l,c=!1){return uC(o,l,c)}class UV{}class iR{}class HV{resolveComponentFactory(l){throw function jV(o){const l=Error(`No component factory found for ${ie(o)}.`);return l.ngComponent=o,l}(l)}}let W_=(()=>{class o{static{this.NULL=new HV}}return o})();function zV(){return Em(hi(),Oe())}function Em(o,l){return new K_(Ar(o,l))}let K_=(()=>{class o{constructor(c){this.nativeElement=c}static{this.__NG_ELEMENT_ID__=zV}}return o})();function $V(o){return o instanceof K_?o.nativeElement:o}class sR{}let GV=(()=>{class o{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function WV(){const o=Oe(),c=Br(hi().index,o);return(hr(c)?c:o)[Ct]}()}}return o})(),KV=(()=>{class o{static{this.\u0275prov=at({token:o,providedIn:"root",factory:()=>null})}}return o})();class oR{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const aR=new oR("16.2.12"),pC={};function dR(o,l=null,c=null,h){const p=hR(o,l,c,h);return p.resolveInjectorInitializers(),p}function hR(o,l=null,c=null,h,p=new Set){const _=[c||rt,qM(o)];return h=h||("object"==typeof o?void 0:ie(o)),new cl(_,l||ym(),h||null,p)}let ul=(()=>{class o{static{this.THROW_IF_NOT_FOUND=Gn}static{this.NULL=new L_}static create(c,h){if(Array.isArray(c))return dR({name:""},h,c,"");{const p=c.name??"";return dR({name:p},c.parent,c.providers,p)}}static{this.\u0275prov=at({token:o,providedIn:"any",factory:()=>dn(tC)})}static{this.__NG_ELEMENT_ID__=-1}}return o})();function _C(o){return o.ngOriginalError}class Yd{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&_C(l);for(;c&&_C(c);)c=_C(c);return c||null}}function yC(o){return l=>{setTimeout(o,void 0,l)}}const nc=class eB extends d.B{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,h){let p=l,_=c||(()=>null),b=h;if(l&&"object"==typeof l){const I=l;p=I.next?.bind(I),_=I.error?.bind(I),b=I.complete?.bind(I)}this.__isAsync&&(_=yC(_),p&&(p=yC(p)),b&&(b=yC(b)));const C=super.subscribe({next:p,error:_,complete:b});return l instanceof ne.yU&&l.add(C),C}};function pR(...o){}class zr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function tB(){const o="function"==typeof mn.requestAnimationFrame;let l=mn[o?"requestAnimationFrame":"setTimeout"],c=mn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&c){const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h);const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function rB(o){const l=()=>{!function iB(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,bC(o),o.isCheckStableRunning=!0,vC(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),bC(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,_,b,C)=>{if(function oB(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(C))return c.invokeTask(p,_,b,C);try{return mR(o),c.invokeTask(p,_,b,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&l(),gR(o)}},onInvoke:(c,h,p,_,b,C,I)=>{try{return mR(o),c.invoke(p,_,b,C,I)}finally{o.shouldCoalesceRunChangeDetection&&l(),gR(o)}},onHasTask:(c,h,p,_)=>{c.hasTask(p,_),h===p&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,bC(o),vC(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,h,p,_)=>(c.handleError(p,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zr.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(zr.isInAngularZone())throw new ue(909,!1)}run(l,c,h){return this._inner.run(l,c,h)}runTask(l,c,h,p){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+p,l,nB,pR,pR);try{return _.runTask(b,c,h)}finally{_.cancelTask(b)}}runGuarded(l,c,h){return this._inner.runGuarded(l,c,h)}runOutsideAngular(l){return this._outer.run(l)}}const nB={};function vC(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function bC(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function mR(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function gR(o){o._nesting--,vC(o)}class sB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(l,c,h){return l.apply(c,h)}runGuarded(l,c,h){return l.apply(c,h)}runOutsideAngular(l){return l()}runTask(l,c,h,p){return l.apply(c,h)}}const _R=new vt("",{providedIn:"root",factory:yR});function yR(){const o=Lt(zr);let l=!0;const c=new U.c(p=>{l=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{p.next(l),p.complete()})}),h=new U.c(p=>{let _;o.runOutsideAngular(()=>{_=o.onStable.subscribe(()=>{zr.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(l=!0,p.next(!0))})})});const b=o.onUnstable.subscribe(()=>{zr.assertInAngularZone(),l&&(l=!1,o.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),b.unsubscribe()}});return(0,oe.h)(c,h.pipe((0,De.u)()))}function fu(o){return o instanceof Function?o():o}let wC=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=at({token:o,providedIn:"root",factory:()=>new o})}}return o})();function q_(o){for(;o;){o[Bt]|=64;const l=st(o);if(Bo(o)&&!l)return o;o=l}return null}const ER=new vt("",{providedIn:"root",factory:()=>!1});let Nf=null;function ai(o,l){return o[l]??Ki()}function Pb(o,l){const c=Ki();c.producerNode?.length&&(o[l]=Nf,c.lView=o,Nf=Sm())}const xC={...od,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{q_(o.lView)},lView:null};function Sm(){return Object.create(xC)}function Ki(){return Nf??=Sm(),Nf}const Pt={};function IR(o){SR(zt(),Oe(),$i()+o,!1)}function SR(o,l,c,h){if(!h)if(3==(3&l[Bt])){const _=o.preOrderCheckHooks;null!==_&&zc(l,_,c)}else{const _=o.preOrderHooks;null!==_&&_a(l,_,0,c)}Vs(c)}function Qd(o,l=Dt.Default){const c=Oe();return null===c?dn(o,l):oi(hi(),c,Ve(o),l)}function pu(){throw new Error("invalid")}function Y_(o,l,c,h,p,_,b,C,I,R,N){const j=l.blueprint.slice();return j[Wn]=p,j[Bt]=140|h,(null!==R||o&&2048&o[Bt])&&(j[Bt]|=2048),Lc(j),j[wn]=j[io]=o,j[Kn]=c,j[ps]=b||o&&o[ps],j[Ct]=C||o&&o[Ct],j[Lo]=I||o&&o[Lo]||null,j[dr]=_,j[Qr]=function Hr(){return zd++}(),j[ro]=N,j[jh]=R,j[di]=2==l.type?o[di]:j,j}function Ff(o,l,c,h,p){let _=o.data[l];if(null===_)_=function Nb(o,l,c,h,p){const _=Ed(),b=Dd(),I=o.data[l]=function OR(o,l,c,h,p,_){let b=l?l.injectorIndex:-1,C=0;return uo()&&(C|=128),{type:c,index:h,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,c,l,h,p);return null===o.firstChild&&(o.firstChild=I),null!==_&&(b?null==_.child&&null!==I.parent&&(_.child=I):null===_.next&&(_.next=I,I.prev=_)),I}(o,l,c,h,p),function nf(){return kt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=c,_.value=h,_.attrs=p;const b=function Cd(){const o=kt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Mr(_,!0),_}function Lf(o,l,c,h){if(0===c)return-1;const p=l.length;for(let _=0;_<c;_++)l.push(h),o.blueprint.push(h),o.data.push(null);return p}function AR(o,l,c,h,p){const _=ai(l,Vo),b=$i(),C=2&h;try{Vs(-1),C&&l.length>sn&&SR(o,l,sn,!1),Fs(C?2:0,p);const R=C?_:null,N=Ti(R);try{null!==R&&(R.dirty=!1),c(h,p)}finally{Mc(R,N)}}finally{C&&null===l[Vo]&&Pb(l,Vo),Vs(b),Fs(C?3:1,p)}}function Q_(o,l,c){if(Zu(l)){const h=zi(null);try{const _=l.directiveEnd;for(let b=l.directiveStart;b<_;b++){const C=o.data[b];C.contentQueries&&C.contentQueries(1,c[b],b)}}finally{zi(h)}}}function Fb(o,l,c){qa()&&(function CB(o,l,c,h){const p=c.directiveStart,_=c.directiveEnd;Ji(c)&&function MB(o,l,c){const h=Ar(l,o),p=Lb(c);let b=16;c.signals?b=4096:c.onPush&&(b=64);const C=ey(o,Y_(o,p,null,b,h,l,null,o[ps].rendererFactory.createRenderer(h,c),null,null,null));o[l.index]=C}(l,c,o.data[p+c.componentOffset]),o.firstCreatePass||Ur(c,l),Wi(h,l);const b=c.initialInputs;for(let C=p;C<_;C++){const I=o.data[C],R=ts(l,o,C,c);Wi(R,l),null!==b&&TC(0,C-p,R,I,0,b),Tr(I)&&(Br(c.index,l)[Kn]=ts(l,o,C,c))}}(o,l,c,Ar(c,l)),64==(64&c.flags)&&VR(o,l,c))}function Z_(o,l,c=Ar){const h=l.localNames;if(null!==h){let p=l.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],C=-1===b?c(l,o):o[b];o[p++]=C}}}function Lb(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=EC(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):l}function EC(o,l,c,h,p,_,b,C,I,R,N){const j=sn+h,Y=j+p,te=function MR(o,l){const c=[];for(let h=0;h<l;h++)c.push(h<o?null:Pt);return c}(j,Y),Ie="function"==typeof R?R():R;return te[Ye]={type:o,blueprint:te,template:c,queries:null,viewQuery:C,declTNode:l,data:te.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:Ie,incompleteFirstPass:!1,ssrId:N}}let kR=o=>null;function PR(o,l,c,h){for(let p in o)if(o.hasOwnProperty(p)){c=null===c?{}:c;const _=o[p];null===h?NR(c,l,p,_):h.hasOwnProperty(p)&&NR(c,l,h[p],_)}return c}function NR(o,l,c,h){o.hasOwnProperty(c)?o[c].push(l,h):o[c]=[l,h]}function Yo(o,l,c,h,p,_,b,C){const I=Ar(l,c);let N,R=l.inputs;!C&&null!=R&&(N=R[h])?(jb(o,c,N,h,p),Ji(l)&&function FR(o,l){const c=Br(l,o);16&c[Bt]||(c[Bt]|=64)}(c,l.index)):3&l.type&&(h=function wB(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=b?b(p,l.value||"",h):p,_.setProperty(I,h,p))}function Vb(o,l,c,h){if(qa()){const p=null===h?null:{"":-1},_=function BR(o,l){const c=o.directiveRegistry;let h=null,p=null;if(c)for(let _=0;_<c.length;_++){const b=c[_];if(Cc(l,b.selectors,!1))if(h||(h=[]),Tr(b))if(null!==b.findHostDirectiveDefs){const C=[];p=p||new Map,b.findHostDirectiveDefs(b,C,p),h.unshift(...C,b),SC(o,l,C.length)}else h.unshift(b),SC(o,l,0);else p=p||new Map,b.findHostDirectiveDefs?.(b,h,p),h.push(b)}return null===h?null:[h,p]}(o,c);let b,C;null===_?b=C=null:[b,C]=_,null!==b&&DC(o,l,c,b,p,C),p&&function IB(o,l,c){if(l){const h=o.localNames=[];for(let p=0;p<l.length;p+=2){const _=c[l[p+1]];if(null==_)throw new ue(-301,!1);h.push(l[p],_)}}}(c,h,p)}c.mergedAttrs=ia(c.mergedAttrs,c.attrs)}function DC(o,l,c,h,p,_){for(let R=0;R<h.length;R++)Qa(Ur(c,l),o,h[R].type);!function TB(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}(c,o.data.length,h.length);for(let R=0;R<h.length;R++){const N=h[R];N.providersResolver&&N.providersResolver(N)}let b=!1,C=!1,I=Lf(o,l,h.length,null);for(let R=0;R<h.length;R++){const N=h[R];c.mergedAttrs=ia(c.mergedAttrs,N.hostAttrs),AB(o,c,l,I,N),SB(I,N,p),null!==N.contentQueries&&(c.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=64);const j=N.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),b=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),C=!0),I++}!function bB(o,l,c){const p=l.directiveEnd,_=o.data,b=l.attrs,C=[];let I=null,R=null;for(let N=l.directiveStart;N<p;N++){const j=_[N],Y=c?c.get(j):null,Ie=Y?Y.outputs:null;I=PR(j.inputs,N,I,Y?Y.inputs:null),R=PR(j.outputs,N,R,Ie);const $e=null===I||null===b||Bp(l)?null:UR(I,N,b);C.push($e)}null!==I&&(I.hasOwnProperty("class")&&(l.flags|=8),I.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=I,l.outputs=R}(o,c,_)}function VR(o,l,c){const h=c.directiveStart,p=c.directiveEnd,_=c.index,b=function rf(){return kt.lFrame.currentDirectiveIndex}();try{Vs(_);for(let C=h;C<p;C++){const I=o.data[C],R=l[C];sf(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&DB(I,R)}}finally{Vs(-1),sf(b)}}function DB(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function SC(o,l,c){l.componentOffset=c,(o.components??=[]).push(l.index)}function SB(o,l,c){if(c){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)c[l.exportAs[h]]=o;Tr(l)&&(c[""]=o)}}function AB(o,l,c,h,p){o.data[h]=p;const _=p.factory||(p.factory=ao(p.type)),b=new po(_,Tr(p),Qd);o.blueprint[h]=b,c[h]=b,function IC(o,l,c,h,p){const _=p.hostBindings;if(_){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const C=~l.index;(function EB(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(b)!=C&&b.push(C),b.push(c,h,_)}}(o,l,h,Lf(o,c,p.hostVars,Pt),p)}function ic(o,l,c,h,p,_){const b=Ar(o,l);!function J_(o,l,c,h,p,_,b){if(null==_)o.removeAttribute(l,p,c);else{const C=null==b?ae(_):b(_,h||"",p);o.setAttribute(l,p,C,c)}}(l[Ct],b,_,o.value,c,h,p)}function TC(o,l,c,h,p,_){const b=_[l];if(null!==b)for(let C=0;C<b.length;)AC(h,c,b[C++],b[C++],b[C++])}function AC(o,l,c,h,p){const _=zi(null);try{const b=o.inputTransforms;null!==b&&b.hasOwnProperty(h)&&(p=b[h].call(l,p)),null!==o.setInput?o.setInput(l,p,c,h):l[h]=p}finally{zi(_)}}function UR(o,l,c){let h=null,p=0;for(;p<c.length;){const _=c[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(o.hasOwnProperty(_)){null===h&&(h=[]);const b=o[_];for(let C=0;C<b.length;C+=2)if(b[C]===l){h.push(_,b[C+1],c[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function Bb(o,l,c,h){return[o,!0,!1,l,null,0,h,c,null,null,null]}function Zd(o,l){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const _=c[h+1];if(-1!==_){const b=o.data[_];Hc(c[h]),b.contentQueries(2,l[_],_)}}}function ey(o,l){return o[Al]?o[Ml][Lr]=l:o[Al]=l,o[Ml]=l,l}function Ub(o,l,c){Hc(0);const h=zi(null);try{l(o,c)}finally{zi(h)}}function MC(o){return o[Yr]||(o[Yr]=[])}function RC(o){return o.cleanup||(o.cleanup=[])}function jR(o,l){const c=o[Lo],h=c?c.get(Yd,null):null;h&&h.handleError(l)}function jb(o,l,c,h,p){for(let _=0;_<c.length;){const b=c[_++],C=c[_++];AC(o.data[b],l[b],h,C,p)}}function HR(o,l){const c=Br(l,o),h=c[Ye];!function kB(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])}(h,c);const p=c[Wn];null!==p&&null===c[ro]&&(c[ro]=dC(p,c[Lo])),ty(h,c,c[Kn])}function ty(o,l,c){Rr(l);try{const h=o.viewQuery;null!==h&&Ub(1,h,c);const p=o.template;null!==p&&AR(o,l,p,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Zd(o,l),o.staticViewQueries&&Ub(2,o.viewQuery,c);const _=o.components;null!==_&&function OC(o,l){for(let c=0;c<l.length;c++)HR(o,l[c])}(l,_)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{l[Bt]&=-5,Xa()}}let ny=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,h,p){const _=typeof Zone>"u"?null:Zone.current,b=function qh(o,l,c){const h=Object.create(Fc);c&&(h.consumerAllowSignalWrites=!0),h.fn=o,h.schedule=l;const p=b=>{h.cleanupFn=b};return h.ref={notify:()=>Gp(h),run:()=>{if(h.dirty=!1,h.hasRun&&!ad(h))return;h.hasRun=!0;const b=Ti(h);try{h.cleanupFn(),h.cleanupFn=Xh,h.fn(p)}finally{Mc(h,b)}},cleanup:()=>h.cleanupFn()},h.ref}(c,R=>{this.all.has(R)&&this.queue.set(R,_)},p);let C;this.all.add(b),b.notify();const I=()=>{b.cleanup(),C?.(),this.all.delete(b),this.queue.delete(b)};return C=h?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[c,h]of this.queue)this.queue.delete(c),h?h.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=at({token:o,providedIn:"root",factory:()=>new o})}}return o})();function Hb(o,l,c){let h=c?o.styles:null,p=c?o.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const C=l[b];"number"==typeof C?_=C:1==_?p=We(p,C):2==_&&(h=We(h,C+": "+l[++b]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=p:o.classesWithoutHost=p}function Tm(o,l,c,h,p=!1){for(;null!==c;){const _=l[c.index];null!==_&&h.push(fn(_)),Zi(_)&&PC(_,h);const b=c.type;if(8&b)Tm(o,l,c.child,h);else if(32&b){const C=Fe(c,l);let I;for(;I=C();)h.push(I)}else if(16&b){const C=PE(l,c);if(Array.isArray(C))h.push(...C);else{const I=st(l[di]);Tm(I[Ye],I,C,h,!0)}}c=p?c.projectionNext:c.next}return h}function PC(o,l){for(let c=Si;c<o.length;c++){const h=o[c],p=h[Ye].firstChild;null!==p&&Tm(h[Ye],h,p,l)}o[Vr]!==o[Wn]&&l.push(o[Vr])}function iy(o,l,c,h=!0){const p=l[ps],_=p.rendererFactory,b=p.afterRenderEventManager;_.begin?.(),b?.begin();try{$R(o,l,o.template,c)}catch(I){throw h&&jR(l,I),I}finally{_.end?.(),p.effectManager?.flush(),b?.end()}}function $R(o,l,c,h){const p=l[Bt];if(256!=(256&p)){l[ps].effectManager?.flush(),Rr(l);try{Lc(l),function Sd(o){return kt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&AR(o,l,c,2,h);const b=3==(3&p);if(b){const R=o.preOrderCheckHooks;null!==R&&zc(l,R,null)}else{const R=o.preOrderHooks;null!==R&&_a(l,R,0,null),lf(l,0)}if(function NC(o){for(let l=xs(o);null!==l;l=sl(l)){if(!l[Ps])continue;const c=l[so];for(let h=0;h<c.length;h++){yd(c[h])}}}(l),Vf(l,2),null!==o.contentQueries&&Zd(o,l),b){const R=o.contentCheckHooks;null!==R&&zc(l,R)}else{const R=o.contentHooks;null!==R&&_a(l,R,1),lf(l,1)}!function TR(o,l){const c=o.hostBindingOpCodes;if(null===c)return;const h=ai(l,Os);try{for(let p=0;p<c.length;p++){const _=c[p];if(_<0)Vs(~_);else{const b=_,C=c[++p],I=c[++p];u_(C,b),h.dirty=!1;const R=Ti(h);try{I(2,l[b])}finally{Mc(h,R)}}}}finally{null===l[Os]&&Pb(l,Os),Vs(-1)}}(o,l);const C=o.components;null!==C&&FC(l,C,0);const I=o.viewQuery;if(null!==I&&Ub(2,I,h),b){const R=o.viewCheckHooks;null!==R&&zc(l,R)}else{const R=o.viewHooks;null!==R&&_a(l,R,2),lf(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[Bt]&=-73,a_(l)}finally{Xa()}}}function Vf(o,l){for(let c=xs(o);null!==c;c=sl(c))for(let h=Si;h<c.length;h++)GR(c[h],l)}function PB(o,l,c){GR(Br(l,o),c)}function GR(o,l){if(!function qp(o){return 128==(128&o[Bt])}(o))return;const c=o[Ye],h=o[Bt];if(80&h&&0===l||1024&h||2===l)$R(c,o,c.template,o[Kn]);else if(o[Ba]>0){Vf(o,1);const p=c.components;null!==p&&FC(o,p,1)}}function FC(o,l,c){for(let h=0;h<l.length;h++)PB(o,l[h],c)}class Mm{get rootNodes(){const l=this._lView,c=l[Ye];return Tm(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(l){this._lView[Kn]=l}get destroyed(){return 256==(256&this._lView[Bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[wn];if(Zi(l)){const c=l[8],h=c?c.indexOf(this):-1;h>-1&&(C_(l,h),Ja(c,h))}this._attachedToViewContainer=!1}SE(this._lView[Ye],this._lView)}onDestroy(l){!function Xp(o,l){if(256==(256&o[Bt]))throw new ue(911,!1);null===o[ms]&&(o[ms]=[]),o[ms].push(l)}(this._lView,l)}markForCheck(){q_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bt]&=-129}reattach(){this._lView[Bt]|=128}detectChanges(){iy(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function E_(o,l){qd(o,l,l[Ct],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=l}}class WR extends Mm{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;iy(l[Ye],l,l[Kn],!1)}checkNoChanges(){}get context(){return null}}class LC extends W_{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=en(l);return new ry(c,this.ngModule)}}function VC(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class BC{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,h){h=rn(h);const p=this.injector.get(l,pC,h);return p!==pC||c===pC?p:this.parentInjector.get(l,c,h)}}class ry extends iR{get inputs(){const l=this.componentDef,c=l.inputTransforms,h=VC(l.inputs);if(null!==c)for(const p of h)c.hasOwnProperty(p.propName)&&(p.transform=c[p.propName]);return h}get outputs(){return VC(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function qr(o){return o.map(Uh).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,h,p){let _=(p=p||this.ngModule)instanceof Da?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new BC(l,_):l,C=b.get(sR,null);if(null===C)throw new ue(407,!1);const j={rendererFactory:C,sanitizer:b.get(KV,null),effectManager:b.get(ny,null),afterRenderEventManager:b.get(wC,null)},Y=C.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",Ie=h?function _B(o,l,c,h){const _=h.get(ER,!1)||c===gt.ShadowDom,b=o.selectRootElement(l,_);return function RR(o){kR(o)}(b),b}(Y,h,this.componentDef.encapsulation,b):Wd(Y,te,function KR(o){const l=o.toLowerCase();return"svg"===l?Jh:"math"===l?"math":null}(te)),dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ne=null;null!==Ie&&(Ne=dC(Ie,b,!0));const $t=EC(0,null,null,1,0,null,null,null,null,null,null),tn=Y_(null,$t,null,dt,null,null,j,Y,b,null,Ne);let Pn,Hs;Rr(tn);try{const mc=this.componentDef;let xh,mr=null;mc.findHostDirectiveDefs?(xh=[],mr=new Map,mc.findHostDirectiveDefs(mc,xh,mr),xh.push(mc)):xh=[mc];const Bw=function qR(o,l){const c=o[Ye],h=sn;return o[h]=l,Ff(c,h,2,"#host",null)}(tn,Ie),Ma=function XR(o,l,c,h,p,_,b){const C=p[Ye];!function nr(o,l,c,h){for(const p of o)l.mergedAttrs=ia(l.mergedAttrs,p.hostAttrs);null!==l.mergedAttrs&&(Hb(l,l.mergedAttrs,!0),null!==c&&LE(h,c,l))}(h,o,l,b);let I=null;null!==l&&(I=dC(l,p[Lo]));const R=_.rendererFactory.createRenderer(l,c);let N=16;c.signals?N=4096:c.onPush&&(N=64);const j=Y_(p,Lb(c),null,N,p[o.index],o,_,R,null,null,I);return C.firstCreatePass&&SC(C,o,h.length-1),ey(p,j),p[o.index]=j}(Bw,Ie,mc,xh,tn,j,Y);Hs=_d($t,sn),Ie&&function LB(o,l,c,h){if(h)bc(o,c,["ng-version",aR.full]);else{const{attrs:p,classes:_}=function $u(o){const l=[],c=[];let h=1,p=2;for(;h<o.length;){let _=o[h];if("string"==typeof _)2===p?""!==_&&l.push(_,o[++h]):8===p&&c.push(_);else{if(!Ii(p))break;p=_}h++}return{attrs:l,classes:c}}(l.selectors[0]);p&&bc(o,c,p),_&&_.length>0&&fm(o,c,_.join(" "))}}(Y,mc,Ie,h),void 0!==c&&function VB(o,l,c){const h=o.projection=[];for(let p=0;p<l.length;p++){const _=c[p];h.push(null!=_?Array.from(_):null)}}(Hs,this.ngContentSelectors,c),Pn=function FB(o,l,c,h,p,_){const b=hi(),C=p[Ye],I=Ar(b,p);DC(C,p,b,c,null,h);for(let N=0;N<c.length;N++)Wi(ts(p,C,b.directiveStart+N,b),p);VR(C,p,b),I&&Wi(I,p);const R=ts(p,C,b.directiveStart+b.componentOffset,b);if(o[Kn]=p[Kn]=R,null!==_)for(const N of _)N(R,l);return Q_(C,b,o),R}(Ma,mc,xh,mr,tn,[UC]),ty($t,tn,null)}finally{Xa()}return new NB(this.componentType,Pn,Em(Hs,tn),tn,Hs)}}class NB extends UV{constructor(l,c,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new WR(p),this.componentType=l}setInput(l,c){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),c))return;const _=this._rootLView;jb(_[Ye],_,p,l,c),this.previousInputValues.set(l,c),q_(Br(this._tNode.index,_))}}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function UC(){const o=hi();ys(Oe()[Ye],o)}function oy(o){let l=function sy(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;l;){let p;if(Tr(o))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ue(903,!1);p=l.\u0275dir}if(p){if(c){h.push(p);const b=o;b.inputs=Rm(o.inputs),b.inputTransforms=Rm(o.inputTransforms),b.declaredInputs=Rm(o.declaredInputs),b.outputs=Rm(o.outputs);const C=p.hostBindings;C&&QR(o,C);const I=p.viewQuery,R=p.contentQueries;if(I&&BB(o,I),R&&UB(o,R),K(o.inputs,p.inputs),K(o.declaredInputs,p.declaredInputs),K(o.outputs,p.outputs),null!==p.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),K(b.inputTransforms,p.inputTransforms)),Tr(p)&&p.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let b=0;b<_.length;b++){const C=_[b];C&&C.ngInherit&&C(o),C===oy&&(c=!1)}}l=Object.getPrototypeOf(l)}!function YR(o){let l=0,c=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=l+=p.hostVars,p.hostAttrs=ia(p.hostAttrs,c=ia(c,p.hostAttrs))}}(h)}function Rm(o){return o===Et?{}:o===rt?[]:o}function BB(o,l){const c=o.viewQuery;o.viewQuery=c?(h,p)=>{l(h,p),c(h,p)}:l}function UB(o,l){const c=o.contentQueries;o.contentQueries=c?(h,p,_)=>{l(h,p,_),c(h,p,_)}:l}function QR(o,l){const c=o.hostBindings;o.hostBindings=c?(h,p)=>{l(h,p),c(h,p)}:l}function zb(o){const l=o.inputConfig,c={};for(const h in l)if(l.hasOwnProperty(h)){const p=l[h];Array.isArray(p)&&p[2]&&(c[h]=p[2])}o.inputTransforms=c}function $b(o){return!!Gb(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Gb(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function dl(o,l,c){return o[l]=c}function rs(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function Uf(o,l,c,h){const p=Oe();return rs(p,Uo(),l)&&(zt(),ic(bn(),p,o,l,c,h)),Uf}function Jd(o,l,c,h){return rs(o,Uo(),c)?l+ae(c)+h:Pt}function fk(o,l,c,h,p,_,b,C){const I=Oe(),R=zt(),N=o+sn,j=R.firstCreatePass?function ZB(o,l,c,h,p,_,b,C,I){const R=l.consts,N=Ff(l,o,4,b||null,pa(R,C));Vb(l,c,N,pa(R,I)),ys(l,N);const j=N.tView=EC(2,N,h,p,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,R,null);return null!==l.queries&&(l.queries.template(l,N),j.queries=l.queries.embeddedTView(N)),N}(N,R,I,l,c,h,p,_,b):R.data[N];Mr(j,!1);const Y=nD(R,I,j,o);ga()&&Jl(R,I,Y,j),Wi(Y,I),ey(I,I[N]=Bb(Y,I,Y,j)),oa(j)&&Fb(R,I,j),null!=b&&Z_(I,j,C)}let nD=function pk(o,l,c,h){return un(!0),l[Ct].createComment("")};function hl(o){return Ls(function c_(){return kt.lFrame.contextLView}(),sn+o)}function ih(o,l,c){const h=Oe();return rs(h,Uo(),l)&&Yo(zt(),bn(),h,o,l,h[Ct],c,!1),ih}function iD(o,l,c,h,p){const b=p?"class":"style";jb(o,c,l.inputs[b],b,h)}function Zo(o,l,c,h){const p=Oe(),_=zt(),b=sn+o,C=p[Ct],I=_.firstCreatePass?function gu(o,l,c,h,p,_){const b=l.consts,I=Ff(l,o,2,h,pa(b,p));return Vb(l,c,I,pa(b,_)),null!==I.attrs&&Hb(I,I.attrs,!1),null!==I.mergedAttrs&&Hb(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(b,_,p,l,c,h):_.data[b],R=dy(_,p,I,C,l,o);p[b]=R;const N=oa(I);return Mr(I,!0),LE(C,R,I),32!=(32&I.flags)&&ga()&&Jl(_,p,R,I),0===function Ai(){return kt.lFrame.elementDepthCount}()&&Wi(R,p),function tf(){kt.lFrame.elementDepthCount++}(),N&&(Fb(_,p,I),Q_(_,I,p)),null!==h&&Z_(p,I),Zo}function Bm(){let o=hi();Dd()?Id():(o=o.parent,Mr(o,!1));const l=o;(function Bc(o){return kt.skipHydrationRootTNode===o})(l)&&function Vl(){kt.skipHydrationRootTNode=null}(),function er(){kt.lFrame.elementDepthCount--}();const c=zt();return c.firstCreatePass&&(ys(c,o),Zu(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function es(o){return 0!=(8&o.flags)}(l)&&iD(c,l,Oe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Mi(o){return 0!=(16&o.flags)}(l)&&iD(c,l,Oe(),l.stylesWithoutHost,!1),Bm}function Bs(o,l,c,h){return Zo(o,l,c,h),Bm(),Bs}let dy=(o,l,c,h,p,_)=>(un(!0),Wd(h,p,function ma(){return kt.lFrame.currentNamespace}()));function fy(o,l,c){const h=Oe(),p=zt(),_=o+sn,b=p.firstCreatePass?function hy(o,l,c,h,p){const _=l.consts,b=pa(_,h),C=Ff(l,o,8,"ng-container",b);return null!==b&&Hb(C,b,!0),Vb(l,c,C,pa(_,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(_,p,h,l,c):p.data[_];Mr(b,!0);const C=rD(p,h,b,o);return h[_]=C,ga()&&Jl(p,h,C,b),Wi(C,h),oa(b)&&(Fb(p,h,b),Q_(p,b,h)),null!=c&&Z_(h,b),fy}function py(){let o=hi();const l=zt();return Dd()?Id():(o=o.parent,Mr(o,!1)),l.firstCreatePass&&(ys(l,o),Zu(o)&&l.queries.elementEnd(o)),py}function Zb(o,l,c){return fy(o,l,c),py(),Zb}let rD=(o,l,c,h)=>(un(!0),Gd(l[Ct],""));function oD(){return Oe()}function Jb(o){return!!o&&"function"==typeof o.then}function aD(o){return!!o&&"function"==typeof o.subscribe}function Um(o,l,c,h){const p=Oe(),_=zt(),b=hi();return function lD(o,l,c,h,p,_,b){const C=oa(h),R=o.firstCreatePass&&RC(o),N=l[Kn],j=MC(l);let Y=!0;if(3&h.type||b){const $e=Ar(h,l),nt=b?b($e):$e,dt=j.length,Ne=b?tn=>b(fn(tn[h.index])):h.index;let $t=null;if(!b&&C&&($t=function e0(o,l,c,h){const p=o.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const b=p[_];if(b===c&&p[_+1]===h){const C=l[Yr],I=p[_+2];return C.length>I?C[I]:null}"string"==typeof b&&(_+=2)}return null}(o,l,p,h.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=_,$t.__ngLastListenerFn__=_,Y=!1;else{_=t0(h,l,N,_,!1);const tn=c.listen(nt,p,_);j.push(_,tn),R&&R.push(p,Ne,dt,dt+1)}}else _=t0(h,l,N,_,!1);const te=h.outputs;let Ie;if(Y&&null!==te&&(Ie=te[p])){const $e=Ie.length;if($e)for(let nt=0;nt<$e;nt+=2){const Pn=l[Ie[nt]][Ie[nt+1]].subscribe(_),Hs=j.length;j.push(_,Pn),R&&R.push(p,h.index,Hs,-(Hs+1))}}}(_,p,p[Ct],b,o,l,h),Um}function cD(o,l,c,h){try{return Fs(6,l,c),!1!==c(h)}catch(p){return jR(o,p),!1}finally{Fs(7,l,c)}}function t0(o,l,c,h,p){return function _(b){if(b===Function)return h;q_(o.componentOffset>-1?Br(o.index,l):l);let I=cD(l,c,h,b),R=_.__ngNextListenerFn__;for(;R;)I=cD(l,c,R,b)&&I,R=R.__ngNextListenerFn__;return p&&!1===I&&b.preventDefault(),I}}function uD(o=1){return function jl(o){return(kt.lFrame.contextLView=function Td(o,l){for(;o>0;)l=l[io],o--;return l}(o,kt.lFrame.contextLView))[Kn]}(o)}function bk(o,l){let c=null;const h=function Zg(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(o);for(let p=0;p<l.length;p++){const _=l[p];if("*"!==_){if(null===h?Cc(o,_,!0):Sl(h,_))return p}else c=p}return c}function dD(o){const l=Oe()[di][dr];if(!l.projection){const h=l.projection=Zc(o?o.length:1,null),p=h.slice();let _=l.child;for(;null!==_;){const b=o?bk(_,o):0;null!==b&&(p[b]?p[b].projectionNext=_:h[b]=_,p[b]=_),_=_.next}}}function n0(o,l=0,c){const h=Oe(),p=zt(),_=Ff(p,sn+o,16,null,c||null);null===_.projection&&(_.projection=l),Id(),(!h[ro]||uo())&&32!=(32&_.flags)&&function NE(o,l,c){FE(l[Ct],0,l,c,ou(o,c,l),kE(c.parent||l[dr],c,l))}(p,h,_)}function sh(o,l){return o<<17|l<<2}function rc(o){return o>>17&32767}function _u(o){return 2|o}function Gf(o){return(131068&o)>>2}function Ia(o,l){return-131069&o|l<<2}function qt(o){return 1|o}function Xt(o,l,c,h,p){const _=o[c+1],b=null===l;let C=h?rc(_):Gf(_),I=!1;for(;0!==C&&(!1===I||b);){const N=o[C+1];Ek(o[C],l)&&(I=!0,o[C+1]=h?qt(N):_u(N)),C=h?rc(N):Gf(N)}I&&(o[c+1]=h?_u(_):qt(_))}function Ek(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&zl(o,l)>=0}const ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function On(o){return o.substring(ir.key,ir.keyEnd)}function Hm(o,l){const c=ir.textEnd;return c===l?-1:(l=ir.keyEnd=function Ck(o,l,c){for(;l<c&&o.charCodeAt(l)>32;)l++;return l}(o,ir.key=l,c),fl(o,l,c))}function fl(o,l,c){for(;l<c&&o.charCodeAt(l)<=32;)l++;return l}function zm(o,l,c){return pn(o,l,c,!1),zm}function ah(o,l){return pn(o,l,null,!0),ah}function gn(o,l){for(let c=function _y(o){return function Sa(o){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=o.length}(o),Hm(o,fl(o,0,ir.textEnd))}(l);c>=0;c=Hm(l,c))ws(o,On(l),!0)}function pn(o,l,c,h){const p=Oe(),_=zt(),b=gs(2);_.firstUpdatePass&&xD(_,o,b,h),l!==Pt&&rs(p,b,l)&&ID(_,_.data[$i()],p,p[Ct],o,p[b+1]=function l0(o,l){return null==o||""===o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ie(al(o)))),o}(l,c),h,b)}function $m(o,l){return l>=o.expandoStartIndex}function xD(o,l,c,h){const p=o.data;if(null===p[c+1]){const _=p[$i()],b=$m(o,c);c0(_,h)&&null===l&&!b&&(l=!1),l=function qi(o,l,c,h){const p=function Ul(o){const l=kt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}(o);let _=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(c=sc(c=Jo(null,o,l,c,h),l.attrs,h),_=null);else{const b=l.directiveStylingLast;if(-1===b||o[b]!==p)if(c=Jo(p,o,l,c,h),null===_){let I=function lh(o,l,c){const h=c?l.classBindings:l.styleBindings;if(0!==Gf(h))return o[rc(h)]}(o,l,h);void 0!==I&&Array.isArray(I)&&(I=Jo(null,o,l,I[1],h),I=sc(I,l.attrs,h),function ED(o,l,c,h){o[rc(c?l.classBindings:l.styleBindings)]=h}(o,l,h,I))}else _=function yu(o,l,c){let h;const p=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<p;_++)h=sc(h,o[_].hostAttrs,c);return sc(h,l.attrs,c)}(o,l,h)}return void 0!==_&&(h?l.residualClasses=_:l.residualStyles=_),c}(p,_,l,h),function Oi(o,l,c,h,p,_){let b=_?l.classBindings:l.styleBindings,C=rc(b),I=Gf(b);o[h]=c;let N,R=!1;if(Array.isArray(c)?(N=c[1],(null===N||zl(c,N)>0)&&(R=!0)):N=c,p)if(0!==I){const Y=rc(o[C+1]);o[h+1]=sh(Y,C),0!==Y&&(o[Y+1]=Ia(o[Y+1],h)),o[C+1]=function wk(o,l){return 131071&o|l<<17}(o[C+1],h)}else o[h+1]=sh(C,0),0!==C&&(o[C+1]=Ia(o[C+1],h)),C=h;else o[h+1]=sh(I,0),0===C?C=h:o[I+1]=Ia(o[I+1],h),I=h;R&&(o[h+1]=_u(o[h+1])),Xt(o,N,h,!0),Xt(o,N,h,!1),function xo(o,l,c,h,p){const _=p?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof l&&zl(_,l)>=0&&(c[h+1]=qt(c[h+1]))}(l,N,o,h,_),b=sh(C,I),_?l.classBindings=b:l.styleBindings=b}(p,_,l,c,b,h)}}function Jo(o,l,c,h,p){let _=null;const b=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<b&&(_=l[C],h=sc(h,_.hostAttrs,p),_!==o);)C++;return null!==o&&(c.directiveStylingLast=C),h}function sc(o,l,c){const h=c?1:2;let p=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?p=b:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ws(o,b,!!c||l[++_]))}return void 0===o?null:o}function ID(o,l,c,h,p,_,b,C){if(!(3&l.type))return;const I=o.data,R=I[C+1],N=function xk(o){return 1==(1&o)}(R)?a0(I,l,c,p,Gf(R),b):void 0;Us(N)||(Us(_)||function _D(o){return 2==(2&o)}(R)&&(_=a0(I,null,c,p,C,b)),function RM(o,l,c,h,p){if(l)p?o.addClass(c,h):o.removeClass(c,h);else{let _=-1===h.indexOf("-")?void 0:iu.DashCase;null==p?o.removeStyle(c,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=iu.Important),o.setStyle(c,h,p,_))}}(h,b,ha($i(),c),p,_))}function a0(o,l,c,h,p,_){const b=null===l;let C;for(;p>0;){const I=o[p],R=Array.isArray(I),N=R?I[1]:I,j=null===N;let Y=c[p+1];Y===Pt&&(Y=j?rt:void 0);let te=j?em(Y,h):N===h?Y:void 0;if(R&&!Us(te)&&(te=em(I,h)),Us(te)&&(C=te,b))return C;const Ie=o[p+1];p=b?rc(Ie):Gf(Ie)}if(null!==l){let I=_?l.residualClasses:l.residualStyles;null!=I&&(C=em(I,h))}return C}function Us(o){return void 0!==o}function c0(o,l){return 0!=(o.flags&(l?8:16))}function u0(o,l=""){const c=Oe(),h=zt(),p=o+sn,_=h.firstCreatePass?Ff(h,p,1,l,null):h.data[p],b=yy(h,c,_,l,o);c[p]=b,ga()&&Jl(h,c,b,_),Mr(_,!1)}let yy=(o,l,c,h,p)=>(un(!0),function Xo(o,l){return o.createText(l)}(l[Ct],h));function ch(o){return Xi("",o,""),ch}function Xi(o,l,c){const h=Oe(),p=Jd(h,o,l,c);return p!==Pt&&function Qo(o,l,c){const h=ha(l,o);!function Ql(o,l,c){o.setValue(l,c)}(o[Ct],h,c)}(h,$i(),p),Xi}function h0(o,l,c){!function Ta(o,l,c,h){const p=zt(),_=gs(2);p.firstUpdatePass&&xD(p,null,_,h);const b=Oe();if(c!==Pt&&rs(b,_,c)){const C=p.data[$i()];if(c0(C,h)&&!$m(p,_)){let I=h?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(c=We(I,c||"")),iD(p,C,b,c,h)}else!function Wf(o,l,c,h,p,_,b,C){p===Pt&&(p=rt);let I=0,R=0,N=0<p.length?p[0]:null,j=0<_.length?_[0]:null;for(;null!==N||null!==j;){const Y=I<p.length?p[I+1]:void 0,te=R<_.length?_[R+1]:void 0;let $e,Ie=null;N===j?(I+=2,R+=2,Y!==te&&(Ie=j,$e=te)):null===j||null!==N&&N<j?(I+=2,Ie=N):(R+=2,Ie=j,$e=te),null!==Ie&&ID(o,l,c,h,Ie,$e,b,C),N=I<p.length?p[I]:null,j=R<_.length?_[R]:null}}(p,C,b,b[Ct],b[_+1],b[_+1]=function CD(o,l,c){if(null==c||""===c)return rt;const h=[],p=al(c);if(Array.isArray(p))for(let _=0;_<p.length;_++)o(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&o(h,_,p[_]);else"string"==typeof p&&l(h,p);return h}(o,l,c),h,_)}}(ws,gn,Jd(Oe(),o,l,c),!0)}function qf(o,l,c){const h=Oe();return rs(h,Uo(),l)&&Yo(zt(),bn(),h,o,l,h[Ct],c,!0),qf}const Co=void 0;var Wm=["en",[["a","p"],["AM","PM"],Co],[["AM","PM"],Co,Co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Co,"{1} 'at' {0}",Co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y0(o){const c=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let vu={};function Bn(o){const l=function v0(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=WD(l);if(c)return c;const h=l.split("-")[0];if(c=WD(h),c)return c;if("en"===h)return Wm;throw new ue(701,!1)}function Km(o){return Bn(o)[uh.PluralCase]}function WD(o){return o in vu||(vu[o]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[o]),vu[o]}var uh=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(uh||{});const ac="en-US";let qD=ac;function M0(o,l,c,h,p){if(o=Ve(o),Array.isArray(o))for(let _=0;_<o.length;_++)M0(o[_],l,c,h,p);else{const _=zt(),b=Oe(),C=hi();let I=kf(o)?o:Ve(o.provide);const R=uu(o),N=1048575&C.providerIndexes,j=C.directiveStart,Y=C.providerIndexes>>20;if(kf(o)||!o.multi){const te=new po(R,p,Qd),Ie=R0(I,l,p?N:N+Y,j);-1===Ie?(Qa(Ur(C,b),_,I),Ty(_,o,l.length),l.push(I),C.directiveStart++,C.directiveEnd++,p&&(C.providerIndexes+=1048576),c.push(te),b.push(te)):(c[Ie]=te,b[Ie]=te)}else{const te=R0(I,l,N+Y,j),Ie=R0(I,l,N,N+Y),nt=Ie>=0&&c[Ie];if(p&&!nt||!p&&!(te>=0&&c[te])){Qa(Ur(C,b),_,I);const dt=function yI(o,l,c,h,p){const _=new po(o,c,Qd);return _.multi=[],_.index=l,_.componentProviders=0,gI(_,p,h&&!c),_}(p?o1:_I,c.length,p,h,R);!p&&nt&&(c[Ie].providerFactory=dt),Ty(_,o,l.length,0),l.push(I),C.directiveStart++,C.directiveEnd++,p&&(C.providerIndexes+=1048576),c.push(dt),b.push(dt)}else Ty(_,o,te>-1?te:Ie,gI(c[p?Ie:te],R,!p&&h));!p&&h&&nt&&c[Ie].componentProviders++}}}function Ty(o,l,c,h){const p=kf(l),_=function IV(o){return!!o.useClass}(l);if(p||_){const I=(_?Ve(l.useClass):l).prototype.ngOnDestroy;if(I){const R=o.destroyHooks||(o.destroyHooks=[]);if(!p&&l.multi){const N=R.indexOf(c);-1===N?R.push(c,[h,I]):R[N+1].push(h,I)}else R.push(c,I)}}}function gI(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function R0(o,l,c,h){for(let p=c;p<h;p++)if(l[p]===o)return p;return-1}function _I(o,l,c,h){return k0(this.multi,[])}function o1(o,l,c,h){const p=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=ts(c,c[Ye],this.providerFactory.index,h);_=C.slice(0,b),k0(p,_);for(let I=b;I<C.length;I++)_.push(C[I])}else _=[],k0(p,_);return _}function k0(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function O0(o,l=[]){return c=>{c.providersResolver=(h,p)=>function s1(o,l,c){const h=zt();if(h.firstCreatePass){const p=Tr(o);M0(c,h.data,h.blueprint,p,!0),M0(l,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,l)}}class mh{}class Ay{}function a1(o,l){return new P0(o,l??null,[])}class P0 extends mh{constructor(l,c,h){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LC(this);const p=Dr(l);this._bootstrapComponents=fu(p.bootstrap),this._r3Injector=hR(l,c,[{provide:mh,useValue:this},{provide:W_,useValue:this.componentFactoryResolver},...h],ie(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class My extends Ay{constructor(l){super(),this.moduleType=l}create(l){return new P0(this.moduleType,l,[])}}class Ry extends mh{constructor(l){super(),this.componentFactoryResolver=new LC(this),this.instance=null;const c=new cl([...l.providers,{provide:mh,useValue:this},{provide:W_,useValue:this.componentFactoryResolver}],l.parent||ym(),l.debugName,new Set(["environment"]));this.injector=c,l.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function bI(o,l,c=null){return new Ry({providers:o,parent:l,debugName:c,runEnvironmentInitializers:!0}).injector}let l1=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const h=rC(0,c.type),p=h.length>0?bI([h],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,p)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=at({token:o,providedIn:"environment",factory:()=>new o(dn(Da))})}}return o})();function Zf(o){o.getStandaloneInjector=l=>l.get(l1).getOrCreateStandaloneInjector(o)}function L0(o,l,c){const h=fi()+o,p=Oe();return p[h]===Pt?dl(p,h,c?l.call(c):l()):function Bf(o,l){return o[l]}(p,h)}function DI(o,l,c,h,p,_){const b=l+c;return rs(o,b,p)?dl(o,b+1,_?h.call(_,p):h(p)):function Oy(o,l){const c=o[l];return c===Pt?void 0:c}(o,b+1)}function Jf(o,l){const c=zt();let h;const p=o+sn;c.firstCreatePass?(h=function x1(o,l){if(l)for(let c=l.length-1;c>=0;c--){const h=l[c];if(o===h.name)return h}}(l,c.pipeRegistry),c.data[p]=h,h.onDestroy&&(c.destroyHooks??=[]).push(p,h.onDestroy)):h=c.data[p];const _=h.factory||(h.factory=ao(h.type)),C=Dn(Qd);try{const I=Jn(!1),R=_();return Jn(I),function $f(o,l,c,h){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=h}(c,Oe(),p,R),R}finally{Dn(C)}}function AI(o,l,c){const h=o+sn,p=Oe(),_=Ls(p,h);return function dc(o,l){return o[Ye].data[l].pure}(p,h)?DI(p,fi(),l,_.transform,c,_):_.transform(c)}function kI(){return this._results[Symbol.iterator]()}class Cu{get changes(){return this._changes||(this._changes=new nc)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Cu.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=kI)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const h=this;h.dirty=!1;const p=function ns(o){return o.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Yc(o,l,c){if(o.length!==l.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],_=l[h];if(c&&(p=c(p),_=c(_)),_!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function D1(o,l,c,h=!0){const p=l[Ye];if(function hm(o,l,c,h){const p=Si+h,_=c.length;h>0&&(c[p-1][Lr]=l),h<_-Si?(l[Lr]=c[p],Jv(c,Si+h,l)):(c.push(l),l[Lr]=null),l[wn]=c;const b=l[Ua];null!==b&&c!==b&&function ub(o,l){const c=o[so];l[di]!==l[wn][wn][di]&&(o[Ps]=!0),null===c?o[so]=[l]:c.push(l)}(b,l);const C=l[Sr];null!==C&&C.insertView(o),l[Bt]|=128}(p,l,o,c),h){const _=pb(c,o),b=l[Ct],C=I_(b,o[Vr]);null!==C&&function Zl(o,l,c,h,p,_){h[Wn]=p,h[dr]=l,qd(o,h,c,1,p,_)}(p,o[dr],b,l,C,_)}}let ep=(()=>{class o{static{this.__NG_ELEMENT_ID__=S1}}return o})();const OI=ep,I1=class extends OI{constructor(l,c,h){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,c){return this.createEmbeddedViewImpl(l,c)}createEmbeddedViewImpl(l,c,h){const p=function C1(o,l,c,h){const p=l.tView,C=Y_(o,p,c,4096&o[Bt]?4096:16,null,l,null,null,null,h?.injector??null,h?.hydrationInfo??null);C[Ua]=o[l.index];const R=o[Sr];return null!==R&&(C[Sr]=R.createEmbeddedView(p)),ty(p,C,c),C}(this._declarationLView,this._declarationTContainer,l,{injector:c,hydrationInfo:h});return new Mm(p)}};function S1(){return Ny(hi(),Oe())}function Ny(o,l){return 4&o.type?new I1(l,o,Em(o,l)):null}let tg=(()=>{class o{static{this.__NG_ELEMENT_ID__=M1}}return o})();function M1(){return VI(hi(),Oe())}const R1=tg,LI=class extends R1{constructor(l,c,h){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=h}get element(){return Em(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const l=$o(this._hostTNode,this._hostLView);if(Kt(l)){const c=vs(l,this._hostLView),h=jn(l);return new Rn(c[Ye].data[h+8],c)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=ng(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-Si}createEmbeddedView(l,c,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const C=l.createEmbeddedViewImpl(c||{},_,null);return this.insertImpl(C,p,false),C}createComponent(l,c,h,p,_){const b=l&&!function Or(o){return"function"==typeof o}(l);let C;if(b)C=c;else{const $e=c||{};C=$e.index,h=$e.injector,p=$e.projectableNodes,_=$e.environmentInjector||$e.ngModuleRef}const I=b?l:new ry(en(l)),R=h||this.parentInjector;if(!_&&null==I.ngModule){const nt=(b?R:this.parentInjector).get(Da,null);nt&&(_=nt)}en(I.componentType??{});const te=I.create(R,p,null,_);return this.insertImpl(te.hostView,C,false),te}insert(l,c){return this.insertImpl(l,c,!1)}insertImpl(l,c,h){const p=l._lView;if(function fa(o){return Zi(o[wn])}(p)){const I=this.indexOf(l);if(-1!==I)this.detach(I);else{const R=p[wn],N=new LI(R,R[dr],R[wn]);N.detach(N.indexOf(l))}}const b=this._adjustIndex(c),C=this._lContainer;return D1(C,p,b,!h),l.attachToViewContainerRef(),Jv(j0(C),b,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=ng(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),h=C_(this._lContainer,c);h&&(Ja(j0(this._lContainer),c),SE(h[Ye],h))}detach(l){const c=this._adjustIndex(l,-1),h=C_(this._lContainer,c);return h&&null!=Ja(j0(this._lContainer),c)?new Mm(h):null}_adjustIndex(l,c=0){return l??this.length+c}};function ng(o){return o[8]}function j0(o){return o[8]||(o[8]=[])}function VI(o,l){let c;const h=l[o.index];return Zi(h)?c=h:(c=Bb(h,l,null,o),l[o.index]=c,ey(l,c)),H0(c,l,o,h),new LI(c,o,l)}let H0=function z0(o,l,c,h){if(o[Vr])return;let p;p=8&c.type?fn(h):function ig(o,l){const c=o[Ct],h=c.createComment(""),p=Ar(l,o);return Kd(c,I_(c,p),h,function AM(o,l){return o.nextSibling(l)}(c,p),!1),h}(l,c),o[Vr]=p};class $0{constructor(l){this.queryList=l,this.matches=null}clone(){return new $0(this.queryList)}setDirty(){this.queryList.setDirty()}}class rg{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const h=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let _=0;_<h;_++){const b=c.getByIndex(_);p.push(this.queries[b.indexInDeclarationView].clone())}return new rg(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==np(l,c).matches&&this.queries[c].setDirty()}}class BI{constructor(l,c,h=null){this.predicate=l,this.flags=c,this.read=h}}class G0{constructor(l=[]){this.queries=l}elementStart(l,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,_=this.getByIndex(h).embeddedTView(l,p);_&&(_.indexInDeclarationView=h,null!==c?c.push(_):c=[_])}return null!==c?new G0(c):null}template(l,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class W0{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new W0(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(l,c,hc(c,_)),this.matchTNodeWithReadOption(l,c,Xc(c,l,_,!1,!1))}else h===ep?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Xc(c,l,h,!1,!1))}matchTNodeWithReadOption(l,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===K_||p===tg||p===ep&&4&c.type)this.addMatch(c.index,-2);else{const _=Xc(c,l,p,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,h)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function hc(o,l){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===l)return c[h+1];return null}function N1(o,l,c,h){return-1===c?function P1(o,l){return 11&o.type?Em(o,l):4&o.type?Ny(o,l):null}(l,o):-2===c?function F1(o,l,c){return c===K_?Em(l,o):c===ep?Ny(l,o):c===tg?VI(l,o):void 0}(o,l,h):ts(o,o[Ye],c,l)}function UI(o,l,c,h){const p=l[Sr].queries[h];if(null===p.matches){const _=o.data,b=c.matches,C=[];for(let I=0;I<b.length;I+=2){const R=b[I];C.push(R<0?null:N1(l,_[R],b[I+1],c.metadata.read))}p.matches=C}return p.matches}function K0(o,l,c,h){const p=o.queries.getByIndex(c),_=p.matches;if(null!==_){const b=UI(o,l,p,c);for(let C=0;C<_.length;C+=2){const I=_[C];if(I>0)h.push(b[C/2]);else{const R=_[C+1],N=l[-I];for(let j=Si;j<N.length;j++){const Y=N[j];Y[Ua]===Y[wn]&&K0(Y[Ye],Y,R,h)}if(null!==N[so]){const j=N[so];for(let Y=0;Y<j.length;Y++){const te=j[Y];K0(te[Ye],te,R,h)}}}}}return h}function sg(o){const l=Oe(),c=zt(),h=Zp();Hc(h+1);const p=np(c,h);if(o.dirty&&function Ka(o){return 4==(4&o[Bt])}(l)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const _=p.crossesNgTemplate?K0(c,l,h,[]):UI(c,l,p,h);o.reset(_,$V),o.notifyOnChanges()}return!0}return!1}function jI(o,l,c){const h=zt();h.firstCreatePass&&($I(h,new BI(o,l,c),-1),2==(2&l)&&(h.staticViewQueries=!0)),X0(h,Oe(),l)}function HI(o,l,c,h){const p=zt();if(p.firstCreatePass){const _=hi();$I(p,new BI(l,c,h),_.index),function L1(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(p,o),2==(2&c)&&(p.staticContentQueries=!0)}X0(p,Oe(),c)}function q0(){return function zI(o,l){return o[Sr].queries[l].queryList}(Oe(),Zp())}function X0(o,l,c){const h=new Cu(4==(4&c));(function CC(o,l,c,h){const p=MC(l);p.push(c),o.firstCreatePass&&RC(o).push(h,p.length-1)})(o,l,h,h.destroy),null===l[Sr]&&(l[Sr]=new rg),l[Sr].queries.push(new $0(h))}function $I(o,l,c){null===o.queries&&(o.queries=new G0),o.queries.track(new W0(l,c))}function np(o,l){return o.queries.getByIndex(l)}function Y0(o,l){return Ny(o,l)}function Z0(o){return!!Dr(o)}const iS=new vt("Application Initializer");let ug=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=Lt(iS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const p of this.appInits){const _=p();if(Jb(_))c.push(_);else if(aD(_)){const b=new Promise((C,I)=>{_.subscribe({complete:C,error:I})});c.push(b)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),rS=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})();const By=new vt("LocaleId",{providedIn:"root",factory:()=>Lt(By,Dt.Optional|Dt.SkipSelf)||function J1(){return typeof $localize<"u"&&$localize.locale||ac}()}),eO=new vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let uw=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.t(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();class oS{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Iu=(()=>{class o{compileModuleSync(c){return new My(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),_=fu(Dr(c).declarations).reduce((b,C)=>{const I=en(C);return I&&b.push(new ry(I)),b},[]);return new oS(h,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const pw=new vt(""),mw=new vt("");let gw,hS=(()=>{class o{constructor(c,h,p){this._ngZone=c,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gw||(function gO(o){gw=o}(p),p.addToWindow(h)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,h,p){return[]}static{this.\u0275fac=function(h){return new(h||o)(dn(zr),dn(fS),dn(mw))}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac})}}return o})(),fS=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return gw?.findTestabilityInTree(this,c,h)??null}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})(),Su=null;const pS=new vt("AllowMultipleToken"),_w=new vt("PlatformDestroyListeners"),yw=new vt("appBootstrapListener");class yO{constructor(l,c){this.name=l,this.token=c}}function $y(o,l,c=[]){const h=`Platform: ${l}`,p=new vt(h);return(_=[])=>{let b=bw();if(!b||b.injector.get(pS,!1)){const C=[...c,..._,{provide:p,useValue:!0}];o?o(C):function vO(o){if(Su&&!Su.get(pS,!1))throw new ue(400,!1);(function mS(){!function Pc(o){ud=o}(()=>{throw new ue(600,!1)})})(),Su=o;const l=o.get(ww);(function _S(o){o.get(U_,null)?.forEach(c=>c())})(o)}(function vw(o=[],l){return ul.create({name:l,providers:[{provide:_m,useValue:"platform"},{provide:_w,useValue:new Set([()=>Su=null])},...o]})}(C,h))}return function wO(o){const l=bw();if(!l)throw new ue(401,!1);return l}()}}function bw(){return Su?.get(ww)??null}let ww=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const p=function vS(o="zone.js",l){return"noop"===o?new sB:"zone.js"===o?new zr(l):o}(h?.ngZone,function yS(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const _=function vI(o,l,c){return new P0(o,l,c)}(c.moduleType,this.injector,function ES(o){return[{provide:zr,useFactory:o},{provide:Rf,multi:!0,useFactory:()=>{const l=Lt(CO,{optional:!0});return()=>l.initialize()}},{provide:Ew,useFactory:EO},{provide:_R,useFactory:yR}]}(()=>p)),b=_.injector.get(Yd,null);return p.runOutsideAngular(()=>{const C=p.onError.subscribe({next:I=>{b.handleError(I)}});_.onDestroy(()=>{Gy(this._modules,_),C.unsubscribe()})}),function bS(o,l,c){try{const h=c();return Jb(h)?h.catch(p=>{throw l.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>o.handleError(h)),h}}(b,p,()=>{const C=_.injector.get(ug);return C.runInitializers(),C.donePromise.then(()=>(function bu(o){ke(o,"Expected localeId to be defined"),"string"==typeof o&&(qD=o.toLowerCase().replace(/_/g,"-"))}(_.injector.get(By,ac)||ac),this._moduleDoBootstrap(_),_))})})}bootstrapModule(c,h=[]){const p=xw({},h);return function _O(o,l,c){const h=new My(c);return Promise.resolve(h)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(c){const h=c.injector.get(sp);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new ue(-403,!1);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const c=this._injector.get(_w,null);c&&(c.forEach(h=>h()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(h){return new(h||o)(dn(ul))}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"platform"})}}return o})();function xw(o,l){return Array.isArray(l)?l.reduce(xw,o):{...o,...l}}let sp=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(Ew),this.zoneIsStable=Lt(_R),this.componentTypes=[],this.components=[],this.isStable=Lt(uw).hasPendingTasks.pipe((0,Be.n)(c=>c?(0,he.of)(!1):this.zoneIsStable),(0,Ee.F)(),(0,De.u)()),this._injector=Lt(Da)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,h){const p=c instanceof iR;if(!this._injector.get(ug).done)throw!p&&Fo(c),new ue(405,!1);let b;b=p?c:this._injector.get(W_).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const C=function gS(o){return o.isBoundToModule}(b)?void 0:this._injector.get(mh),R=b.create(ul.NULL,[],h||b.selector,C),N=R.location.nativeElement,j=R.injector.get(pw,null);return j?.registerApplication(N),R.onDestroy(()=>{this.detachView(R.hostView),Gy(this.components,R),j?.unregisterApplication(N)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;Gy(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const h=this._injector.get(yw,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Gy(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ue(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Gy(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}const Ew=new vt("",{providedIn:"root",factory:()=>Lt(Yd).handleError.bind(void 0)});function EO(){const o=Lt(zr),l=Lt(Yd);return c=>o.runOutsideAngular(()=>l.handleError(c))}let CO=(()=>{class o{constructor(){this.zone=Lt(zr),this.applicationRef=Lt(sp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(h){return new(h||o)}}static{this.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Wy(){return!1}let IO=(()=>{class o{static{this.__NG_ELEMENT_ID__=CS}}return o})();function CS(o){return function SO(o,l,c){if(Ji(o)&&!c){const h=Br(o.index,l);return new Mm(h,h)}return 47&o.type?new Mm(l[di],l):null}(hi(),Oe(),16==(16&o))}class Aw{constructor(){}supports(l){return $b(l)}create(l){return new kO(l)}}const Yy=(o,l)=>l;class kO{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Yy}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,h=this._removalsHead,p=0,_=null;for(;c||h;){const b=!h||c&&c.currentIndex<Rw(h,p,_)?c:h,C=Rw(b,p,_),I=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(c=c._next,null==b.previousIndex)p++;else{_||(_=[]);const R=C-p,N=I-p;if(R!=N){for(let Y=0;Y<R;Y++){const te=Y<_.length?_[Y]:_[Y]=0,Ie=te+Y;N<=Ie&&Ie<R&&(_[Y]=te+1)}_[b.previousIndex]=N-R}}C!==I&&l(b,C,I)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!$b(l))throw new ue(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,_,b,c=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)_=l[C],b=this._trackByFn(C,_),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,_,b,C)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,b,C),h=!0),c=c._next}else p=0,function WB(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[Symbol.iterator]();let h;for(;!(h=c.next()).done;)l(h.value)}}(l,C=>{b=this._trackByFn(p,C),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,C,b,p)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,b,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,h,p){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,p)):l=this._addAfter(new dg(c,h),_,p),l}_verifyReinsertion(l,c,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?l=this._reinsertAfter(_,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,_=l._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(l,c,h),this._addToMoves(l,h),l}_moveAfter(l,c,h){return this._unlink(l),this._insertAfter(l,c,h),this._addToMoves(l,h),l}_addAfter(l,c,h){return this._insertAfter(l,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,h){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Mw),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,h=l._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mw),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class dg{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wh{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const c=l._prevDup,h=l._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class Mw{constructor(){this.map=new Map}put(l){const c=l.trackById;let h=this.map.get(c);h||(h=new wh,this.map.set(c,h)),h.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rw(o,l,c){const h=o.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+l+p}class IS{constructor(){}supports(l){return l instanceof Map||Gb(l)}create(){return new OO}}class OO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Gb(l)))throw new ue(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const h=l._prev;return c._next=l,c._prev=h,l._prev=c,h&&(h._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const _=p._prev,b=p._next;return _&&(_._next=b),b&&(b._prev=_),p._next=null,p._prev=null,p}const h=new PO(l);return this._records.set(l,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(h=>c(l[h],h))}}class PO{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qy(){return new kw([new Aw])}let kw=(()=>{class o{static{this.\u0275prov=at({token:o,providedIn:"root",factory:Qy})}constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||Qy()),deps:[[o,new gf,new mf]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new ue(901,!1)}}return o})();function SS(){return new Ow([new IS])}let Ow=(()=>{class o{static{this.\u0275prov=at({token:o,providedIn:"root",factory:SS})}constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||SS()),deps:[[o,new gf,new mf]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new ue(901,!1)}}return o})();const VO=$y(null,"core",[]);let BO=(()=>{class o{constructor(c){}static{this.\u0275fac=function(h){return new(h||o)(dn(sp))}}static{this.\u0275mod=Ic({type:o})}static{this.\u0275inj=vn({})}}return o})();function KO(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function JO(o){const l=en(o);if(!l)return null;const c=new ry(l);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}},3345:(bt,Me,B)=>{B.d(Me,{A:()=>et});var d=B(1076),ne=B(1362),U=B(7852),oe=B(8041);class de{constructor(Qe,He){this._delegate=Qe,this.firebase=He,(0,U._addComponent)(Qe,new ne.uA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Qe,He=U._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Qe);return!xt.isInitialized()&&"EXPLICIT"===(null===(It=xt.getComponent())||void 0===It?void 0:It.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:He})}_removeServiceInstance(Qe,He=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(He)}_addComponent(Qe){(0,U._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,U._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Ee(){const Ve=function Be(Ve){const Qe={},He={__esModule:!0,initializeApp:function ue(je,Je={}){const _e=U.initializeApp(je,Je);if((0,d.gR)(Qe,_e.name))return Qe[_e.name];const Mt=new Ve(_e,He);return Qe[_e.name]=Mt,Mt},app:xt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function ae(je){const Je=je.name,_e=Je.replace("-compat","");if(U._registerComponent(je)&&"PUBLIC"===je.type){const Mt=(Qt=xt())=>{if("function"!=typeof Qt[_e])throw De.create("invalid-app-argument",{appName:Je});return Qt[_e]()};void 0!==je.serviceProps&&(0,d.zw)(Mt,je.serviceProps),He[_e]=Mt,Ve.prototype[_e]=function(...Qt){return this._getService.bind(this,Je).apply(this,je.multipleInstances?Qt:[])}}return"PUBLIC"===je.type?He[_e]:null},removeApp:function It(je){delete Qe[je]},useAsService:function Re(je,Je){return"serverAuth"===Je?null:Je},modularAPIs:U}};function xt(je){if(!(0,d.gR)(Qe,je=je||U._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:je});return Qe[je]}return He.default=He,Object.defineProperty(He,"apps",{get:function Se(){return Object.keys(Qe).map(je=>Qe[je])}}),xt.App=Ve,He}(de);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Qe(He){(0,d.zw)(Ve,He)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),Ve}(),K=new oe.Vy("@firebase/app-compat");if((0,d.Bd)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=H;!function Pe(Ve){(0,U.registerVersion)("@firebase/app-compat","0.2.13",Ve)}()},7852:(bt,Me,B)=>{B.r(Me),B.d(Me,{FirebaseError:()=>oe.g,SDK_VERSION:()=>Js,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>Un,_addOrOverwriteComponent:()=>wr,_apps:()=>Ft,_clearComponents:()=>vt,_components:()=>Dn,_getProvider:()=>Vi,_registerComponent:()=>mn,_removeServiceInstance:()=>El,deleteApp:()=>hs,getApp:()=>cr,getApps:()=>No,initializeApp:()=>Cl,onLog:()=>eo,registerVersion:()=>Di,setLogLevel:()=>Gn});var d=B(467),ne=B(1362),U=B(8041),oe=B(1076);const de=(Ce,re)=>re.some(Ue=>Ce instanceof Ue);let he,De;const H=new WeakMap,K=new WeakMap,ie=new WeakMap,We=new WeakMap,Pe=new WeakMap;let Qe={get(Ce,re,Ue){if(Ce instanceof IDBTransaction){if("done"===re)return K.get(Ce);if("objectStoreNames"===re)return Ce.objectStoreNames||ie.get(Ce);if("store"===re)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return ue(Ce[re])},set:(Ce,re,Ue)=>(Ce[re]=Ue,!0),has:(Ce,re)=>Ce instanceof IDBTransaction&&("done"===re||"store"===re)||re in Ce};function xt(Ce){return"function"==typeof Ce?function It(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...re){return Ce.apply(Se(this),re),ue(H.get(this))}:function(...re){return ue(Ce.apply(Se(this),re))}:function(re,...Ue){const gt=Ce.call(Se(this),re,...Ue);return ie.set(gt,re.sort?re.sort():[re]),ue(gt)}}(Ce):(Ce instanceof IDBTransaction&&function Ve(Ce){if(K.has(Ce))return;const re=new Promise((Ue,gt)=>{const Et=()=>{Ce.removeEventListener("complete",rt),Ce.removeEventListener("error",cn),Ce.removeEventListener("abort",cn)},rt=()=>{Ue(),Et()},cn=()=>{gt(Ce.error||new DOMException("AbortError","AbortError")),Et()};Ce.addEventListener("complete",rt),Ce.addEventListener("error",cn),Ce.addEventListener("abort",cn)});K.set(Ce,re)}(Ce),de(Ce,function Be(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,Qe):Ce)}function ue(Ce){if(Ce instanceof IDBRequest)return function et(Ce){const re=new Promise((Ue,gt)=>{const Et=()=>{Ce.removeEventListener("success",rt),Ce.removeEventListener("error",cn)},rt=()=>{Ue(ue(Ce.result)),Et()},cn=()=>{gt(Ce.error),Et()};Ce.addEventListener("success",rt),Ce.addEventListener("error",cn)});return re.then(Ue=>{Ue instanceof IDBCursor&&H.set(Ue,Ce)}).catch(()=>{}),Pe.set(re,Ce),re}(Ce);if(We.has(Ce))return We.get(Ce);const re=xt(Ce);return re!==Ce&&(We.set(Ce,re),Pe.set(re,Ce)),re}const Se=Ce=>Pe.get(Ce),je=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],_e=new Map;function Mt(Ce,re){if(!(Ce instanceof IDBDatabase)||re in Ce||"string"!=typeof re)return;if(_e.get(re))return _e.get(re);const Ue=re.replace(/FromIndex$/,""),gt=re!==Ue,Et=Je.includes(Ue);if(!(Ue in(gt?IDBIndex:IDBObjectStore).prototype)||!Et&&!je.includes(Ue))return;const rt=function(){var cn=(0,d.A)(function*(ri,...Yn){const ks=this.transaction(ri,Et?"readwrite":"readonly");let Cr=ks.store;return gt&&(Cr=Cr.index(Yn.shift())),(yield Promise.all([Cr[Ue](...Yn),Et&&ks.done]))[0]});return function(Yn){return cn.apply(this,arguments)}}();return _e.set(re,rt),rt}!function He(Ce){Qe=Ce(Qe)}(Ce=>({...Ce,get:(re,Ue,gt)=>Mt(re,Ue)||Ce.get(re,Ue,gt),has:(re,Ue)=>!!Mt(re,Ue)||Ce.has(re,Ue)}));class Qt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function Fi(Ce){const re=Ce.getComponent();return"VERSION"===re?.type}(Ue)){const gt=Ue.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const vr="@firebase/app",ni=new U.Vy("@firebase/app"),Dt="[DEFAULT]",Zt={[vr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Dn=new Map;function Un(Ce,re){try{Ce.container.addComponent(re)}catch(Ue){ni.debug(`Component ${re.name} failed to register with FirebaseApp ${Ce.name}`,Ue)}}function wr(Ce,re){Ce.container.addOrOverwriteComponent(re)}function mn(Ce){const re=Ce.name;if(Dn.has(re))return ni.debug(`There were multiple attempts to register component ${re}.`),!1;Dn.set(re,Ce);for(const Ue of Ft.values())Un(Ue,Ce);return!0}function Vi(Ce,re){const Ue=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),Ce.container.getProvider(re)}function El(Ce,re,Ue=Dt){Vi(Ce,re).clearInstance(Ue)}function vt(){Dn.clear()}const Wt=new oe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Po{constructor(re,Ue,gt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const Js="9.23.0";function Cl(Ce,re={}){let Ue=Ce;"object"!=typeof re&&(re={name:re});const gt=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},re),Et=gt.name;if("string"!=typeof Et||!Et)throw Wt.create("bad-app-name",{appName:String(Et)});if(Ue||(Ue=(0,oe.T9)()),!Ue)throw Wt.create("no-options");const rt=Ft.get(Et);if(rt){if((0,oe.bD)(Ue,rt.options)&&(0,oe.bD)(gt,rt.config))return rt;throw Wt.create("duplicate-app",{appName:Et})}const cn=new ne.h1(Et);for(const Yn of Dn.values())cn.addComponent(Yn);const ri=new Po(Ue,gt,cn);return Ft.set(Et,ri),ri}function cr(Ce=Dt){const re=Ft.get(Ce);if(!re&&Ce===Dt&&(0,oe.T9)())return Cl();if(!re)throw Wt.create("no-app",{appName:Ce});return re}function No(){return Array.from(Ft.values())}function hs(Ce){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.A)(function*(Ce){const re=Ce.name;Ft.has(re)&&(Ft.delete(re),yield Promise.all(Ce.container.getProviders().map(Ue=>Ue.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function Di(Ce,re,Ue){var gt;let Et=null!==(gt=Zt[Ce])&&void 0!==gt?gt:Ce;Ue&&(Et+=`-${Ue}`);const rt=Et.match(/\s|\//),cn=re.match(/\s|\//);if(rt||cn){const ri=[`Unable to register library "${Et}" with version "${re}":`];return rt&&ri.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),rt&&cn&&ri.push("and"),cn&&ri.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ni.warn(ri.join(" "))}mn(new ne.uA(`${Et}-version`,()=>({library:Et,version:re}),"VERSION"))}function eo(Ce,re){if(null!==Ce&&"function"!=typeof Ce)throw Wt.create("invalid-log-argument");(0,U.Ey)(Ce,re)}function Gn(Ce){(0,U.He)(Ce)}const fs="firebase-heartbeat-database",ur=1,G="firebase-heartbeat-store";let z=null;function Q(){return z||(z=function ae(Ce,re,{blocked:Ue,upgrade:gt,blocking:Et,terminated:rt}={}){const cn=indexedDB.open(Ce,re),ri=ue(cn);return gt&&cn.addEventListener("upgradeneeded",Yn=>{gt(ue(cn.result),Yn.oldVersion,Yn.newVersion,ue(cn.transaction),Yn)}),Ue&&cn.addEventListener("blocked",Yn=>Ue(Yn.oldVersion,Yn.newVersion,Yn)),ri.then(Yn=>{rt&&Yn.addEventListener("close",()=>rt()),Et&&Yn.addEventListener("versionchange",ks=>Et(ks.oldVersion,ks.newVersion,ks))}).catch(()=>{}),ri}(fs,ur,{upgrade:(Ce,re)=>{0===re&&Ce.createObjectStore(G)}}).catch(Ce=>{throw Wt.create("idb-open",{originalErrorMessage:Ce.message})})),z}function fe(){return(fe=(0,d.A)(function*(Ce){try{return yield(yield Q()).transaction(G).objectStore(G).get(on(Ce))}catch(re){if(re instanceof oe.g)ni.warn(re.message);else{const Ue=Wt.create("idb-get",{originalErrorMessage:re?.message});ni.warn(Ue.message)}}})).apply(this,arguments)}function ht(Ce,re){return St.apply(this,arguments)}function St(){return(St=(0,d.A)(function*(Ce,re){try{const gt=(yield Q()).transaction(G,"readwrite");yield gt.objectStore(G).put(re,on(Ce)),yield gt.done}catch(Ue){if(Ue instanceof oe.g)ni.warn(Ue.message);else{const gt=Wt.create("idb-set",{originalErrorMessage:Ue?.message});ni.warn(gt.message)}}})).apply(this,arguments)}function on(Ce){return`${Ce.name}!${Ce.options.appId}`}class Lt{constructor(re){this.container=re,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new Er(Ue),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var re=this;return(0,d.A)(function*(){const gt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=rn();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Et&&!re._heartbeatsCache.heartbeats.some(rt=>rt.date===Et))return re._heartbeatsCache.heartbeats.push({date:Et,agent:gt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(rt=>{const cn=new Date(rt.date).valueOf();return Date.now()-cn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.A)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Ue=rn(),{heartbeatsToSend:gt,unsentEntries:Et}=function Bi(Ce,re=1024){const Ue=[];let gt=Ce.slice();for(const Et of Ce){const rt=Ue.find(cn=>cn.agent===Et.agent);if(rt){if(rt.dates.push(Et.date),to(Ue)>re){rt.dates.pop();break}}else if(Ue.push({agent:Et.agent,dates:[Et.date]}),to(Ue)>re){Ue.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:gt}}(re._heartbeatsCache.heartbeats),rt=(0,oe.Uj)(JSON.stringify({version:2,heartbeats:gt}));return re._heartbeatsCache.lastSentHeartbeatDate=Ue,Et.length>0?(re._heartbeatsCache.heartbeats=Et,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),rt})()}}function rn(){return(new Date).toISOString().substring(0,10)}class Er{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,oe.zW)()&&(0,oe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.A)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function Ae(Ce){return fe.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Ue=this;return(0,d.A)(function*(){var gt;if(yield Ue._canUseIndexedDBPromise){const rt=yield Ue.read();return ht(Ue.app,{lastSentHeartbeatDate:null!==(gt=re.lastSentHeartbeatDate)&&void 0!==gt?gt:rt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Ue=this;return(0,d.A)(function*(){var gt;if(yield Ue._canUseIndexedDBPromise){const rt=yield Ue.read();return ht(Ue.app,{lastSentHeartbeatDate:null!==(gt=re.lastSentHeartbeatDate)&&void 0!==gt?gt:rt.lastSentHeartbeatDate,heartbeats:[...rt.heartbeats,...re.heartbeats]})}})()}}function to(Ce){return(0,oe.Uj)(JSON.stringify({version:2,heartbeats:Ce})).length}!function Dl(Ce){mn(new ne.uA("platform-logger",re=>new Qt(re),"PRIVATE")),mn(new ne.uA("heartbeat",re=>new Lt(re),"PRIVATE")),Di(vr,"0.9.13",Ce),Di(vr,"0.9.13","esm2017"),Di("fire-js","")}("")},1362:(bt,Me,B)=>{B.d(Me,{h1:()=>Be,uA:()=>U});var d=B(467),ne=B(1076);class U{constructor(H,K,ie){this.name=H,this.instanceFactory=K,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const oe="[DEFAULT]";class de{constructor(H,K){this.name=H,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const K=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(K)){const ie=new ne.cY;if(this.instancesDeferred.set(K,ie),this.isInitialized(K)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:K});We&&ie.resolve(We)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(H){var K;const ie=this.normalizeInstanceIdentifier(H?.identifier),We=null!==(K=H?.optional)&&void 0!==K&&K;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Pe){if(We)return null;throw Pe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function De(Ee){return"EAGER"===Ee.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[K,ie]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(K);try{const Pe=this.getOrInitializeService({instanceIdentifier:We});ie.resolve(Pe)}catch{}}}}clearInstance(H=oe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,d.A)(function*(){const K=Array.from(H.instances.values());yield Promise.all([...K.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...K.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=oe){return this.instances.has(H)}getOptions(H=oe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:K={}}=H,ie=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:ie,options:K});for(const[Pe,et]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Pe)&&et.resolve(We);return We}onInit(H,K){var ie;const We=this.normalizeInstanceIdentifier(K),Pe=null!==(ie=this.onInitCallbacks.get(We))&&void 0!==ie?ie:new Set;Pe.add(H),this.onInitCallbacks.set(We,Pe);const et=this.instances.get(We);return et&&H(et,We),()=>{Pe.delete(H)}}invokeOnInitCallbacks(H,K){const ie=this.onInitCallbacks.get(K);if(ie)for(const We of ie)try{We(H,K)}catch{}}getOrInitializeService({instanceIdentifier:H,options:K={}}){let ie=this.instances.get(H);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=H,Ee===oe?void 0:Ee),options:K}),this.instances.set(H,ie),this.instancesOptions.set(H,K),this.invokeOnInitCallbacks(ie,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ie)}catch{}var Ee;return ie||null}normalizeInstanceIdentifier(H=oe){return this.component?this.component.multipleInstances?H:oe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const K=this.getProvider(H.name);if(K.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);K.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const K=new de(H,this);return this.providers.set(H,K),K}getProviders(){return Array.from(this.providers.values())}}},8041:(bt,Me,B)=>{B.d(Me,{$b:()=>ne,Ey:()=>Ee,He:()=>Be,Vy:()=>De});const d=[];var ne=function(H){return H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H}(ne||{});const U={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},oe=ne.INFO,de={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},he=(H,K,...ie)=>{if(K<H.logLevel)return;const We=(new Date).toISOString(),Pe=de[K];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Pe](`[${We}]  ${H.name}:`,...ie)};class De{constructor(K){this.name=K,this._logLevel=oe,this._logHandler=he,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in ne))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?U[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...K),this._logHandler(this,ne.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...K),this._logHandler(this,ne.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...K),this._logHandler(this,ne.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...K),this._logHandler(this,ne.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...K),this._logHandler(this,ne.ERROR,...K)}}function Be(H){d.forEach(K=>{K.setLogLevel(H)})}function Ee(H,K){for(const ie of d){let We=null;K&&K.level&&(We=U[K.level]),ie.userLogHandler=null===H?null:(Pe,et,...Ve)=>{const Qe=Ve.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");et>=(We??Pe.logLevel)&&H({level:ne[et].toLowerCase(),message:Qe,args:Ve,type:Pe.name})}}}},2214:(bt,Me,B)=>{B.d(Me,{Dk:()=>d.getApps,Sx:()=>d.getApp});var d=B(7852);(0,d.registerVersion)("firebase","9.23.0","app")},7935:(bt,Me,B)=>{B.d(Me,{A:()=>d.A});var d=B(3345);d.A.registerVersion("firebase","9.23.0","app-compat")},6922:(bt,Me,B)=>{var d=B(467),ne=B(3345),U=B(1076),oe=B(7852),de=B(1635),he=B(8041),De=B(1362);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const et=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ve=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new U.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),It=new he.Vy("@firebase/auth");function ue(w,...g){It.logLevel<=he.$b.ERROR&&It.error(`Auth (${oe.SDK_VERSION}): ${w}`,...g)}function Se(w,...g){throw Je(w,...g)}function ae(w,...g){return Je(w,...g)}function Re(w,g,y){const E=Object.assign(Object.assign({},Ve()),{[g]:y});return new U.FA("auth","Firebase",E).create(g,{appName:w.name})}function je(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Se(w,"argument-error"),Re(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(w,...g){if("string"!=typeof w){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Qe.create(w,...g)}function _e(w,g,...y){if(!w)throw Je(g,...y)}function Mt(w){const g="INTERNAL ASSERTION FAILED: "+w;throw ue(g),new Error(g)}function Qt(w,g){w||Mt(g)}function Fi(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function vr(){return"http:"===Qs()||"https:"===Qs()}function Qs(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Rs{constructor(g,y){this.shortDelay=g,this.longDelay=y,Qt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.jZ)()||(0,U.lV)()}get(){return function ni(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vr()||(0,U.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ko(w,g){Qt(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Zs{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new Rs(3e4,6e4);function se(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function me(w,g,y,E){return ke.apply(this,arguments)}function ke(){return(ke=(0,d.A)(function*(w,g,y,E,M={}){return ye(w,M,(0,d.A)(function*(){let F={},W={};E&&("GET"===g?W=E:F={body:JSON.stringify(E)});const Z=(0,U.Am)(Object.assign({key:w.config.apiKey},W)).slice(1),Fe=yield w._getAdditionalHeaders();return Fe["Content-Type"]="application/json",w.languageCode&&(Fe["X-Firebase-Locale"]=w.languageCode),Zs.fetch()(at(w,w.config.apiHost,y,Z),Object.assign({method:g,headers:Fe,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function ye(w,g,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.A)(function*(w,g,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},pe),g);try{const M=new Sn(w),F=yield Promise.race([y(),M.promise]);M.clearNetworkTimeout();const W=yield F.json();if("needConfirmation"in W)throw vn(w,"account-exists-with-different-credential",W);if(F.ok&&!("errorMessage"in W))return W;{const Z=F.ok?W.errorMessage:W.error.message,[Fe,qe]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw vn(w,"credential-already-in-use",W);if("EMAIL_EXISTS"===Fe)throw vn(w,"email-already-in-use",W);if("USER_DISABLED"===Fe)throw vn(w,"user-disabled",W);const st=E[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Re(w,st,qe);Se(w,st)}}catch(M){if(M instanceof U.g)throw M;Se(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Gt(w,g,y,E){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.A)(function*(w,g,y,E,M={}){const F=yield me(w,g,y,E,M);return"mfaPendingCredential"in F&&Se(w,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function at(w,g,y,E){const M=`${g}${y}?${E}`;return w.config.emulator?ko(w.config,M):`${w.config.apiScheme}://${M}`}class Sn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(ae(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(w,g,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const M=ae(w,g,E);return M.customData._tokenResponse=y,M}function Nt(){return(Nt=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ui(){return(ui=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xn(){return(Xn=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Fr(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Dt(){return(Dt=(0,d.A)(function*(w,g=!1){const y=(0,U.Ku)(w),E=yield y.getIdToken(g),M=Ft(E);_e(M&&M.exp&&M.auth_time&&M.iat,y.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,W=F?.sign_in_provider;return{claims:M,token:E,authTime:Fr(Zt(M.auth_time)),issuedAtTime:Fr(Zt(M.iat)),expirationTime:Fr(Zt(M.exp)),signInProvider:W||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Zt(w){return 1e3*Number(w)}function Ft(w){const[g,y,E]=w.split(".");if(void 0===g||void 0===y||void 0===E)return ue("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,U.u)(y);return M?JSON.parse(M):(ue("Failed to decode base64 JWT payload"),null)}catch(M){return ue("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Un(w,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.A)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof U.g&&function mn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Vi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.A)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,d.A)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class El{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vt(w){return xr.apply(this,arguments)}function xr(){return xr=(0,d.A)(function*(w){var g;const y=w.auth,E=yield w.getIdToken(),M=yield Un(w,function Li(w,g){return Xn.apply(this,arguments)}(y,{idToken:E}));_e(M?.users.length,y,"internal-error");const F=M.users[0];w._notifyReloadListener(F);const W=null!==(g=F.providerUserInfo)&&void 0!==g&&g.length?function Cl(w){return w.map(g=>{var{providerId:y}=g,E=(0,de.Tt)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(F.providerUserInfo):[],Z=function Js(w,g){return[...w.filter(E=>!g.some(M=>M.providerId===E.providerId)),...g]}(w.providerData,W),st=!!w.isAnonymous&&!(w.email&&F.passwordHash||Z?.length),mt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Z,metadata:new El(F.createdAt,F.lastLoginAt),isAnonymous:st};Object.assign(w,mt)}),xr.apply(this,arguments)}function Po(){return(Po=(0,d.A)(function*(w){const g=(0,U.Ku)(w);yield vt(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function No(){return(No=(0,d.A)(function*(w,g){const y=yield ye(w,{},(0,d.A)(function*(){const E=(0,U.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:F}=w.config,W=at(w,M,"/v1/token",`key=${F}`),Z=yield w._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",Zs.fetch()(W,{method:"POST",headers:Z,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){_e(g.idToken,"internal-error"),_e(typeof g.idToken<"u","internal-error"),_e(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Dn(w){const g=Ft(w);return _e(g,"internal-error"),_e(typeof g.exp<"u","internal-error"),_e(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,d.A)(function*(){return _e(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,d.A)(function*(){const{accessToken:M,refreshToken:F,expiresIn:W}=yield function cr(w,g){return No.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(M,F,Number(W))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:M,expirationTime:F}=y,W=new hs;return E&&(_e("string"==typeof E,"internal-error",{appName:g}),W.refreshToken=E),M&&(_e("string"==typeof M,"internal-error",{appName:g}),W.accessToken=M),F&&(_e("number"==typeof F,"internal-error",{appName:g}),W.expirationTime=F),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function Ci(w,g){_e("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Di{constructor(g){var{uid:y,auth:E,stsTokenManager:M}=g,F=(0,de.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new El(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,d.A)(function*(){const E=yield Un(y,y.stsTokenManager.getToken(y.auth,g));return _e(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function xl(w){return Dt.apply(this,arguments)}(this,g)}reload(){return function Wt(w){return Po.apply(this,arguments)}(this)}_assign(g){this!==g&&(_e(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new Di(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,d.A)(function*(){let M=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),M=!0),y&&(yield vt(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.A)(function*(){const y=yield g.getIdToken();return yield Un(g,function br(w,g){return Nt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,M,F,W,Z,Fe,qe,st;const mt=null!==(E=y.displayName)&&void 0!==E?E:void 0,ei=null!==(M=y.email)&&void 0!==M?M:void 0,xs=null!==(F=y.phoneNumber)&&void 0!==F?F:void 0,sl=null!==(W=y.photoURL)&&void 0!==W?W:void 0,dm=null!==(Z=y.tenantId)&&void 0!==Z?Z:void 0,ol=null!==(Fe=y._redirectEventId)&&void 0!==Fe?Fe:void 0,Xo=null!==(qe=y.createdAt)&&void 0!==qe?qe:void 0,Ql=null!==(st=y.lastLoginAt)&&void 0!==st?st:void 0,{uid:Gd,emailVerified:Wd,isAnonymous:su,providerData:Zl,stsTokenManager:E_}=y;_e(Gd&&E_,g,"internal-error");const cb=hs.fromJSON(this.name,E_);_e("string"==typeof Gd,g,"internal-error"),Ci(mt,g.name),Ci(ei,g.name),_e("boolean"==typeof Wd,g,"internal-error"),_e("boolean"==typeof su,g,"internal-error"),Ci(xs,g.name),Ci(sl,g.name),Ci(dm,g.name),Ci(ol,g.name),Ci(Xo,g.name),Ci(Ql,g.name);const hm=new Di({uid:Gd,auth:g,email:ei,emailVerified:Wd,displayName:mt,isAnonymous:su,photoURL:sl,phoneNumber:xs,tenantId:dm,stsTokenManager:cb,createdAt:Xo,lastLoginAt:Ql});return Zl&&Array.isArray(Zl)&&(hm.providerData=Zl.map(ub=>Object.assign({},ub))),ol&&(hm._redirectEventId=ol),hm}static _fromIdTokenResponse(g,y,E=!1){return(0,d.A)(function*(){const M=new hs;M.updateFromServerResponse(y);const F=new Di({uid:y.localId,auth:g,stsTokenManager:M,isAnonymous:E});return yield vt(F),F})()}}const eo=new Map;function Gn(w){Qt(w instanceof Function,"Expected a class definition");let g=eo.get(w);return g?(Qt(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,eo.set(w,g),g)}const ur=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(y,E){var M=this;return(0,d.A)(function*(){M.storage[y]=E})()}_get(y){var E=this;return(0,d.A)(function*(){const M=E.storage[y];return void 0===M?null:M})()}_remove(y){var E=this;return(0,d.A)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function G(w,g,y){return`firebase:${w}:${g}:${y}`}class z{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:M,name:F}=this.auth;this.fullUserKey=G(this.userKey,M.apiKey,F),this.fullPersistenceKey=G("persistence",M.apiKey,F),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.A)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Di._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,d.A)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,d.A)(function*(){if(!y.length)return new z(Gn(ur),g,E);const M=(yield Promise.all(y.map(function(){var qe=(0,d.A)(function*(st){if(yield st._isAvailable())return st});return function(st){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let F=M[0]||Gn(ur);const W=G(E,g.config.apiKey,g.name);let Z=null;for(const qe of y)try{const st=yield qe._get(W);if(st){const mt=Di._fromJSON(g,st);qe!==F&&(Z=mt),F=qe;break}}catch{}const Fe=M.filter(qe=>qe._shouldAllowMigration);return F._shouldAllowMigration&&Fe.length?(F=Fe[0],Z&&(yield F._set(W,Z.toJSON())),yield Promise.all(y.map(function(){var qe=(0,d.A)(function*(st){if(st!==F)try{yield st._remove(W)}catch{}});return function(st){return qe.apply(this,arguments)}}())),new z(F,g,E)):new z(F,g,E)})()}}function Q(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(St(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ae(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(dn(g))return"Blackberry";if(ii(g))return"Webos";if(fe(g))return"Safari";if((g.includes("chrome/")||ht(g))&&!g.includes("edge/"))return"Chrome";if(on(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Ae(w=(0,U.ZQ)()){return/firefox\//i.test(w)}function fe(w=(0,U.ZQ)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ht(w=(0,U.ZQ)()){return/crios\//i.test(w)}function St(w=(0,U.ZQ)()){return/iemobile/i.test(w)}function on(w=(0,U.ZQ)()){return/android/i.test(w)}function dn(w=(0,U.ZQ)()){return/blackberry/i.test(w)}function ii(w=(0,U.ZQ)()){return/webos/i.test(w)}function Lt(w=(0,U.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function to(w=(0,U.ZQ)()){return Lt(w)||on(w)||ii(w)||dn(w)||/windows phone/i.test(w)||St(w)}function Ce(w,g=[]){let y;switch(w){case"Browser":y=Q((0,U.ZQ)());break;case"Worker":y=`${Q((0,U.ZQ)())}-${w}`;break;default:y=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${oe.SDK_VERSION}/${E}`}function Ue(){return(Ue=(0,d.A)(function*(w){return(yield me(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gt(w,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.A)(function*(w,g){return me(w,"GET","/v2/recaptchaConfig",se(w,g))})).apply(this,arguments)}function rt(w){return void 0!==w&&void 0!==w.getResponse}function cn(w){return void 0!==w&&void 0!==w.enterprise}class ri{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function ks(w){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=M=>{const F=ae("internal-error");F.customData=M,y(F)},E.type="text/javascript",E.charset="UTF-8",function Yn(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Cr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class bc{constructor(g){this.type="recaptcha-enterprise",this.auth=Qn(g)}verify(g="verify",y=!1){var E=this;return(0,d.A)(function*(){function F(){return F=(0,d.A)(function*(Z){if(!y){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Fe=(0,d.A)(function*(qe,st){gt(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mt=>{if(void 0!==mt.recaptchaKey){const ei=new ri(mt);return null==Z.tenantId?Z._agentRecaptchaConfig=ei:Z._tenantRecaptchaConfigs[Z.tenantId]=ei,qe(ei.siteKey)}st(new Error("recaptcha Enterprise site key undefined"))}).catch(mt=>{st(mt)})});return function(qe,st){return Fe.apply(this,arguments)}}())}),F.apply(this,arguments)}function W(Z,Fe,qe){const st=window.grecaptcha;cn(st)?st.enterprise.ready(()=>{st.enterprise.execute(Z,{action:g}).then(mt=>{Fe(mt)}).catch(()=>{Fe("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Fe)=>{(function M(Z){return F.apply(this,arguments)})(E.auth).then(qe=>{if(!y&&cn(window.grecaptcha))W(qe,Z,Fe);else{if(typeof window>"u")return void Fe(new Error("RecaptchaVerifier is only supported in browser"));ks("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{W(qe,Z,Fe)}).catch(st=>{Fe(st)})}}).catch(qe=>{Fe(qe)})})})()}}function Kr(w,g,y){return wc.apply(this,arguments)}function wc(){return(wc=(0,d.A)(function*(w,g,y,E=!1){const M=new bc(w);let F;try{F=yield M.verify(y)}catch{F=yield M.verify(y,!0)}const W=Object.assign({},g);return Object.assign(W,E?{captchaResp:F}:{captchaResponse:F}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}class ia{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=F=>new Promise((W,Z)=>{try{W(g(F))}catch(Fe){Z(Fe)}});E.onAbort=y,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,d.A)(function*(){if(y.auth.currentUser===g)return;const E=[];try{for(const M of y.queue)yield M(g),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const F of E)try{F()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class zu{constructor(g,y,E,M){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new La(this),this.idTokenSubscription=new La(this),this.beforeStateQueue=new ia(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=Gn(y)),this._initializationPromise=this.queue((0,d.A)(function*(){var M,F;if(!E._deleted&&(E.persistenceManager=yield z.create(E,g),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.A)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,d.A)(function*(){var E;const M=yield y.assertedPersistence.getCurrentUser();let F=M,W=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Z=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,Fe=F?._redirectEventId,qe=yield y.tryRedirectSignIn(g);(!Z||Z===Fe)&&qe?.user&&(F=qe.user,W=!0)}if(!F)return y.directlySetCurrentUser(null);if(!F._redirectEventId){if(W)try{yield y.beforeStateQueue.runMiddleware(F)}catch(Z){F=M,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Z))}return F?y.reloadAndSetCurrentUserOrClear(F):y.directlySetCurrentUser(null)}return _e(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===F._redirectEventId?y.directlySetCurrentUser(F):y.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var y=this;return(0,d.A)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,d.A)(function*(){try{yield vt(g)}catch(E){if("auth/network-request-failed"!==E?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Fa(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,d.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,d.A)(function*(){const E=g?(0,U.Ku)(g):null;return E&&_e(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,d.A)(function*(){if(!E._deleted)return g&&_e(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,d.A)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.A)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,d.A)(function*(){yield y.assertedPersistence.setPersistence(Gn(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.A)(function*(){const y=yield gt(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new ri(y);null==g.tenantId?g._agentRecaptchaConfig=E:g._tenantRecaptchaConfigs[g.tenantId]=E,E.emailPasswordEnabled&&new bc(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.FA("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,d.A)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(y);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,d.A)(function*(){if(!y.redirectPersistenceManager){const E=g&&Gn(g)||y._popupRedirectResolver;_e(E,y,"argument-error"),y.redirectPersistenceManager=yield z.create(y,[Gn(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,d.A)(function*(){var E,M;return y._isInitialized&&(yield y.queue((0,d.A)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,d.A)(function*(){if(g===y.currentUser)return y.queue((0,d.A)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,M){if(this._deleted)return()=>{};const F="function"==typeof y?y:y.next.bind(y),W=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(W,this,"internal-error"),W.then(()=>F(this.currentUser)),"function"==typeof y?g.addObserver(y,E,M):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,d.A)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.A)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();M&&(E["X-Firebase-Client"]=M);const F=yield g._getAppCheckToken();return F&&(E["X-Firebase-AppCheck"]=F),E})()}_getAppCheckToken(){var g=this;return(0,d.A)(function*(){var y;const E=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return E?.error&&function xt(w,...g){It.logLevel<=he.$b.WARN&&It.warn(`Auth (${oe.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Qn(w){return(0,U.Ku)(w)}class La{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.tD)(y=>this.observer=y)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ii(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Cc(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class ra{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Mt("not implemented")}_getIdTokenResponse(g){return Mt("not implemented")}_linkToIdToken(g,y){return Mt("not implemented")}_getReauthenticationResolver(g){return Mt("not implemented")}}function Bh(w,g){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:resetPassword",se(w,g))})).apply(this,arguments)}function Tl(w,g){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $u(){return($u=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:update",se(w,g))})).apply(this,arguments)}function Ui(w,g){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithPassword",se(w,g))})).apply(this,arguments)}function Dc(w,g){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:sendOobCode",se(w,g))})).apply(this,arguments)}function Ku(){return(Ku=(0,d.A)(function*(w,g){return Dc(w,g)})).apply(this,arguments)}function Va(w,g){return qu.apply(this,arguments)}function qu(){return(qu=(0,d.A)(function*(w,g){return Dc(w,g)})).apply(this,arguments)}function Sc(w,g){return en.apply(this,arguments)}function en(){return(en=(0,d.A)(function*(w,g){return Dc(w,g)})).apply(this,arguments)}function Hi(){return(Hi=(0,d.A)(function*(w,g){return Dc(w,g)})).apply(this,arguments)}function Dr(){return(Dr=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithEmailLink",se(w,g))})).apply(this,arguments)}function Xu(){return(Xu=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithEmailLink",se(w,g))})).apply(this,arguments)}class sa extends ra{constructor(g,y,E,M=null){super("password",E),this._email=g,this._password=y,this._tenantId=M}static _fromEmailAndPassword(g,y){return new sa(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new sa(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,d.A)(function*(){var E;switch(y.signInMethod){case"password":const M={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=g._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const F=yield Kr(g,M,"signInWithPassword");return Ui(g,F)}return Ui(g,M).catch(function(){var F=(0,d.A)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield Kr(g,M,"signInWithPassword");return Ui(g,Z)}return Promise.reject(W)});return function(W){return F.apply(this,arguments)}}());case"emailLink":return function Fo(w,g){return Dr.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Se(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,d.A)(function*(){switch(E.signInMethod){case"password":return Tl(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function jp(w,g){return Xu.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:Se(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Xr(w,g){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithIdp",se(w,g))})).apply(this,arguments)}class Ye extends ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ye(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M}=y,F=(0,de.Tt)(y,["providerId","signInMethod"]);if(!E||!M)return null;const W=new Ye(E,M);return W.idToken=F.idToken||void 0,W.accessToken=F.accessToken||void 0,W.secret=F.secret,W.nonce=F.nonce,W.pendingToken=F.pendingToken||null,W}_getIdTokenResponse(g){return Xr(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,Xr(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Xr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,U.Am)(y)}return g}}function wn(){return(wn=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:sendVerificationCode",se(w,g))})).apply(this,arguments)}function Ba(){return(Ba=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",se(w,g))})).apply(this,arguments)}function Yr(){return(Yr=(0,d.A)(function*(w,g){const y=yield Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",se(w,g));if(y.temporaryProof)throw vn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Kn={USER_NOT_FOUND:"user-not-found"};function ps(){return(ps=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",se(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Kn)})).apply(this,arguments)}class Ct extends ra{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ct({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ct({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Lr(w,g){return Ba.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function dr(w,g){return Yr.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Lo(w,g){return ps.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:M}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:M,temporaryProof:F}=g;return E||y||M||F?new Ct({verificationId:y,verificationCode:E,phoneNumber:M,temporaryProof:F}):null}}class io{constructor(g){var y,E,M,F,W,Z;const Fe=(0,U.I9)((0,U.hp)(g)),qe=null!==(y=Fe.apiKey)&&void 0!==y?y:null,st=null!==(E=Fe.oobCode)&&void 0!==E?E:null,mt=function Al(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Fe.mode)&&void 0!==M?M:null);_e(qe&&st&&mt,"argument-error"),this.apiKey=qe,this.operation=mt,this.code=st,this.continueUrl=null!==(F=Fe.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(W=Fe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(Z=Fe.tenantId)&&void 0!==Z?Z:null}static parseLink(g){const y=function Ml(w){const g=(0,U.I9)((0,U.hp)(w)).link,y=g?(0,U.I9)((0,U.hp)(g)).deep_link_id:null,E=(0,U.I9)((0,U.hp)(w)).deep_link_id;return(E?(0,U.I9)((0,U.hp)(E)).link:null)||E||y||g||w}(g);try{return new io(y)}catch{return null}}}let Ua=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return sa._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const M=io.parseLink(E);return _e(M,"argument-error"),sa._fromEmailAndCode(y,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ir{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Sr extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Qr extends Sr{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return _e("providerId"in y&&"signInMethod"in y,"argument-error"),Ye._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return _e(g.idToken||g.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Qr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Qr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:F,nonce:W,providerId:Z}=g;if(!E&&!M&&!y&&!F||!Z)return null;try{return new Qr(Z)._credential({idToken:y,accessToken:E,nonce:W,pendingToken:F})}catch{return null}}}let jh=(()=>{class w extends Sr{constructor(){super("facebook.com")}static credential(y){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ms=(()=>{class w extends Sr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:M}=y;if(!E&&!M)return null;try{return w.credential(E,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),ro=(()=>{class w extends Sr{constructor(){super("github.com")}static credential(y){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Os extends ra{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Xr(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,Xr(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Xr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M,pendingToken:F}=y;return E&&M&&F&&E===M?new Os(E,F):null}static _create(g,y){return new Os(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qu extends Ir{constructor(g){_e(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Qu.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Qu.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Os.fromJSON(g);return _e(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return Os._create(E,y)}catch{return null}}}let Rl=(()=>{class w extends Sr{constructor(){super("twitter.com")}static credential(y,E){return Ye._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=y;if(!E||!M)return null;try{return w.credential(E,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ps(w,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signUp",se(w,g))})).apply(this,arguments)}class Qi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,M=!1){return(0,d.A)(function*(){const F=yield Di._fromIdTokenResponse(g,E,M),W=so(E);return new Qi({user:F,providerId:W,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,d.A)(function*(){yield g._updateTokensIfNecessary(E,!0);const M=so(E);return new Qi({user:g,providerId:M,_tokenResponse:E,operationType:y})})()}}function so(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Si(){return(Si=(0,d.A)(function*(w){var g;const y=Qn(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Qi({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield Ps(y,{returnSecureToken:!0}),M=yield Qi._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class Tc extends U.g{constructor(g,y,E,M){var F;super(y.code,y.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,M){return new Tc(g,y,E,M)}}function hr(w,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Tc._fromErrorAndOperation(w,F,g,E):F})}function Zi(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Ji(){return Ji=(0,d.A)(function*(w,g){const y=(0,U.Ku)(w);yield Bo(!0,y,g);const{providerUserInfo:E}=yield function qn(w,g){return ui.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),M=Zi(E||[]);return y.providerData=y.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Ji.apply(this,arguments)}function oa(w,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.A)(function*(w,g,y=!1){const E=yield Un(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return Qi._forOperation(w,"link",E)})).apply(this,arguments)}function Bo(w,g,y){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,d.A)(function*(w,g,y){yield vt(g);const M=!1===w?"provider-already-linked":"no-such-provider";_e(Zi(g.providerData).has(y)===w,g.auth,M)})).apply(this,arguments)}function Hp(w,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,d.A)(function*(w,g,y=!1){const{auth:E}=w,M="reauthenticate";try{const F=yield Un(w,hr(E,M,g,w),y);_e(F.idToken,E,"internal-error");const W=Ft(F.idToken);_e(W,E,"internal-error");const{sub:Z}=W;return _e(w.uid===Z,E,"user-mismatch"),Qi._forOperation(w,M,F)}catch(F){throw"auth/user-not-found"===F?.code&&Se(E,"user-mismatch"),F}})).apply(this,arguments)}function td(w,g){return nd.apply(this,arguments)}function nd(){return(nd=(0,d.A)(function*(w,g,y=!1){const E="signIn",M=yield hr(w,E,g),F=yield Qi._fromIdTokenResponse(w,E,M);return y||(yield w._updateCurrentUser(F.user)),F})).apply(this,arguments)}function id(w,g){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,d.A)(function*(w,g){return td(Qn(w),g)})).apply(this,arguments)}function Jg(w,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.A)(function*(w,g){const y=(0,U.Ku)(w);return yield Bo(!1,y,g.providerId),oa(y,g)})).apply(this,arguments)}function e_(w,g){return zp.apply(this,arguments)}function zp(){return(zp=(0,d.A)(function*(w,g){return Hp((0,U.Ku)(w),g)})).apply(this,arguments)}function $p(){return($p=(0,d.A)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithCustomToken",se(w,g))})).apply(this,arguments)}function oo(){return oo=(0,d.A)(function*(w,g){const y=Qn(w),E=yield function Qv(w,g){return $p.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),M=yield Qi._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(M.user),M}),oo.apply(this,arguments)}class rd{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Ac._fromServerResponse(g,y):"totpInfo"in y?sd._fromServerResponse(g,y):Se(g,"internal-error")}}class Ac extends rd{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Ac(y)}}class sd extends rd{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new sd(y)}}function aa(w,g,y){var E;_e((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),_e(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(_e(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(_e(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Ol(){return Ol=(0,d.A)(function*(w,g,y){var E;const M=Qn(w),F={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const W=yield Kr(M,F,"getOobCode",!0);y&&aa(M,W,y),yield Va(M,W)}else y&&aa(M,F,y),yield Va(M,F).catch(function(){var W=(0,d.A)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fe=yield Kr(M,F,"getOobCode",!0);y&&aa(M,Fe,y),yield Va(M,Fe)}});return function(Z){return W.apply(this,arguments)}}())}),Ol.apply(this,arguments)}function ao(){return(ao=(0,d.A)(function*(w,g,y){yield Bh((0,U.Ku)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Zr(){return Zr=(0,d.A)(function*(w,g){yield function qr(w,g){return $u.apply(this,arguments)}((0,U.Ku)(w),{oobCode:g})}),Zr.apply(this,arguments)}function $h(w,g){return si.apply(this,arguments)}function si(){return(si=(0,d.A)(function*(w,g){const y=(0,U.Ku)(w),E=yield Bh(y,{oobCode:g}),M=E.requestType;switch(_e(M,y,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(E.mfaInfo,y,"internal-error");default:_e(E.email,y,"internal-error")}let F=null;return E.mfaInfo&&(F=rd._fromServerResponse(Qn(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function zi(){return(zi=(0,d.A)(function*(w,g){const{data:y}=yield $h((0,U.Ku)(w),g);return y.email})).apply(this,arguments)}function Pl(){return Pl=(0,d.A)(function*(w,g,y){var E;const M=Qn(w),F={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let W;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const qe=yield Kr(M,F,"signUpPassword");W=Ps(M,qe)}else W=Ps(M,F).catch(function(){var qe=(0,d.A)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const mt=yield Kr(M,F,"signUpPassword");return Ps(M,mt)}return Promise.reject(st)});return function(st){return qe.apply(this,arguments)}}());const Z=yield W.catch(qe=>Promise.reject(qe)),Fe=yield Qi._fromIdTokenResponse(M,"signIn",Z);return yield M._updateCurrentUser(Fe.user),Fe}),Pl.apply(this,arguments)}function Ha(){return Ha=(0,d.A)(function*(w,g,y){var E;const M=Qn(w),F={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function W(Z,Fe){_e(Fe.handleCodeInApp,M,"argument-error"),Fe&&aa(M,Z,Fe)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Z=yield Kr(M,F,"getOobCode",!0);W(Z,y),yield Sc(M,Z)}else W(F,y),yield Sc(M,F).catch(function(){var Z=(0,d.A)(function*(Fe){if("auth/missing-recaptcha-token"!==Fe.code)return Promise.reject(Fe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield Kr(M,F,"getOobCode",!0);W(qe,y),yield Sc(M,qe)}});return function(Fe){return Z.apply(this,arguments)}}())}),Ha.apply(this,arguments)}function Mc(){return(Mc=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w),M=Ua.credentialWithLink(g,y||Fi());return _e(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),id(E,M)})).apply(this,arguments)}function ld(){return(ld=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:createAuthUri",se(w,g))})).apply(this,arguments)}function za(){return za=(0,d.A)(function*(w,g){const E={identifier:g,continueUri:vr()?Fi():"http://localhost"},{signinMethods:M}=yield function ad(w,g){return ld.apply(this,arguments)}((0,U.Ku)(w),E);return M||[]}),za.apply(this,arguments)}function lo(){return lo=(0,d.A)(function*(w,g){const y=(0,U.Ku)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&aa(y.auth,M,g);const{email:F}=yield function Ic(w,g){return Ku.apply(this,arguments)}(y.auth,M);F!==w.email&&(yield w.reload())}),lo.apply(this,arguments)}function kc(){return kc=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&aa(E.auth,F,y);const{email:W}=yield function ji(w,g){return Hi.apply(this,arguments)}(E.auth,F);W!==w.email&&(yield w.reload())}),kc.apply(this,arguments)}function Wp(){return(Wp=(0,d.A)(function*(w,g){return me(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oc(){return Oc=(0,d.A)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,U.Ku)(w),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},W=yield Un(E,function n_(w,g){return Wp.apply(this,arguments)}(E.auth,F));E.displayName=W.displayName||null,E.photoURL=W.photoUrl||null;const Z=E.providerData.find(({providerId:Fe})=>"password"===Fe);Z&&(Z.displayName=E.displayName,Z.photoURL=E.photoURL),yield E._updateTokensIfNecessary(W)}),Oc.apply(this,arguments)}function dd(w,g,y){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.A)(function*(w,g,y){const{auth:E}=w,F={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(F.email=g),y&&(F.password=y);const W=yield Un(w,Tl(E,F));yield w._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class $a{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class Nc extends $a{constructor(g,y,E,M){super(g,y,E),this.username=M}}class Wh extends $a{constructor(g,y){super(g,"facebook.com",y)}}class Kh extends Nc{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Fl extends $a{constructor(g,y){super(g,"google.com",y)}}class Ll extends Nc{constructor(g,y,E){super(g,"twitter.com",y,E)}}function Kp(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function hd(w){var g,y;if(!w)return null;const{providerId:E}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},F=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const W=null===(y=null===(g=Ft(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(W)return new $a(F,"anonymous"!==W&&"custom"!==W?W:null)}if(!E)return null;switch(E){case"facebook.com":return new Wh(F,M);case"github.com":return new Kh(F,M);case"google.com":return new Fl(F,M);case"twitter.com":return new Ll(F,M,w.screenName||null);case"custom":case"anonymous":return new $a(F,null);default:return new $a(F,E,M)}}(y)}class co{constructor(g,y,E){this.type=g,this.credential=y,this.auth=E}static _fromIdtoken(g,y){return new co("enroll",g,y)}static _fromMfaPendingCredential(g){return new co("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return co._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return co._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ua{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=Qn(g),M=y.customData._serverResponse,F=(M.mfaInfo||[]).map(Z=>rd._fromServerResponse(E,Z));_e(M.mfaPendingCredential,E,"internal-error");const W=co._fromMfaPendingCredential(M.mfaPendingCredential);return new ua(W,F,function(){var Z=(0,d.A)(function*(Fe){const qe=yield Fe._process(E,W);delete M.mfaInfo,delete M.mfaPendingCredential;const st=Object.assign(Object.assign({},M),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(y.operationType){case"signIn":const mt=yield Qi._fromIdTokenResponse(E,y.operationType,st);return yield E._updateCurrentUser(mt.user),mt;case"reauthenticate":return _e(y.user,E,"internal-error"),Qi._forOperation(y.user,y.operationType,st);default:Se(E,"internal-error")}});return function(Fe){return Z.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,d.A)(function*(){return y.signInResolver(g)})()}}class da{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>rd._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new da(g)}getSession(){var g=this;return(0,d.A)(function*(){return co._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var E=this;return(0,d.A)(function*(){const M=g,F=yield E.getSession(),W=yield Un(E.user,M._process(E.user.auth,F,y));return yield E.user._updateTokensIfNecessary(W),E.user.reload()})()}unenroll(g){var y=this;return(0,d.A)(function*(){const E="string"==typeof g?g:g.uid,M=yield y.user.getIdToken();try{const F=yield Un(y.user,function Jh(w,g){return me(w,"POST","/v2/accounts/mfaEnrollment:withdraw",se(w,g))}(y.user.auth,{idToken:M,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:W})=>W!==E),yield y.user._updateTokensIfNecessary(F),yield y.user.reload()}catch(F){throw F}})()}}const fn=new WeakMap,ha="__sak";class Ar{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ka=(()=>{class w extends Ar{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ef(){const w=(0,U.ZQ)();return fe(w)||Lt(w)}()&&function Dl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=to(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),F=this.localCache[E];M!==F&&y(E,F,M)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Z,Fe,qe)=>{this.notifyListeners(Z,qe)});const M=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(M);if(y.newValue!==Z)null!==y.newValue?this.storage.setItem(M,y.newValue):this.storage.removeItem(M);else if(this.localCache[M]===y.newValue&&!E)return}const F=()=>{const Z=this.storage.getItem(M);!E&&this.localCache[M]===Z||this.notifyListeners(M,Z)},W=this.storage.getItem(M);!function Er(){return(0,U.lT)()&&10===document.documentMode}()||W===y.newValue||y.newValue===y.oldValue?F():setTimeout(F,10)}notifyListeners(y,E){this.localCache[y]=E;const M=this.listeners[y];if(M)for(const F of Array.from(M))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var M=()=>super._set,F=this;return(0,d.A)(function*(){yield M().call(F,y,E),F.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,M=this;return(0,d.A)(function*(){const F=yield E().call(M,y);return M.localCache[y]=JSON.stringify(F),F})()}_remove(y){var E=()=>super._remove,M=this;return(0,d.A)(function*(){yield E().call(M,y),delete M.localCache[y]})()}}return w.type="LOCAL",w})(),fa=(()=>{class w extends Ar{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let Lc=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(F=>F.isListeningto(y));if(E)return E;const M=new w(y);return this.receivers.push(M),M}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,d.A)(function*(){const M=y,{eventId:F,eventType:W,data:Z}=M.data,Fe=E.handlersMap[W];if(!Fe?.size)return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:W});const qe=Array.from(Fe).map(function(){var mt=(0,d.A)(function*(ei){return ei(M.origin,Z)});return function(ei){return mt.apply(this,arguments)}}()),st=yield function pa(w){return Promise.all(w.map(function(){var g=(0,d.A)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(qe);M.ports[0].postMessage({status:"done",eventId:F,eventType:W,response:st})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function yd(w="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return w+y}class a_{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var M=this;return(0,d.A)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let W,Z;return new Promise((Fe,qe)=>{const st=yd("",20);F.port1.start();const mt=setTimeout(()=>{qe(new Error("unsupported_event"))},E);Z={messageChannel:F,onMessage(ei){const xs=ei;if(xs.data.eventId===st)switch(xs.data.status){case"ack":clearTimeout(mt),W=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Fe(xs.data.response);break;default:clearTimeout(mt),clearTimeout(W),qe(new Error("invalid_response"))}}},M.handlers.add(Z),F.port1.addEventListener("message",Z.onMessage),M.target.postMessage({eventType:g,eventId:st,data:y},[F.port2])}).finally(()=>{Z&&M.removeMessageHandler(Z)})})()}}function Mn(){return window}function vd(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function Vc(){return(Vc=(0,d.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const tf="firebaseLocalStorageDb",qa="firebaseLocalStorage",uo="fbase_key";class Bc{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Uc(w,g){return w.transaction([qa],g?"readwrite":"readonly").objectStore(qa)}function wd(){const w=indexedDB.open(tf,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(qa,{keyPath:uo})}catch(M){y(M)}}),w.addEventListener("success",(0,d.A)(function*(){const E=w.result;E.objectStoreNames.contains(qa)?g(E):(E.close(),yield function l_(){const w=indexedDB.deleteDatabase(tf);return new Bc(w).toPromise()}(),g(yield wd()))}))})}function Vl(w,g,y){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(w,g,y){const E=Uc(w,!0).put({[uo]:g,value:y});return new Bc(E).toPromise()})).apply(this,arguments)}function jc(){return(jc=(0,d.A)(function*(w,g){const y=Uc(w,!1).get(g),E=yield new Bc(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function xd(w,g){const y=Uc(w,!0).delete(g);return new Bc(y).toPromise()}const Mr=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,d.A)(function*(){return y.db||(y.db=yield wd()),y.db})()}_withRetries(y){var E=this;return(0,d.A)(function*(){let M=0;for(;;)try{const F=yield E._openDb();return yield y(F)}catch(F){if(M++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,d.A)(function*(){return vd()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,d.A)(function*(){y.receiver=Lc._getInstance(function Ai(){return vd()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,d.A)(function*(M,F){return{keyProcessed:(yield y._poll()).includes(F.key)}});return function(M,F){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,d.A)(function*(M,F){return["keyChanged"]});return function(M,F){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,d.A)(function*(){var E,M;if(y.activeServiceWorker=yield function kt(){return Vc.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new a_(y.activeServiceWorker);const F=yield y.sender._send("ping",{},800);F&&null!==(E=F[0])&&void 0!==E&&E.fulfilled&&null!==(M=F[0])&&void 0!==M&&M.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,d.A)(function*(){if(E.sender&&E.activeServiceWorker&&function bd(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const y=yield wd();return yield Vl(y,ha,"1"),yield xd(y,ha),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,d.A)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var M=this;return(0,d.A)(function*(){return M._withPendingWrite((0,d.A)(function*(){return yield M._withRetries(F=>Vl(F,y,E)),M.localCache[y]=E,M.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,d.A)(function*(){const M=yield E._withRetries(F=>function zt(w,g){return jc.apply(this,arguments)}(F,y));return E.localCache[y]=M,M})()}_remove(y){var E=this;return(0,d.A)(function*(){return E._withPendingWrite((0,d.A)(function*(){return yield E._withRetries(M=>xd(M,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,d.A)(function*(){const E=yield y._withRetries(W=>{const Z=Uc(W,!1).getAll();return new Bc(Z).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:W,value:Z}of E)F.add(W),JSON.stringify(y.localCache[W])!==JSON.stringify(Z)&&(y.notifyListeners(W,Z),M.push(W));for(const W of Object.keys(y.localCache))y.localCache[W]&&!F.has(W)&&(y.notifyListeners(W,null),M.push(W));return M})()}notifyListeners(y,E){this.localCache[y]=E;const M=this.listeners[y];if(M)for(const F of Array.from(M))F(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),fi=1e12;class ho{constructor(g){this.auth=g,this.counter=fi,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new Sd(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||fi;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||fi))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,d.A)(function*(){var E;return null===(E=y._widgets.get(g||fi))||void 0===E||E.execute(),""})()}}class Sd{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;_e(M,"argument-error",{appName:y}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Uo(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(y.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gs=Cr("rcb"),nf=new Rs(3e4,6e4);class u_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Mn().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return _e(function rf(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&rt(Mn().grecaptcha)?Promise.resolve(Mn().grecaptcha):new Promise((E,M)=>{const F=Mn().setTimeout(()=>{M(ae(g,"network-request-failed"))},nf.get());Mn()[gs]=()=>{Mn().clearTimeout(F),delete Mn()[gs];const Z=Mn().grecaptcha;if(!Z||!rt(Z))return void M(ae(g,"internal-error"));const Fe=Z.render;Z.render=(qe,st)=>{const mt=Fe(qe,st);return this.counter++,mt},this.hostLanguage=y,E(Z)},ks(`https://www.google.com/recaptcha/api.js??${(0,U.Am)({onload:gs,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(F),M(ae(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Mn().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sf{load(g){return(0,d.A)(function*(){return new ho(g)})()}clearedOneInstance(){}}const Ul="recaptcha",Zp={theme:"light",type:"image"};class Hc{constructor(g,y=Object.assign({},Zp),E){this.parameters=y,this.type=Ul,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(E),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;_e(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sf:new u_,this.validateStartingState()}verify(){var g=this;return(0,d.A)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(F=>{const W=Z=>{Z&&(g.tokenChangeListeners.delete(W),F(Z))};g.tokenChangeListeners.add(W),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=Mn()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.A)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.A)(function*(){_e(vr()&&!vd(),g.auth,"internal-error"),yield function d_(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function re(w){return Ue.apply(this,arguments)}(g.auth);_e(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pi{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ct._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function jo(){return(jo=(0,d.A)(function*(w,g,y){const E=Qn(w),M=yield jl(E,g,(0,U.Ku)(y));return new pi(M,F=>id(E,F))})).apply(this,arguments)}function lt(){return(lt=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w);yield Bo(!1,E,"phone");const M=yield jl(E.auth,g,(0,U.Ku)(y));return new pi(M,F=>Jg(E,F))})).apply(this,arguments)}function Xa(){return(Xa=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w),M=yield jl(E.auth,g,(0,U.Ku)(y));return new pi(M,F=>e_(E,F))})).apply(this,arguments)}function jl(w,g,y){return Td.apply(this,arguments)}function Td(){return Td=(0,d.A)(function*(w,g,y){var E;const M=yield y.verify();try{let F;if(_e("string"==typeof M,w,"argument-error"),_e(y.type===Ul,w,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const W=F.session;if("phoneNumber"in F)return _e("enroll"===W.type,w,"internal-error"),(yield function md(w,g){return me(w,"POST","/v2/accounts/mfaEnrollment:start",se(w,g))}(w,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{_e("signin"===W.type,w,"internal-error");const Z=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return _e(Z,w,"missing-multi-factor-info"),(yield function Dd(w,g){return me(w,"POST","/v2/accounts/mfaSignIn:start",se(w,g))}(w,{mfaPendingCredential:W.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function Bt(w,g){return wn.apply(this,arguments)}(w,{phoneNumber:F.phoneNumber,recaptchaToken:M});return W}}finally{y._reset()}}),Td.apply(this,arguments)}function Vs(){return(Vs=(0,d.A)(function*(w,g){yield oa((0,U.Ku)(w),g)})).apply(this,arguments)}let bn=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Qn(y)}verifyPhoneNumber(y,E){return jl(this.auth,y,(0,U.Ku)(E))}static credential(y,E){return Ct._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:M}=y;return E&&M?Ct._fromTokenResponse(E,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function _s(w,g){return g?Gn(g):(_e(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ft extends ra{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Xr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Xr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Xr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Ad(w){return td(w.auth,new ft(w),w.bypassAuthState)}function af(w){const{auth:g,user:y}=w;return _e(y,g,"internal-error"),Hp(y,new ft(w),w.bypassAuthState)}function ma(w){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.A)(function*(w){const{auth:g,user:y}=w;return _e(y,g,"internal-error"),oa(y,new ft(w),w.bypassAuthState)})).apply(this,arguments)}class ga{constructor(g,y,E,M,F=!1){this.auth=g,this.resolver=E,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,d.A)(function*(E,M){g.pendingPromise={resolve:E,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,M){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,d.A)(function*(){const{urlResponse:E,sessionId:M,postBody:F,tenantId:W,error:Z,type:Fe}=g;if(Z)return void y.reject(Z);const qe={auth:y.auth,requestUri:E,sessionId:M,tenantId:W||void 0,postBody:F||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Fe)(qe))}catch(st){y.reject(st)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ad;case"linkViaPopup":case"linkViaRedirect":return ma;case"reauthViaPopup":case"reauthViaRedirect":return af;default:Se(this.auth,"internal-error")}}resolve(g){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const un=new Rs(2e3,1e4);function ys(){return(ys=(0,d.A)(function*(w,g,y){const E=Qn(w);je(w,g,Ir);const M=_s(E,y);return new Ho(E,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function _a(){return(_a=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w);je(E.auth,g,Ir);const M=_s(E.auth,y);return new Ho(E.auth,"reauthViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}function ya(){return(ya=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w);je(E.auth,g,Ir);const M=_s(E.auth,y);return new Ho(E.auth,"linkViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}let Ho=(()=>{class w extends ga{constructor(y,E,M,F,W){super(y,E,F,W),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,d.A)(function*(){const E=yield y.execute();return _e(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,d.A)(function*(){Qt(1===y.filter.length,"Popup operations only handle one event");const E=yd();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(M=>{y.reject(M)}),y.resolver._isIframeWebStorageSupported(y.auth,M=>{M||y.reject(ae(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,un.get())};y()}}return w.currentPopupAction=null,w})();const Rd="pendingRedirect",Jr=new Map;class po extends ga{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,d.A)(function*(){let E=Jr.get(y.auth._key());if(!E){try{const F=(yield function Hl(w,g){return Jp.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(F)}catch(M){E=()=>Promise.reject(M)}Jr.set(y.auth._key(),E)}return y.bypassAuthState||Jr.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,d.A)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const M=yield E.auth._redirectUserForId(g.eventId);if(M)return E.user=M,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Jp(){return(Jp=(0,d.A)(function*(w,g){const y=$c(g),E=cf(w);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(y));return yield E._remove(y),M})).apply(this,arguments)}function mo(w,g){return go.apply(this,arguments)}function go(){return(go=(0,d.A)(function*(w,g){return cf(w)._set($c(g),"true")})).apply(this,arguments)}function Mi(w,g){Jr.set(w._key(),g)}function cf(w){return Gn(w._redirectPersistence)}function $c(w){return G(Rd,w.config.apiKey,w.name)}function Kt(w,g,y){return function jn(w,g,y){return tr.apply(this,arguments)}(w,g,y)}function tr(){return(tr=(0,d.A)(function*(w,g,y){const E=Qn(w);je(w,g,Ir),yield E._initializationPromise;const M=_s(E,y);return yield mo(M,E),M._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function vs(w,g,y){return function Zn(w,g,y){return Jn.apply(this,arguments)}(w,g,y)}function Jn(){return(Jn=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w);je(E.auth,g,Ir),yield E.auth._initializationPromise;const M=_s(E.auth,y);yield mo(M,E.auth);const F=yield Ya(E);return M._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function kd(w,g,y){return function uf(w,g,y){return Gc.apply(this,arguments)}(w,g,y)}function Gc(){return(Gc=(0,d.A)(function*(w,g,y){const E=(0,U.Ku)(w);je(E.auth,g,Ir),yield E.auth._initializationPromise;const M=_s(E.auth,y);yield Bo(!1,E,g.providerId),yield mo(M,E.auth);const F=yield Ya(E);return M._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function Gi(){return(Gi=(0,d.A)(function*(w,g){return yield Qn(w)._initializationPromise,Hn(w,g,!1)})).apply(this,arguments)}function Hn(w,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.A)(function*(w,g,y=!1){const E=Qn(w),M=_s(E,g),W=yield new po(E,M,y).execute();return W&&!y&&(delete W.user._redirectEventId,yield E._persistUserIfCurrent(W.user),yield E._setRedirectUser(null,g)),W})).apply(this,arguments)}function Ya(w){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.A)(function*(w){const g=yd(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Qa{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Kc(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Go(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Go(g)){const M=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(ae(this.auth,M))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wc(g))}saveEventToCache(g){this.cachedEventUids.add(Wc(g)),this.lastProcessedEventTime=Date.now()}}function Wc(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Go({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function oi(w){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.A)(function*(w,g={}){return me(w,"GET","/v1/projects",g)})).apply(this,arguments)}const qc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xc=/^https?/;function Wo(){return(Wo=(0,d.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield oi(w);for(const y of g)try{if(Od(y))return}catch{}Se(w,"unauthorized-domain")})).apply(this,arguments)}function Od(w){const g=Fi(),{protocol:y,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const W=new URL(w);return""===W.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&W.hostname===E}if(!Xc.test(y))return!1;if(qc.test(w))return E===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const bs=new Rs(3e4,6e4);function va(){const w=Mn().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Rn=null;const df=new Rs(5e3,15e3),Pd="__/auth/iframe",hf="emulator/auth/iframe",Nd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Za(w){const g=w.config;_e(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?ko(g,hf):`https://${w.config.authDomain}/${Pd}`,E={apiKey:g.apiKey,appName:w.name,v:oe.SDK_VERSION},M=Fd.get(w.config.apiHost);M&&(E.eid=M);const F=w._getFrameworks();return F.length&&(E.fw=F.join(",")),`${y}?${(0,U.Am)(E).slice(1)}`}function T(){return T=(0,d.A)(function*(w){const g=yield function ba(w){return Rn=Rn||function Ko(w){return new Promise((g,y)=>{var E,M,F;function W(){va(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{va(),y(ae(w,"network-request-failed"))},timeout:bs.get()})}if(null!==(M=null===(E=Mn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(F=Mn().gapi)||void 0===F||!F.load){const Z=Cr("iframefcb");return Mn()[Z]=()=>{gapi.load?W():y(ae(w,"network-request-failed"))},ks(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Fe=>y(Fe))}W()}}).catch(g=>{throw Rn=null,g})}(w),Rn}(w),y=Mn().gapi;return _e(y,w,"internal-error"),g.open({where:document.body,url:Za(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nd,dontclear:!0},E=>new Promise(function(){var M=(0,d.A)(function*(F,W){yield E.restyle({setHideOnLeave:!1});const Z=ae(w,"network-request-failed"),Fe=Mn().setTimeout(()=>{W(Z)},df.get());function qe(){Mn().clearTimeout(Fe),F(E)}E.ping(qe).then(qe,()=>{W(Z)})});return function(F,W){return M.apply(this,arguments)}}()))}),T.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tt{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vt="__/auth/handler",Ot="emulator/auth/handler",fr=encodeURIComponent("fac");function kn(w,g,y,E,M,F){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.A)(function*(w,g,y,E,M,F){_e(w.config.authDomain,w,"auth-domain-config-required"),_e(w.config.apiKey,w,"invalid-api-key");const W={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:oe.SDK_VERSION,eventId:M};if(g instanceof Ir){g.setDefaultLanguage(w.languageCode),W.providerId=g.providerId||"",(0,U.Im)(g.getCustomParameters())||(W.customParameters=JSON.stringify(g.getCustomParameters()));for(const[st,mt]of Object.entries(F||{}))W[st]=mt}if(g instanceof Sr){const st=g.getScopes().filter(mt=>""!==mt);st.length>0&&(W.scopes=st.join(","))}w.tenantId&&(W.tid=w.tenantId);const Z=W;for(const st of Object.keys(Z))void 0===Z[st]&&delete Z[st];const Fe=yield w._getAppCheckToken(),qe=Fe?`#${fr}=${encodeURIComponent(Fe)}`:"";return`${function Ld({config:w}){return w.emulator?ko(w,Ot):`https://${w.authDomain}/${Vt}`}(w)}?${(0,U.Am)(Z).slice(1)}${qe}`})).apply(this,arguments)}const In="webStorageSupport",Or=class kr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fa,this._completeRedirectFn=Hn,this._overrideRedirectResult=Mi}_openPopup(g,y,E,M){var F=this;return(0,d.A)(function*(){var W;Qt(null===(W=F.eventManagers[g._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const Z=yield kn(g,y,E,Fi(),M);return function Xe(w,g,y,E=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),W=Math.max((window.screen.availWidth-E)/2,0).toString();let Z="";const Fe=Object.assign(Object.assign({},k),{width:E.toString(),height:M.toString(),top:F,left:W}),qe=(0,U.ZQ)().toLowerCase();y&&(Z=ht(qe)?"_blank":y),Ae(qe)&&(g=g||"http://localhost",Fe.scrollbars="yes");const st=Object.entries(Fe).reduce((ei,[xs,sl])=>`${ei}${xs}=${sl},`,"");if(function Bi(w=(0,U.ZQ)()){var g;return Lt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(qe)&&"_self"!==Z)return function _t(w,g){const y=document.createElement("a");y.href=w,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",Z),new tt(null);const mt=window.open(g||"",Z,st);_e(mt,w,"popup-blocked");try{mt.focus()}catch{}return new tt(mt)}(g,Z,yd())})()}_openRedirect(g,y,E,M){var F=this;return(0,d.A)(function*(){return yield F._originValidation(g),function Xp(w){Mn().location.href=w}(yield kn(g,y,E,Fi(),M)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:M,promise:F}=this.eventManagers[y];return M?Promise.resolve(M):(Qt(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,d.A)(function*(){const E=yield function D(w){return T.apply(this,arguments)}(g),M=new Qa(g);return E.register("authEvent",F=>(_e(F?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:M},y.iframes[g._key()]=E,M})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(In,{type:In},M=>{var F;const W=null===(F=M?.[0])||void 0===F?void 0:F[In];void 0!==W&&y(!!W),Se(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function ts(w){return Wo.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return to()||fe()||Lt()}};class Yc{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return Mt("unexpected MultiFactorSessionType")}}}class ns extends Yc{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ns(g)}_finalizeEnroll(g,y,E){return function gd(w,g){return me(w,"POST","/v2/accounts/mfaEnrollment:finalize",se(w,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Id(w,g){return me(w,"POST","/v2/accounts/mfaSignIn:finalize",se(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qc=(()=>{class w{constructor(){}static assertion(y){return ns._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var eb="@firebase/auth";class wE{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,d.A)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function el(){return window}(0,U.XA)("authIdTokenMaxAge"),function em(w){(0,oe._registerComponent)(new De.uA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),F=g.getProvider("app-check-internal"),{apiKey:W,authDomain:Z}=E.options;_e(W&&!W.includes(":"),"invalid-api-key",{appName:E.name});const Fe={apiKey:W,authDomain:Z,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ce(w)},qe=new zu(E,M,F,Fe);return function Up(w,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(Gn);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(qe,y),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new De.uA("auth-internal",g=>{const y=Qn(g.getProvider("auth").getImmediate());return new wE(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(eb,"0.23.2",function ws(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,oe.registerVersion)(eb,"0.23.2","esm2017")}("Browser");function Gl(){return Gl=(0,d.A)(function*(w,g,y){var E;const{BuildInfo:M}=el();Qt(g.sessionId,"AuthEvent did not contain a session ID");const F=yield function nb(w){return _f.apply(this,arguments)}(g.sessionId),W={};return Lt()?W.ibi=M.packageName:on()?W.apn=M.packageName:Se(w,"operation-not-supported-in-this-environment"),M.displayName&&(W.appDisplayName=M.displayName),W.sessionId=F,kn(w,y,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,W)}),Gl.apply(this,arguments)}function Wl(){return(Wl=(0,d.A)(function*(w){const{BuildInfo:g}=el(),y={};Lt()?y.iosBundleId=g.packageName:on()?y.androidPackageName=g.packageName:Se(w,"operation-not-supported-in-this-environment"),yield oi(w,y)})).apply(this,arguments)}function Jc(){return(Jc=(0,d.A)(function*(w,g,y){const{cordova:E}=el();let M=()=>{};try{yield new Promise((F,W)=>{let Z=null;function Fe(){var mt;F();const ei=null===(mt=E.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof ei&&ei(),"function"==typeof y?.close&&y.close()}function qe(){Z||(Z=window.setTimeout(()=>{W(ae(w,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===document?.visibilityState&&qe()}g.addPassiveListener(Fe),document.addEventListener("resume",qe,!1),on()&&document.addEventListener("visibilitychange",st,!1),M=()=>{g.removePassiveListener(Fe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",st,!1),Z&&window.clearTimeout(Z)}})}finally{M()}})).apply(this,arguments)}function _f(){return(_f=(0,d.A)(function*(w){const g=function yf(w){if(Qt(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const g=new ArrayBuffer(w.length),y=new Uint8Array(g);for(let E=0;E<w.length;E++)y[E]=w.charCodeAt(E);return y}(w),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class m_ extends Qa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.A)(function*(){yield g.initPromise})()}}function nl(w){return il.apply(this,arguments)}function il(){return(il=(0,d.A)(function*(w){const g=yield Kl()._get(qo(w));return g&&(yield Kl()._remove(qo(w))),g})).apply(this,arguments)}function wa(){const w=[];for(let y=0;y<20;y++){const E=Math.floor(62*Math.random());w.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return w.join("")}function Kl(){return Gn(Ka)}function qo(w){return G("authEvent",w.config.apiKey,w.name)}function ql(w){if(!w?.includes("?"))return{};const[g,...y]=w.split("?");return(0,U.I9)(y.join("?"))}const __=class bf{constructor(){this._redirectPersistence=fa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hn,this._overrideRedirectResult=Mi}_initialize(g){var y=this;return(0,d.A)(function*(){const E=g._key();let M=y.eventManagers.get(E);return M||(M=new m_(g),y.eventManagers.set(E,M),y.attachCallbackListeners(g,M)),M})()}_openPopup(g){Se(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,E,M){var F=this;return(0,d.A)(function*(){!function gf(w){var g,y,E,M,F,W,Z,Fe,qe,st;const mt=el();_e("function"==typeof(null===(g=mt?.universalLinks)||void 0===g?void 0:g.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_e(typeof(null===(y=mt?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_e("function"==typeof(null===(F=null===(M=null===(E=mt?.cordova)||void 0===E?void 0:E.plugins)||void 0===M?void 0:M.browsertab)||void 0===F?void 0:F.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(Fe=null===(Z=null===(W=mt?.cordova)||void 0===W?void 0:W.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Fe?void 0:Fe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(st=null===(qe=mt?.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===st?void 0:st.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const W=yield F._initialize(g);yield W.initialized(),W.resetRedirect(),function es(){Jr.clear()}(),yield F._originValidation(g);const Z=function nm(w,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:wa(),postBody:null,tenantId:w.tenantId,error:ae(w,"no-auth-event")}}(g,E,M);yield function ib(w,g){return Kl()._set(qo(w),g)}(g,Z);const Fe=yield function pf(w,g,y){return Gl.apply(this,arguments)}(g,Z,y),qe=yield function p_(w){const{cordova:g}=el();return new Promise(y=>{g.plugins.browsertab.isAvailable(E=>{let M=null;E?g.plugins.browsertab.openUrl(w):M=g.InAppBrowser.open(w,function rn(w=(0,U.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),y(M)})})}(Fe);return function mf(w,g,y){return Jc.apply(this,arguments)}(g,W,qe)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Vd(w){return Wl.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:E,handleOpenURL:M,BuildInfo:F}=el(),W=setTimeout((0,d.A)(function*(){yield nl(g),y.onEvent(y_())}),500),Z=function(){var st=(0,d.A)(function*(mt){clearTimeout(W);const ei=yield nl(g);let xs=null;ei&&mt?.url&&(xs=function Bd(w,g){var y,E;const M=function eu(w){const g=ql(w),y=g.link?decodeURIComponent(g.link):void 0,E=ql(y).link,M=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return ql(M).link||M||E||y||w}(g);if(M.includes("/__/auth/callback")){const F=ql(M),W=F.firebaseError?function vf(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,Z=null===(E=null===(y=W?.code)||void 0===y?void 0:y.split("auth/"))||void 0===E?void 0:E[1],Fe=Z?ae(Z):null;return Fe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:M,postBody:null}}return null}(ei,mt.url)),y.onEvent(xs||y_())});return function(ei){return st.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,Z);const Fe=M,qe=`${F.packageName.toLowerCase()}://`;el().handleOpenURL=function(){var st=(0,d.A)(function*(mt){if(mt.toLowerCase().startsWith(qe)&&Z({url:mt}),"function"==typeof Fe)try{Fe(mt)}catch(ei){console.error(ei)}});return function(mt){return st.apply(this,arguments)}}()}};function y_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ae("no-auth-event")}}function Ud(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function wf(w=(0,U.ZQ)()){return!("file:"!==Ud()&&"ionic:"!==Ud()&&"capacitor:"!==Ud()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function ob(){try{const w=self.localStorage,g=yd();if(w)return w.setItem(g,"1"),w.removeItem(g),!function SM(w=(0,U.ZQ)()){return function w_(){return(0,U.lT)()&&11===document?.documentMode}()||function jd(w=(0,U.ZQ)()){return/Edge\/\d+/.test(w)}(w)}()||(0,U.zW)()}catch{return tu()&&(0,U.zW)()}return!1}function tu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function im(){return(function rb(){return"http:"===Ud()||"https:"===Ud()}()||(0,U.sr)()||wf())&&!function sb(){return(0,U.lV)()||(0,U.Ll)()}()&&ob()&&!tu()}function rm(){return wf()&&typeof document<"u"}function is(){return(is=(0,d.A)(function*(){return!!rm()&&new Promise(w=>{const g=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),w(!0)})})})).apply(this,arguments)}const jr={LOCAL:"local",NONE:"none",SESSION:"session"},Xl=_e,om="persistence";function Hd(w){return xf.apply(this,arguments)}function xf(){return(xf=(0,d.A)(function*(w){yield w._initializationPromise;const g=nu(),y=G(om,w.config.apiKey,w.name);g&&g.setItem(y,w._getPersistence())})).apply(this,arguments)}function nu(){var w;try{return(null===(w=function xa(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const iu=_e;class Ea{constructor(){this.browserResolver=Gn(Or),this.cordovaResolver=Gn(__),this.underlyingResolver=null,this._redirectPersistence=fa,this._completeRedirectFn=Hn,this._overrideRedirectResult=Mi}_initialize(g){var y=this;return(0,d.A)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,E,M){var F=this;return(0,d.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(g,y,E,M)})()}_openRedirect(g,y,E,M){var F=this;return(0,d.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(g,y,E,M)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return rm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return iu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.A)(function*(){if(g.underlyingResolver)return;const y=yield function sm(){return is.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function Ef(w){return w.unwrap()}function Cf(w){return zd(w)}function zd(w){const{_tokenResponse:g}=w instanceof U.g?w.customData:w;if(!g)return null;if(!(w instanceof U.g)&&"temporaryProof"in g&&"phoneNumber"in g)return bn.credentialFromResult(w);const y=g.providerId;if(!y||y===Ee.PASSWORD)return null;let E;switch(y){case Ee.GOOGLE:E=ms;break;case Ee.FACEBOOK:E=jh;break;case Ee.GITHUB:E=ro;break;case Ee.TWITTER:E=Rl;break;default:const{oauthIdToken:M,oauthAccessToken:F,oauthTokenSecret:W,pendingToken:Z,nonce:Fe}=g;return F||W||M||Z?Z?y.startsWith("saml.")?Os._create(y,Z):Ye._fromParams({providerId:y,signInMethod:y,pendingToken:Z,idToken:M,accessToken:F}):new Qr(y).credential({idToken:M,accessToken:F,rawNonce:Fe}):null}return w instanceof U.g?E.credentialFromError(w):E.credentialFromResult(w)}function Hr(w,g){return g.catch(y=>{throw y instanceof U.g&&function lm(w,g){var y;const E=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new ab(w,function pd(w,g){var y;const E=(0,U.Ku)(w),M=g;return _e(g.customData.operationType,E,"argument-error"),_e(null===(y=M.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),ua._fromError(E,M)}(w,g));else if(E){const M=zd(g),F=g;M&&(F.credential=M,F.tenantId=E.tenantId||void 0,F.email=E.email||void 0,F.phoneNumber=E.phoneNumber||void 0)}}(w,y),y}).then(y=>{const M=y.user;return{operationType:y.operationType,credential:Cf(y),additionalUserInfo:Kp(y),user:Ca.getOrCreate(M)}})}function cm(w,g){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.A)(function*(w,g){const y=yield g;return{verificationId:y.verificationId,confirm:E=>Hr(w,y.confirm(E))}})).apply(this,arguments)}class ab{constructor(g,y){this.resolver=y,this.auth=function am(w){return w.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Hr(Ef(this.auth),this.resolver.resolveSignIn(g))}}class Ca{constructor(g){this._delegate=g,this.multiFactor=function Wa(w){const g=(0,U.Ku)(w);return fn.has(g)||fn.set(g,da._fromUser(g)),fn.get(g)}(g)}static getOrCreate(g){return Ca.USER_MAP.has(g)||Ca.USER_MAP.set(g,new Ca(g)),Ca.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,d.A)(function*(){return Hr(y.auth,Jg(y._delegate,g))})()}linkWithPhoneNumber(g,y){var E=this;return(0,d.A)(function*(){return cm(E.auth,function Vn(w,g,y){return lt.apply(this,arguments)}(E._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,d.A)(function*(){return Hr(y.auth,function lf(w,g,y){return ya.apply(this,arguments)}(y._delegate,g,Ea))})()}linkWithRedirect(g){var y=this;return(0,d.A)(function*(){return yield Hd(Qn(y.auth)),kd(y._delegate,g,Ea)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,d.A)(function*(){return Hr(y.auth,e_(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return cm(this.auth,function mi(w,g,y){return Xa.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return Hr(this.auth,function zc(w,g,y){return _a.apply(this,arguments)}(this._delegate,g,Ea))}reauthenticateWithRedirect(g){var y=this;return(0,d.A)(function*(){return yield Hd(Qn(y.auth)),vs(y._delegate,g,Ea)})()}sendEmailVerification(g){return function la(w,g){return lo.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,d.A)(function*(){return yield function Zu(w,g){return Ji.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function r_(w,g){return dd((0,U.Ku)(w),g,null)}(this._delegate,g)}updatePassword(g){return function ud(w,g){return dd((0,U.Ku)(w),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function $i(w,g){return Vs.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function i_(w,g){return Oc.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function Rc(w,g,y){return kc.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;const Ri=_e;let $d=(()=>{class w{constructor(y,E){if(this.app=y,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=y.options;Ri(M,"invalid-api-key",{appName:y.name}),Ri(M,"invalid-api-key",{appName:y.name});const F=typeof window<"u"?Ea:void 0;this._delegate=E.initialize({options:{persistence:um(M,y.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(et),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,E){!function xc(w,g,y){const E=Qn(w);_e(E._canInitEmulator,E,"emulator-config-failed"),_e(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const M=!!y?.disableWarnings,F=Ii(g),{host:W,port:Z}=function Ec(w){const g=Ii(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const F=M[1];return{host:F,port:Cc(E.substr(F.length+1))}}{const[F,W]=E.split(":");return{host:F,port:Cc(W)}}}(g);E.config.emulator={url:`${F}//${W}${null===Z?"":`:${Z}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:W,port:Z,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Zg(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,y,E)}applyActionCode(y){return function Ns(w,g){return Zr.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return $h(this._delegate,y)}confirmPasswordReset(y,E){return function t_(w,g,y){return ao.apply(this,arguments)}(this._delegate,y,E)}createUserWithEmailAndPassword(y,E){var M=this;return(0,d.A)(function*(){return Hr(M._delegate,function od(w,g,y){return Pl.apply(this,arguments)}(M._delegate,y,E))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function cd(w,g){return za.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Gp(w,g){const y=io.parseLink(g);return"EMAIL_SIGNIN"===y?.operation}(0,y)}getRedirectResult(){var y=this;return(0,d.A)(function*(){Ri(im(),y._delegate,"operation-not-supported-in-this-environment");const E=yield function zo(w,g){return Gi.apply(this,arguments)}(y._delegate,Ea);return E?Hr(y._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function v_(w,g){Qn(w)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,E,M){const{next:F,error:W,complete:Z}=Df(y,E,M);return this._delegate.onAuthStateChanged(F,W,Z)}onIdTokenChanged(y,E,M){const{next:F,error:W,complete:Z}=Df(y,E,M);return this._delegate.onIdTokenChanged(F,W,Z)}sendSignInLinkToEmail(y,E){return function Nl(w,g,y){return Ha.apply(this,arguments)}(this._delegate,y,E)}sendPasswordResetEmail(y,E){return function Zv(w,g,y){return Ol.apply(this,arguments)}(this._delegate,y,E||void 0)}setPersistence(y){var E=this;return(0,d.A)(function*(){let M;switch(function vo(w,g){Xl(Object.values(jr).includes(g),w,"invalid-persistence-type"),(0,U.lV)()?Xl(g!==jr.SESSION,w,"unsupported-persistence-type"):(0,U.Ll)()?Xl(g===jr.NONE,w,"unsupported-persistence-type"):tu()?Xl(g===jr.NONE||g===jr.LOCAL&&(0,U.zW)(),w,"unsupported-persistence-type"):Xl(g===jr.NONE||ob(),w,"unsupported-persistence-type")}(E._delegate,y),y){case jr.SESSION:M=fa;break;case jr.LOCAL:M=(yield Gn(Mr)._isAvailable())?Mr:Ka;break;case jr.NONE:M=ur;break;default:return Se("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Hr(this._delegate,function kl(w){return Si.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Hr(this._delegate,id(this._delegate,y))}signInWithCustomToken(y){return Hr(this._delegate,function zh(w,g){return oo.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,E){return Hr(this._delegate,function Gh(w,g,y){return id((0,U.Ku)(w),Ua.credential(g,y))}(this._delegate,y,E))}signInWithEmailLink(y,E){return Hr(this._delegate,function Ti(w,g,y){return Mc.apply(this,arguments)}(this._delegate,y,E))}signInWithPhoneNumber(y,E){return cm(this._delegate,function Rr(w,g,y){return jo.apply(this,arguments)}(this._delegate,y,E))}signInWithPopup(y){var E=this;return(0,d.A)(function*(){return Ri(im(),E._delegate,"operation-not-supported-in-this-environment"),Hr(E._delegate,function Md(w,g,y){return ys.apply(this,arguments)}(E._delegate,y,Ea))})()}signInWithRedirect(y){var E=this;return(0,d.A)(function*(){return Ri(im(),E._delegate,"operation-not-supported-in-this-environment"),yield Hd(E._delegate),Kt(E._delegate,y,Ea)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function ja(w,g){return zi.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=jr,w})();function Df(w,g,y){let E=w;"function"!=typeof w&&({next:E,error:g,complete:y}=w);const M=E;return{next:W=>M(W&&Ca.getOrCreate(W)),error:g,complete:y}}function um(w,g){const y=function Yl(w,g){const y=nu();if(!y)return[];const E=G(om,w,g);switch(y.getItem(E)){case jr.NONE:return[ur];case jr.LOCAL:return[Mr,fa];case jr.SESSION:return[fa];default:return[]}}(w,g);if(typeof self<"u"&&!y.includes(Mr)&&y.push(Mr),typeof window<"u")for(const E of[Ka,fa])y.includes(E)||y.push(E);return y.includes(ur)||y.push(ur),y}class Wi{constructor(){this.providerId="phone",this._delegate=new bn(Ef(ne.A.auth()))}static credential(g,y){return bn.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}Wi.PHONE_SIGN_IN_METHOD=bn.PHONE_SIGN_IN_METHOD,Wi.PROVIDER_ID=bn.PROVIDER_ID;const ru=_e;class x_{constructor(g,y,E=ne.A.app()){var M;ru(null===(M=E.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Hc(g,y,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function DE(w){w.INTERNAL.registerComponent(new De.uA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new $d(y,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ua,FacebookAuthProvider:jh,GithubAuthProvider:ro,GoogleAuthProvider:ms,OAuthProvider:Qr,SAMLAuthProvider:Qu,PhoneAuthProvider:Wi,PhoneMultiFactorGenerator:Qc,RecaptchaVerifier:x_,TwitterAuthProvider:Rl,Auth:$d,AuthCredential:ra,Error:U.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.4.2")}(ne.A)},467:(bt,Me,B)=>{function d(U,oe,de,he,De,Be,Ee){try{var H=U[Be](Ee),K=H.value}catch(ie){return void de(ie)}H.done?oe(K):Promise.resolve(K).then(he,De)}function ne(U){return function(){var oe=this,de=arguments;return new Promise(function(he,De){var Be=U.apply(oe,de);function Ee(K){d(Be,he,De,Ee,H,"next",K)}function H(K){d(Be,he,De,Ee,H,"throw",K)}Ee(void 0)})}}B.d(Me,{A:()=>ne})},1635:(bt,Me,B)=>{function oe(pe,be){var se={};for(var me in pe)Object.prototype.hasOwnProperty.call(pe,me)&&be.indexOf(me)<0&&(se[me]=pe[me]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(me=Object.getOwnPropertySymbols(pe);ke<me.length;ke++)be.indexOf(me[ke])<0&&Object.prototype.propertyIsEnumerable.call(pe,me[ke])&&(se[me[ke]]=pe[me[ke]])}return se}function ie(pe,be,se,me){return new(se||(se=Promise))(function(ye,wt){function Gt(Sn){try{at(me.next(Sn))}catch(vn){wt(vn)}}function Cn(Sn){try{at(me.throw(Sn))}catch(vn){wt(vn)}}function at(Sn){Sn.done?ye(Sn.value):function ke(ye){return ye instanceof se?ye:new se(function(wt){wt(ye)})}(Sn.value).then(Gt,Cn)}at((me=me.apply(pe,be||[])).next())})}function ue(pe){return this instanceof ue?(this.v=pe,this):new ue(pe)}function Se(pe,be,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,me=se.apply(pe,be||[]),ye=[];return ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Gt("next"),Gt("throw"),Gt("return",function wt(Nt){return function(qn){return Promise.resolve(qn).then(Nt,vn)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function Gt(Nt,qn){me[Nt]&&(ke[Nt]=function(ui){return new Promise(function(Li,Xn){ye.push([Nt,ui,Li,Xn])>1||Cn(Nt,ui)})},qn&&(ke[Nt]=qn(ke[Nt])))}function Cn(Nt,qn){try{!function at(Nt){Nt.value instanceof ue?Promise.resolve(Nt.value.v).then(Sn,vn):br(ye[0][2],Nt)}(me[Nt](qn))}catch(ui){br(ye[0][3],ui)}}function Sn(Nt){Cn("next",Nt)}function vn(Nt){Cn("throw",Nt)}function br(Nt,qn){Nt(qn),ye.shift(),ye.length&&Cn(ye[0][0],ye[0][1])}}function Re(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,be=pe[Symbol.asyncIterator];return be?be.call(pe):(pe=function Ve(pe){var be="function"==typeof Symbol&&Symbol.iterator,se=be&&pe[be],me=0;if(se)return se.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&me>=pe.length&&(pe=void 0),{value:pe&&pe[me++],done:!pe}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),se={},me("next"),me("throw"),me("return"),se[Symbol.asyncIterator]=function(){return this},se);function me(ye){se[ye]=pe[ye]&&function(wt){return new Promise(function(Gt,Cn){!function ke(ye,wt,Gt,Cn){Promise.resolve(Cn).then(function(at){ye({value:at,done:Gt})},wt)}(Gt,Cn,(wt=pe[ye](wt)).done,wt.value)})}}}B.d(Me,{AQ:()=>Se,N3:()=>ue,Tt:()=>oe,sH:()=>ie,xN:()=>Re}),"function"==typeof SuppressedError&&SuppressedError}},bt=>{bt(bt.s=7669)}]);