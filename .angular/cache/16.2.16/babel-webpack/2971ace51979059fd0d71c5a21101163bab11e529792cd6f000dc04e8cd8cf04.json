{"ast":null,"code":"import _asyncToGenerator from \"/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MatTableDataSource } from '@angular/material/table';\nimport firebase from 'firebase/compat/app';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/table\";\nimport * as i8 from \"@angular/material/select\";\nimport * as i9 from \"@angular/material/core\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"@angular/forms\";\nfunction ExpensesComponent_form_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 20, 21);\n    i0.ɵɵlistener(\"ngSubmit\", function ExpensesComponent_form_11_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.submitExpense());\n    });\n    i0.ɵɵelementStart(2, \"mat-form-field\", 22)(3, \"mat-label\");\n    i0.ɵɵtext(4, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ExpensesComponent_form_11_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.newExpense.date = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"mat-form-field\", 22)(7, \"mat-label\");\n    i0.ɵɵtext(8, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function ExpensesComponent_form_11_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.newExpense.amount = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"mat-form-field\", 22)(11, \"mat-label\");\n    i0.ɵɵtext(12, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"mat-select\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function ExpensesComponent_form_11_Template_mat_select_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.newExpense.category = $event);\n    });\n    i0.ɵɵelementStart(14, \"mat-option\", 26);\n    i0.ɵɵtext(15, \"Food\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-option\", 27);\n    i0.ɵɵtext(17, \"Groceries\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"mat-option\", 28);\n    i0.ɵɵtext(19, \"Entertainment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"mat-option\", 29);\n    i0.ɵɵtext(21, \"Utilities\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"mat-option\", 30);\n    i0.ɵɵtext(23, \"Income\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"mat-form-field\", 22)(25, \"mat-label\");\n    i0.ɵɵtext(26, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function ExpensesComponent_form_11_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.newExpense.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"mat-form-field\", 22)(29, \"mat-label\");\n    i0.ɵɵtext(30, \"Payment Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"mat-select\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function ExpensesComponent_form_11_Template_mat_select_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.newExpense.method = $event);\n    });\n    i0.ɵɵelementStart(32, \"mat-option\", 33);\n    i0.ɵɵtext(33, \"Cash\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"mat-option\", 34);\n    i0.ɵɵtext(35, \"UPI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"mat-option\", 35);\n    i0.ɵɵtext(37, \"Credit Card\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(38, \"mat-form-field\", 22)(39, \"mat-label\");\n    i0.ɵɵtext(40, \"Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"input\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function ExpensesComponent_form_11_Template_input_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.newExpense.location = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 37)(43, \"button\", 38);\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function ExpensesComponent_form_11_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.cancelEdit());\n    });\n    i0.ɵɵtext(46, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newExpense.date);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newExpense.amount);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newExpense.category);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newExpense.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newExpense.method);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.newExpense.location);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.editMode ? \"Update Expense\" : \"Submit Expense\", \" \");\n  }\n}\nfunction ExpensesComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r27 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.formatDate(el_r27.date));\n  }\n}\nfunction ExpensesComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r28 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, el_r28.amount, \"USD\"));\n  }\n}\nfunction ExpensesComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Category\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(el_r29.category);\n  }\n}\nfunction ExpensesComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Description\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r30 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(el_r30.description);\n  }\n}\nfunction ExpensesComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Method\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r31 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(el_r31.method);\n  }\n}\nfunction ExpensesComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Location\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const el_r32 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(el_r32.location);\n  }\n}\nfunction ExpensesComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \"Actions\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ExpensesComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 41)(1, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function ExpensesComponent_td_34_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r35);\n      const el_r33 = restoredCtx.$implicit;\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.startEdit(el_r33));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ExpensesComponent_td_34_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r35);\n      const el_r33 = restoredCtx.$implicit;\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.deleteExpense(el_r33.id));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ExpensesComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 44);\n  }\n}\nfunction ExpensesComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 45);\n  }\n}\nexport class ExpensesComponent {\n  constructor(firestore, auth) {\n    this.firestore = firestore;\n    this.auth = auth;\n    this.displayedColumns = ['date', 'amount', 'category', 'description', 'method', 'location', 'actions'];\n    this.expenseList = [];\n    this.dataSource = new MatTableDataSource([]);\n    this.newExpense = {\n      date: '',\n      amount: 0,\n      category: '',\n      description: '',\n      method: '',\n      location: ''\n    };\n    this.editMode = false;\n    this.editingExpenseId = null;\n    this.showForm = false;\n    this.loadExpenses();\n  }\n  // 🔁 Load all expenses\n  loadExpenses() {\n    this.auth.authState.subscribe(user => {\n      if (!user) {\n        this.expenseList = [];\n        this.dataSource.data = [];\n        return;\n      }\n      this.firestore.collection('expenses', ref => ref.where('userId', '==', user.uid).orderBy('date', 'desc')).valueChanges({\n        idField: 'id'\n      }).subscribe(data => {\n        this.expenseList = data;\n        this.dataSource.data = this.expenseList;\n      });\n    });\n  }\n  // 🔍 Search/filter table\n  applyFilter(event) {\n    const filterValue = event.target.value.trim().toLowerCase();\n    this.dataSource.filter = filterValue;\n  }\n  // ➕ Open form for new expense\n  toggleForm() {\n    this.showForm = !this.showForm;\n    if (!this.showForm) {\n      this.resetForm();\n    }\n  }\n  // 🧹 Reset form fields\n  resetForm() {\n    this.newExpense = {\n      date: '',\n      amount: 0,\n      category: '',\n      description: '',\n      method: '',\n      location: ''\n    };\n    this.editMode = false;\n    this.editingExpenseId = null;\n  }\n  // ✏️ Load selected row into form for editing\n  startEdit(expense) {\n    this.newExpense = {\n      ...expense,\n      date: this.formatDate(expense.date)\n    };\n    this.editingExpenseId = expense.id ?? null;\n    this.editMode = true;\n    this.showForm = true;\n  }\n  // ✅ Add or Update expense\n  submitExpense() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        date,\n        amount,\n        category,\n        description,\n        method,\n        location\n      } = _this.newExpense;\n      if (date && amount && category && description && method && location) {\n        const user = firebase.auth().currentUser;\n        if (!user) {\n          alert('You must be logged in to add expenses.');\n          return;\n        }\n        const payload = {\n          date: new Date(date + 'T12:00:00'),\n          amount,\n          category,\n          description,\n          method,\n          location,\n          userId: user.uid\n        };\n        if (_this.editMode && _this.editingExpenseId) {\n          yield _this.firestore.collection('expenses').doc(_this.editingExpenseId).update(payload);\n        } else {\n          yield _this.firestore.collection('expenses').add(payload);\n        }\n        _this.resetForm();\n        _this.showForm = false;\n        // ✅ Load latest expenses again\n        _this.loadExpenses();\n      } else {\n        alert('Please fill in all fields.');\n      }\n    })();\n  }\n  // ❌ Cancel edit or form\n  cancelEdit() {\n    this.resetForm();\n    this.showForm = false;\n  }\n  // 🗑️ Delete a record\n  deleteExpense(id) {\n    this.firestore.doc(`expenses/${id}`).delete();\n  }\n  // 📅 Format date for input compatibility\n  formatDate(date) {\n    if (date?.toDate) {\n      return new Date(date.toDate()).toISOString().substring(0, 10);\n    } else if (typeof date === 'string' || date instanceof Date) {\n      return new Date(date).toISOString().substring(0, 10);\n    }\n    return '';\n  }\n  static {\n    this.ɵfac = function ExpensesComponent_Factory(t) {\n      return new (t || ExpensesComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.AngularFireAuth));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ExpensesComponent,\n      selectors: [[\"app-expenses\"]],\n      decls: 37,\n      vars: 4,\n      consts: [[1, \"page-wrapper\"], [1, \"expenses-container\"], [1, \"top-controls\"], [\"appearance\", \"outline\", 1, \"search-box\"], [\"matInput\", \"\", \"placeholder\", \"Enter text to filter...\", 3, \"keyup\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"class\", \"expense-form\", 3, \"ngSubmit\", 4, \"ngIf\"], [1, \"table-wrapper\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"date\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"amount\"], [\"matColumnDef\", \"category\"], [\"matColumnDef\", \"description\"], [\"matColumnDef\", \"method\"], [\"matColumnDef\", \"location\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [1, \"expense-form\", 3, \"ngSubmit\"], [\"expenseForm\", \"ngForm\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"type\", \"date\", \"name\", \"date\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"type\", \"number\", \"name\", \"amount\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"category\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Food\"], [\"value\", \"Groceries\"], [\"value\", \"Entertainment\"], [\"value\", \"Utilities\"], [\"value\", \"income\"], [\"matInput\", \"\", \"name\", \"description\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"method\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Cash\"], [\"value\", \"UPI\"], [\"value\", \"Credit Card\"], [\"matInput\", \"\", \"name\", \"location\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-buttons\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\"], [\"mat-stroked-button\", \"\", \"color\", \"warn\", \"type\", \"button\", 3, \"click\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function ExpensesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Add / Remove Expenses\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"mat-form-field\", 3)(6, \"mat-label\");\n          i0.ɵɵtext(7, \"Search Transactions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 4);\n          i0.ɵɵlistener(\"keyup\", function ExpensesComponent_Template_input_keyup_8_listener($event) {\n            return ctx.applyFilter($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function ExpensesComponent_Template_button_click_9_listener() {\n            return ctx.toggleForm();\n          });\n          i0.ɵɵtext(10, \"Add Expense\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(11, ExpensesComponent_form_11_Template, 47, 7, \"form\", 6);\n          i0.ɵɵelementStart(12, \"div\", 7)(13, \"table\", 8);\n          i0.ɵɵelementContainerStart(14, 9);\n          i0.ɵɵtemplate(15, ExpensesComponent_th_15_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(16, ExpensesComponent_td_16_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(17, 12);\n          i0.ɵɵtemplate(18, ExpensesComponent_th_18_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(19, ExpensesComponent_td_19_Template, 3, 4, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(20, 13);\n          i0.ɵɵtemplate(21, ExpensesComponent_th_21_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(22, ExpensesComponent_td_22_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(23, 14);\n          i0.ɵɵtemplate(24, ExpensesComponent_th_24_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(25, ExpensesComponent_td_25_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(26, 15);\n          i0.ɵɵtemplate(27, ExpensesComponent_th_27_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(28, ExpensesComponent_td_28_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(29, 16);\n          i0.ɵɵtemplate(30, ExpensesComponent_th_30_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(31, ExpensesComponent_td_31_Template, 2, 1, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(32, 17);\n          i0.ɵɵtemplate(33, ExpensesComponent_th_33_Template, 2, 0, \"th\", 10);\n          i0.ɵɵtemplate(34, ExpensesComponent_td_34_Template, 7, 0, \"td\", 11);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(35, ExpensesComponent_tr_35_Template, 1, 0, \"tr\", 18);\n          i0.ɵɵtemplate(36, ExpensesComponent_tr_36_Template, 1, 0, \"tr\", 19);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.showForm);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n          i0.ɵɵadvance(22);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        }\n      },\n      dependencies: [i3.NgIf, i4.MatButton, i4.MatIconButton, i5.MatFormField, i5.MatLabel, i6.MatInput, i7.MatTable, i7.MatHeaderCellDef, i7.MatHeaderRowDef, i7.MatColumnDef, i7.MatCellDef, i7.MatRowDef, i7.MatHeaderCell, i7.MatCell, i7.MatHeaderRow, i7.MatRow, i8.MatSelect, i9.MatOption, i10.MatIcon, i11.ɵNgNoValidate, i11.DefaultValueAccessor, i11.NumberValueAccessor, i11.NgControlStatus, i11.NgControlStatusGroup, i11.RequiredValidator, i11.NgModel, i11.NgForm, i3.CurrencyPipe],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 175:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nexpected \\\\\\\"{\\\\\\\".\\\\n    \\u2577\\\\n280 \\u2502   padding-top: 30px; /\\\\n    \\u2502                       ^\\\\n    \\u2575\\\\n  src/app/pages/expenses/expenses.component.scss 280:23  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t});\\n\\n\\n\\n \\t\\n\\n \\t// startup\\n\\n \\t// Load entry module and return exports\\n\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n\\n \\tvar __webpack_exports__ = {};\\n\\n \\t__webpack_modules__[175]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n    });\n  }\n}","map":{"version":3,"names":["MatTableDataSource","firebase","i0","ɵɵelementStart","ɵɵlistener","ExpensesComponent_form_11_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r19","ctx_r18","ɵɵnextContext","ɵɵresetView","submitExpense","ɵɵtext","ɵɵelementEnd","ExpensesComponent_form_11_Template_input_ngModelChange_5_listener","$event","ctx_r20","newExpense","date","ExpensesComponent_form_11_Template_input_ngModelChange_9_listener","ctx_r21","amount","ExpensesComponent_form_11_Template_mat_select_ngModelChange_13_listener","ctx_r22","category","ExpensesComponent_form_11_Template_input_ngModelChange_27_listener","ctx_r23","description","ExpensesComponent_form_11_Template_mat_select_ngModelChange_31_listener","ctx_r24","method","ExpensesComponent_form_11_Template_input_ngModelChange_41_listener","ctx_r25","location","ExpensesComponent_form_11_Template_button_click_45_listener","ctx_r26","cancelEdit","ɵɵadvance","ɵɵproperty","ctx_r0","ɵɵtextInterpolate1","editMode","ɵɵtextInterpolate","ctx_r2","formatDate","el_r27","ɵɵpipeBind2","el_r28","el_r29","el_r30","el_r31","el_r32","ExpensesComponent_td_34_Template_button_click_1_listener","restoredCtx","_r35","el_r33","$implicit","ctx_r34","startEdit","ExpensesComponent_td_34_Template_button_click_4_listener","ctx_r36","deleteExpense","id","ɵɵelement","ExpensesComponent","constructor","firestore","auth","displayedColumns","expenseList","dataSource","editingExpenseId","showForm","loadExpenses","authState","subscribe","user","data","collection","ref","where","uid","orderBy","valueChanges","idField","applyFilter","event","filterValue","target","value","trim","toLowerCase","filter","toggleForm","resetForm","expense","_this","_asyncToGenerator","currentUser","alert","payload","Date","userId","doc","update","add","delete","toDate","toISOString","substring","ɵɵdirectiveInject","i1","AngularFirestore","i2","AngularFireAuth","selectors","decls","vars","consts","template","ExpensesComponent_Template","rf","ctx","ExpensesComponent_Template_input_keyup_8_listener","ExpensesComponent_Template_button_click_9_listener","ɵɵtemplate","ExpensesComponent_form_11_Template","ɵɵelementContainerStart","ExpensesComponent_th_15_Template","ExpensesComponent_td_16_Template","ɵɵelementContainerEnd","ExpensesComponent_th_18_Template","ExpensesComponent_td_19_Template","ExpensesComponent_th_21_Template","ExpensesComponent_td_22_Template","ExpensesComponent_th_24_Template","ExpensesComponent_td_25_Template","ExpensesComponent_th_27_Template","ExpensesComponent_td_28_Template","ExpensesComponent_th_30_Template","ExpensesComponent_td_31_Template","ExpensesComponent_th_33_Template","ExpensesComponent_td_34_Template","ExpensesComponent_tr_35_Template","ExpensesComponent_tr_36_Template"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/expenses/expenses.component.ts","/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/expenses/expenses.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport firebase from 'firebase/compat/app';\nimport { AngularFireAuth } from '@angular/fire/compat/auth'; // ← Make sure this is imported\n\n\nexport interface Expense extends firebase.firestore.DocumentData {\n  id?: string;\n  date: any;\n  amount: number;\n  category: string;\n  description: string;\n  method: string;\n  location: string;\n}\n\n@Component({\n  selector: 'app-expenses',\n  templateUrl: './expenses.component.html',\n  styleUrls: ['./expenses.component.scss']\n})\nexport class ExpensesComponent {\n  displayedColumns: string[] = ['date', 'amount', 'category', 'description', 'method', 'location', 'actions'];\n  expenseList: Expense[] = [];\n  dataSource = new MatTableDataSource<Expense>([]);\n\n  newExpense: Expense = {\n    date: '',\n    amount: 0,\n    category: '',\n    description: '',\n    method: '',\n    location: ''\n  };\n\n  editMode = false;\n  editingExpenseId: string | null = null;\n  showForm = false;\n\n  constructor(private firestore: AngularFirestore, private auth: AngularFireAuth) {   this.loadExpenses(); }\n\n  // 🔁 Load all expenses\n  loadExpenses() {\n    this.auth.authState.subscribe(user => {\n      if (!user) {\n        this.expenseList = [];\n        this.dataSource.data = [];\n        return;\n      }\n    \n      this.firestore.collection<Expense>('expenses', ref =>\n        ref.where('userId', '==', user.uid).orderBy('date', 'desc')\n      ).valueChanges({ idField: 'id' }).subscribe((data: Expense[]) => {\n        this.expenseList = data;\n        this.dataSource.data = this.expenseList;\n      });\n    });\n  }\n  \n\n  // 🔍 Search/filter table\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value.trim().toLowerCase();\n    this.dataSource.filter = filterValue;\n  }\n\n  // ➕ Open form for new expense\n  toggleForm() {\n    this.showForm = !this.showForm;\n    if (!this.showForm) {\n      this.resetForm();\n    }\n  }\n\n  // 🧹 Reset form fields\n  resetForm() {\n    this.newExpense = {\n      date: '',\n      amount: 0,\n      category: '',\n      description: '',\n      method: '',\n      location: ''\n    };\n    this.editMode = false;\n    this.editingExpenseId = null;\n  }\n\n  // ✏️ Load selected row into form for editing\n  startEdit(expense: Expense) {\n    this.newExpense = {\n      ...expense,\n      date: this.formatDate(expense.date)\n    };\n    this.editingExpenseId = expense.id ?? null;\n    this.editMode = true;\n    this.showForm = true;\n  }\n\n  // ✅ Add or Update expense\n  async submitExpense() {\n    const { date, amount, category, description, method, location } = this.newExpense;\n  \n    if (date && amount && category && description && method && location) {\n      const user = firebase.auth().currentUser;\n      if (!user) {\n        alert('You must be logged in to add expenses.');\n        return;\n      }\n  \n      const payload = {\n        date: new Date(date + 'T12:00:00'),\n        amount,\n        category,\n        description,\n        method,\n        location,\n        userId: user.uid\n      };\n  \n      if (this.editMode && this.editingExpenseId) {\n        await this.firestore.collection('expenses').doc(this.editingExpenseId).update(payload);\n      } else {\n        await this.firestore.collection('expenses').add(payload);\n      }\n  \n      this.resetForm();\n      this.showForm = false;\n  \n      // ✅ Load latest expenses again\n      this.loadExpenses();\n    } else {\n      alert('Please fill in all fields.');\n    }\n  }\n  \n  \n\n  // ❌ Cancel edit or form\n  cancelEdit() {\n    this.resetForm();\n    this.showForm = false;\n  }\n  \n\n  // 🗑️ Delete a record\n  deleteExpense(id: string) {\n    this.firestore.doc(`expenses/${id}`).delete();\n  }\n\n  // 📅 Format date for input compatibility\n  formatDate(date: any): string {\n    if (date?.toDate) {\n      return new Date(date.toDate()).toISOString().substring(0, 10);\n    } else if (typeof date === 'string' || date instanceof Date) {\n      return new Date(date).toISOString().substring(0, 10);\n    }\n    return '';\n  }\n}\n","<div class=\"page-wrapper\">\n\n\n<div class=\"expenses-container\">\n  <h2>Add / Remove Expenses</h2>\n\n  <!-- Top Control Bar -->\n  <div class=\"top-controls\">\n    <mat-form-field appearance=\"outline\" class=\"search-box\">\n      <mat-label>Search Transactions</mat-label>\n      <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"Enter text to filter...\" />\n    </mat-form-field>\n\n    <button mat-raised-button color=\"primary\" (click)=\"toggleForm()\">Add Expense</button>\n  </div>\n\n  <!-- Add/Edit Form (conditional) -->\n  <form class=\"expense-form\" *ngIf=\"showForm\" (ngSubmit)=\"submitExpense()\" #expenseForm=\"ngForm\">\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Date</mat-label>\n      <input matInput type=\"date\" [(ngModel)]=\"newExpense.date\" name=\"date\" required />\n    </mat-form-field>\n\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Amount</mat-label>\n      <input matInput type=\"number\" [(ngModel)]=\"newExpense.amount\" name=\"amount\" required />\n    </mat-form-field>\n\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Category</mat-label>\n      <mat-select [(ngModel)]=\"newExpense.category\" name=\"category\" required>\n        <mat-option value=\"Food\">Food</mat-option>\n        <mat-option value=\"Groceries\">Groceries</mat-option>\n        <mat-option value=\"Entertainment\">Entertainment</mat-option>\n        <mat-option value=\"Utilities\">Utilities</mat-option>\n        <mat-option value=\"income\">Income</mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Description</mat-label>\n      <input matInput [(ngModel)]=\"newExpense.description\" name=\"description\" required />\n    </mat-form-field>\n\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Payment Method</mat-label>\n      <mat-select [(ngModel)]=\"newExpense.method\" name=\"method\" required>\n        <mat-option value=\"Cash\">Cash</mat-option>\n        <mat-option value=\"UPI\">UPI</mat-option>\n        <mat-option value=\"Credit Card\">Credit Card</mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Location</mat-label>\n      <input matInput [(ngModel)]=\"newExpense.location\" name=\"location\" required />\n    </mat-form-field>\n\n    <!-- Buttons -->\n    <div class=\"form-buttons\">\n      <button mat-raised-button color=\"primary\" type=\"submit\">\n        {{ editMode ? 'Update Expense' : 'Submit Expense' }}\n      </button>\n      <button mat-stroked-button color=\"warn\" type=\"button\" (click)=\"cancelEdit()\">Cancel</button>\n    </div>\n  </form>\n\n  <!-- Table -->\n  <div class=\"table-wrapper\">\n  <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n    <ng-container matColumnDef=\"date\">\n      <th mat-header-cell *matHeaderCellDef>Date</th>\n      <td mat-cell *matCellDef=\"let el\">{{ formatDate(el.date) }}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"amount\">\n      <th mat-header-cell *matHeaderCellDef>Amount</th>\n      <td mat-cell *matCellDef=\"let el\">{{ el.amount | currency: 'USD' }}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"category\">\n      <th mat-header-cell *matHeaderCellDef>Category</th>\n      <td mat-cell *matCellDef=\"let el\">{{ el.category }}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"description\">\n      <th mat-header-cell *matHeaderCellDef>Description</th>\n      <td mat-cell *matCellDef=\"let el\">{{ el.description }}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"method\">\n      <th mat-header-cell *matHeaderCellDef>Method</th>\n      <td mat-cell *matCellDef=\"let el\">{{ el.method }}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"location\">\n      <th mat-header-cell *matHeaderCellDef>Location</th>\n      <td mat-cell *matCellDef=\"let el\">{{ el.location }}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"actions\">\n      <th mat-header-cell *matHeaderCellDef>Actions</th>\n      <td mat-cell *matCellDef=\"let el\">\n        <button mat-icon-button color=\"primary\" (click)=\"startEdit(el)\">\n          <mat-icon>edit</mat-icon>\n        </button>\n        <button mat-icon-button color=\"warn\" (click)=\"deleteExpense(el.id)\">\n          <mat-icon>delete</mat-icon>\n        </button>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n  </div>\n</div>\n</div>"],"mappings":";AACA,SAASA,kBAAkB,QAAQ,yBAAyB;AAE5D,OAAOC,QAAQ,MAAM,qBAAqB;;;;;;;;;;;;;;;;ICcxCC,EAAA,CAAAC,cAAA,mBAA+F;IAAnDD,EAAA,CAAAE,UAAA,sBAAAC,4DAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAC,OAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAAYP,EAAA,CAAAQ,WAAA,CAAAF,OAAA,CAAAG,aAAA,EAAe;IAAA,EAAC;IACtET,EAAA,CAAAC,cAAA,yBAAqC;IACxBD,EAAA,CAAAU,MAAA,WAAI;IAAAV,EAAA,CAAAW,YAAA,EAAY;IAC3BX,EAAA,CAAAC,cAAA,gBAAiF;IAArDD,EAAA,CAAAE,UAAA,2BAAAU,kEAAAC,MAAA;MAAAb,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAS,OAAA,GAAAd,EAAA,CAAAO,aAAA;MAAA,OAAaP,EAAA,CAAAQ,WAAA,CAAAM,OAAA,CAAAC,UAAA,CAAAC,IAAA,GAAAH,MAAA,CAAuB;IAAA,EAAP;IAAzDb,EAAA,CAAAW,YAAA,EAAiF;IAGnFX,EAAA,CAAAC,cAAA,yBAAqC;IACxBD,EAAA,CAAAU,MAAA,aAAM;IAAAV,EAAA,CAAAW,YAAA,EAAY;IAC7BX,EAAA,CAAAC,cAAA,gBAAuF;IAAzDD,EAAA,CAAAE,UAAA,2BAAAe,kEAAAJ,MAAA;MAAAb,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAa,OAAA,GAAAlB,EAAA,CAAAO,aAAA;MAAA,OAAaP,EAAA,CAAAQ,WAAA,CAAAU,OAAA,CAAAH,UAAA,CAAAI,MAAA,GAAAN,MAAA,CAAyB;IAAA,EAAP;IAA7Db,EAAA,CAAAW,YAAA,EAAuF;IAGzFX,EAAA,CAAAC,cAAA,0BAAqC;IACxBD,EAAA,CAAAU,MAAA,gBAAQ;IAAAV,EAAA,CAAAW,YAAA,EAAY;IAC/BX,EAAA,CAAAC,cAAA,sBAAuE;IAA3DD,EAAA,CAAAE,UAAA,2BAAAkB,wEAAAP,MAAA;MAAAb,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAgB,OAAA,GAAArB,EAAA,CAAAO,aAAA;MAAA,OAAaP,EAAA,CAAAQ,WAAA,CAAAa,OAAA,CAAAN,UAAA,CAAAO,QAAA,GAAAT,MAAA,CAA2B;IAAA,EAAP;IAC3Cb,EAAA,CAAAC,cAAA,sBAAyB;IAAAD,EAAA,CAAAU,MAAA,YAAI;IAAAV,EAAA,CAAAW,YAAA,EAAa;IAC1CX,EAAA,CAAAC,cAAA,sBAA8B;IAAAD,EAAA,CAAAU,MAAA,iBAAS;IAAAV,EAAA,CAAAW,YAAA,EAAa;IACpDX,EAAA,CAAAC,cAAA,sBAAkC;IAAAD,EAAA,CAAAU,MAAA,qBAAa;IAAAV,EAAA,CAAAW,YAAA,EAAa;IAC5DX,EAAA,CAAAC,cAAA,sBAA8B;IAAAD,EAAA,CAAAU,MAAA,iBAAS;IAAAV,EAAA,CAAAW,YAAA,EAAa;IACpDX,EAAA,CAAAC,cAAA,sBAA2B;IAAAD,EAAA,CAAAU,MAAA,cAAM;IAAAV,EAAA,CAAAW,YAAA,EAAa;IAIlDX,EAAA,CAAAC,cAAA,0BAAqC;IACxBD,EAAA,CAAAU,MAAA,mBAAW;IAAAV,EAAA,CAAAW,YAAA,EAAY;IAClCX,EAAA,CAAAC,cAAA,iBAAmF;IAAnED,EAAA,CAAAE,UAAA,2BAAAqB,mEAAAV,MAAA;MAAAb,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAmB,OAAA,GAAAxB,EAAA,CAAAO,aAAA;MAAA,OAAaP,EAAA,CAAAQ,WAAA,CAAAgB,OAAA,CAAAT,UAAA,CAAAU,WAAA,GAAAZ,MAAA,CAA8B;IAAA,EAAP;IAApDb,EAAA,CAAAW,YAAA,EAAmF;IAGrFX,EAAA,CAAAC,cAAA,0BAAqC;IACxBD,EAAA,CAAAU,MAAA,sBAAc;IAAAV,EAAA,CAAAW,YAAA,EAAY;IACrCX,EAAA,CAAAC,cAAA,sBAAmE;IAAvDD,EAAA,CAAAE,UAAA,2BAAAwB,wEAAAb,MAAA;MAAAb,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAsB,OAAA,GAAA3B,EAAA,CAAAO,aAAA;MAAA,OAAaP,EAAA,CAAAQ,WAAA,CAAAmB,OAAA,CAAAZ,UAAA,CAAAa,MAAA,GAAAf,MAAA,CAAyB;IAAA,EAAP;IACzCb,EAAA,CAAAC,cAAA,sBAAyB;IAAAD,EAAA,CAAAU,MAAA,YAAI;IAAAV,EAAA,CAAAW,YAAA,EAAa;IAC1CX,EAAA,CAAAC,cAAA,sBAAwB;IAAAD,EAAA,CAAAU,MAAA,WAAG;IAAAV,EAAA,CAAAW,YAAA,EAAa;IACxCX,EAAA,CAAAC,cAAA,sBAAgC;IAAAD,EAAA,CAAAU,MAAA,mBAAW;IAAAV,EAAA,CAAAW,YAAA,EAAa;IAI5DX,EAAA,CAAAC,cAAA,0BAAqC;IACxBD,EAAA,CAAAU,MAAA,gBAAQ;IAAAV,EAAA,CAAAW,YAAA,EAAY;IAC/BX,EAAA,CAAAC,cAAA,iBAA6E;IAA7DD,EAAA,CAAAE,UAAA,2BAAA2B,mEAAAhB,MAAA;MAAAb,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAyB,OAAA,GAAA9B,EAAA,CAAAO,aAAA;MAAA,OAAaP,EAAA,CAAAQ,WAAA,CAAAsB,OAAA,CAAAf,UAAA,CAAAgB,QAAA,GAAAlB,MAAA,CAA2B;IAAA,EAAP;IAAjDb,EAAA,CAAAW,YAAA,EAA6E;IAI/EX,EAAA,CAAAC,cAAA,eAA0B;IAEtBD,EAAA,CAAAU,MAAA,IACF;IAAAV,EAAA,CAAAW,YAAA,EAAS;IACTX,EAAA,CAAAC,cAAA,kBAA6E;IAAvBD,EAAA,CAAAE,UAAA,mBAAA8B,4DAAA;MAAAhC,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAA4B,OAAA,GAAAjC,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAyB,OAAA,CAAAC,UAAA,EAAY;IAAA,EAAC;IAAClC,EAAA,CAAAU,MAAA,cAAM;IAAAV,EAAA,CAAAW,YAAA,EAAS;;;;IA3ChEX,EAAA,CAAAmC,SAAA,GAA6B;IAA7BnC,EAAA,CAAAoC,UAAA,YAAAC,MAAA,CAAAtB,UAAA,CAAAC,IAAA,CAA6B;IAK3BhB,EAAA,CAAAmC,SAAA,GAA+B;IAA/BnC,EAAA,CAAAoC,UAAA,YAAAC,MAAA,CAAAtB,UAAA,CAAAI,MAAA,CAA+B;IAKjDnB,EAAA,CAAAmC,SAAA,GAAiC;IAAjCnC,EAAA,CAAAoC,UAAA,YAAAC,MAAA,CAAAtB,UAAA,CAAAO,QAAA,CAAiC;IAW7BtB,EAAA,CAAAmC,SAAA,IAAoC;IAApCnC,EAAA,CAAAoC,UAAA,YAAAC,MAAA,CAAAtB,UAAA,CAAAU,WAAA,CAAoC;IAKxCzB,EAAA,CAAAmC,SAAA,GAA+B;IAA/BnC,EAAA,CAAAoC,UAAA,YAAAC,MAAA,CAAAtB,UAAA,CAAAa,MAAA,CAA+B;IAS3B5B,EAAA,CAAAmC,SAAA,IAAiC;IAAjCnC,EAAA,CAAAoC,UAAA,YAAAC,MAAA,CAAAtB,UAAA,CAAAgB,QAAA,CAAiC;IAM/C/B,EAAA,CAAAmC,SAAA,GACF;IADEnC,EAAA,CAAAsC,kBAAA,MAAAD,MAAA,CAAAE,QAAA,4CACF;;;;;IASAvC,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,WAAI;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IAC/CX,EAAA,CAAAC,cAAA,aAAkC;IAAAD,EAAA,CAAAU,MAAA,GAAyB;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IAA9BX,EAAA,CAAAmC,SAAA,GAAyB;IAAzBnC,EAAA,CAAAwC,iBAAA,CAAAC,MAAA,CAAAC,UAAA,CAAAC,MAAA,CAAA3B,IAAA,EAAyB;;;;;IAI3DhB,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,aAAM;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IACjDX,EAAA,CAAAC,cAAA,aAAkC;IAAAD,EAAA,CAAAU,MAAA,GAAiC;;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;IAAtCX,EAAA,CAAAmC,SAAA,GAAiC;IAAjCnC,EAAA,CAAAwC,iBAAA,CAAAxC,EAAA,CAAA4C,WAAA,OAAAC,MAAA,CAAA1B,MAAA,SAAiC;;;;;IAInEnB,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,eAAQ;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IACnDX,EAAA,CAAAC,cAAA,aAAkC;IAAAD,EAAA,CAAAU,MAAA,GAAiB;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;IAAtBX,EAAA,CAAAmC,SAAA,GAAiB;IAAjBnC,EAAA,CAAAwC,iBAAA,CAAAM,MAAA,CAAAxB,QAAA,CAAiB;;;;;IAInDtB,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,kBAAW;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IACtDX,EAAA,CAAAC,cAAA,aAAkC;IAAAD,EAAA,CAAAU,MAAA,GAAoB;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;IAAzBX,EAAA,CAAAmC,SAAA,GAAoB;IAApBnC,EAAA,CAAAwC,iBAAA,CAAAO,MAAA,CAAAtB,WAAA,CAAoB;;;;;IAItDzB,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,aAAM;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IACjDX,EAAA,CAAAC,cAAA,aAAkC;IAAAD,EAAA,CAAAU,MAAA,GAAe;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;IAApBX,EAAA,CAAAmC,SAAA,GAAe;IAAfnC,EAAA,CAAAwC,iBAAA,CAAAQ,MAAA,CAAApB,MAAA,CAAe;;;;;IAIjD5B,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,eAAQ;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;IACnDX,EAAA,CAAAC,cAAA,aAAkC;IAAAD,EAAA,CAAAU,MAAA,GAAiB;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;IAAtBX,EAAA,CAAAmC,SAAA,GAAiB;IAAjBnC,EAAA,CAAAwC,iBAAA,CAAAS,MAAA,CAAAlB,QAAA,CAAiB;;;;;IAInD/B,EAAA,CAAAC,cAAA,aAAsC;IAAAD,EAAA,CAAAU,MAAA,cAAO;IAAAV,EAAA,CAAAW,YAAA,EAAK;;;;;;IAClDX,EAAA,CAAAC,cAAA,aAAkC;IACQD,EAAA,CAAAE,UAAA,mBAAAgD,yDAAA;MAAA,MAAAC,WAAA,GAAAnD,EAAA,CAAAI,aAAA,CAAAgD,IAAA;MAAA,MAAAC,MAAA,GAAAF,WAAA,CAAAG,SAAA;MAAA,MAAAC,OAAA,GAAAvD,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAA+C,OAAA,CAAAC,SAAA,CAAAH,MAAA,CAAa;IAAA,EAAC;IAC7DrD,EAAA,CAAAC,cAAA,eAAU;IAAAD,EAAA,CAAAU,MAAA,WAAI;IAAAV,EAAA,CAAAW,YAAA,EAAW;IAE3BX,EAAA,CAAAC,cAAA,iBAAoE;IAA/BD,EAAA,CAAAE,UAAA,mBAAAuD,yDAAA;MAAA,MAAAN,WAAA,GAAAnD,EAAA,CAAAI,aAAA,CAAAgD,IAAA;MAAA,MAAAC,MAAA,GAAAF,WAAA,CAAAG,SAAA;MAAA,MAAAI,OAAA,GAAA1D,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAkD,OAAA,CAAAC,aAAA,CAAAN,MAAA,CAAAO,EAAA,CAAoB;IAAA,EAAC;IACjE5D,EAAA,CAAAC,cAAA,eAAU;IAAAD,EAAA,CAAAU,MAAA,aAAM;IAAAV,EAAA,CAAAW,YAAA,EAAW;;;;;IAKjCX,EAAA,CAAA6D,SAAA,aAA4D;;;;;IAC5D7D,EAAA,CAAA6D,SAAA,aAAkE;;;AD3FtE,OAAM,MAAOC,iBAAiB;EAkB5BC,YAAoBC,SAA2B,EAAUC,IAAqB;IAA1D,KAAAD,SAAS,GAATA,SAAS;IAA4B,KAAAC,IAAI,GAAJA,IAAI;IAjB7D,KAAAC,gBAAgB,GAAa,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,aAAa,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,CAAC;IAC3G,KAAAC,WAAW,GAAc,EAAE;IAC3B,KAAAC,UAAU,GAAG,IAAItE,kBAAkB,CAAU,EAAE,CAAC;IAEhD,KAAAiB,UAAU,GAAY;MACpBC,IAAI,EAAE,EAAE;MACRG,MAAM,EAAE,CAAC;MACTG,QAAQ,EAAE,EAAE;MACZG,WAAW,EAAE,EAAE;MACfG,MAAM,EAAE,EAAE;MACVG,QAAQ,EAAE;KACX;IAED,KAAAQ,QAAQ,GAAG,KAAK;IAChB,KAAA8B,gBAAgB,GAAkB,IAAI;IACtC,KAAAC,QAAQ,GAAG,KAAK;IAEoE,IAAI,CAACC,YAAY,EAAE;EAAE;EAEzG;EACAA,YAAYA,CAAA;IACV,IAAI,CAACN,IAAI,CAACO,SAAS,CAACC,SAAS,CAACC,IAAI,IAAG;MACnC,IAAI,CAACA,IAAI,EAAE;QACT,IAAI,CAACP,WAAW,GAAG,EAAE;QACrB,IAAI,CAACC,UAAU,CAACO,IAAI,GAAG,EAAE;QACzB;;MAGF,IAAI,CAACX,SAAS,CAACY,UAAU,CAAU,UAAU,EAAEC,GAAG,IAChDA,GAAG,CAACC,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEJ,IAAI,CAACK,GAAG,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAC5D,CAACC,YAAY,CAAC;QAAEC,OAAO,EAAE;MAAI,CAAE,CAAC,CAACT,SAAS,CAAEE,IAAe,IAAI;QAC9D,IAAI,CAACR,WAAW,GAAGQ,IAAI;QACvB,IAAI,CAACP,UAAU,CAACO,IAAI,GAAG,IAAI,CAACR,WAAW;MACzC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAGA;EACAgB,WAAWA,CAACC,KAAY;IACtB,MAAMC,WAAW,GAAID,KAAK,CAACE,MAA2B,CAACC,KAAK,CAACC,IAAI,EAAE,CAACC,WAAW,EAAE;IACjF,IAAI,CAACrB,UAAU,CAACsB,MAAM,GAAGL,WAAW;EACtC;EAEA;EACAM,UAAUA,CAAA;IACR,IAAI,CAACrB,QAAQ,GAAG,CAAC,IAAI,CAACA,QAAQ;IAC9B,IAAI,CAAC,IAAI,CAACA,QAAQ,EAAE;MAClB,IAAI,CAACsB,SAAS,EAAE;;EAEpB;EAEA;EACAA,SAASA,CAAA;IACP,IAAI,CAAC7E,UAAU,GAAG;MAChBC,IAAI,EAAE,EAAE;MACRG,MAAM,EAAE,CAAC;MACTG,QAAQ,EAAE,EAAE;MACZG,WAAW,EAAE,EAAE;MACfG,MAAM,EAAE,EAAE;MACVG,QAAQ,EAAE;KACX;IACD,IAAI,CAACQ,QAAQ,GAAG,KAAK;IACrB,IAAI,CAAC8B,gBAAgB,GAAG,IAAI;EAC9B;EAEA;EACAb,SAASA,CAACqC,OAAgB;IACxB,IAAI,CAAC9E,UAAU,GAAG;MAChB,GAAG8E,OAAO;MACV7E,IAAI,EAAE,IAAI,CAAC0B,UAAU,CAACmD,OAAO,CAAC7E,IAAI;KACnC;IACD,IAAI,CAACqD,gBAAgB,GAAGwB,OAAO,CAACjC,EAAE,IAAI,IAAI;IAC1C,IAAI,CAACrB,QAAQ,GAAG,IAAI;IACpB,IAAI,CAAC+B,QAAQ,GAAG,IAAI;EACtB;EAEA;EACM7D,aAAaA,CAAA;IAAA,IAAAqF,KAAA;IAAA,OAAAC,iBAAA;MACjB,MAAM;QAAE/E,IAAI;QAAEG,MAAM;QAAEG,QAAQ;QAAEG,WAAW;QAAEG,MAAM;QAAEG;MAAQ,CAAE,GAAG+D,KAAI,CAAC/E,UAAU;MAEjF,IAAIC,IAAI,IAAIG,MAAM,IAAIG,QAAQ,IAAIG,WAAW,IAAIG,MAAM,IAAIG,QAAQ,EAAE;QACnE,MAAM2C,IAAI,GAAG3E,QAAQ,CAACkE,IAAI,EAAE,CAAC+B,WAAW;QACxC,IAAI,CAACtB,IAAI,EAAE;UACTuB,KAAK,CAAC,wCAAwC,CAAC;UAC/C;;QAGF,MAAMC,OAAO,GAAG;UACdlF,IAAI,EAAE,IAAImF,IAAI,CAACnF,IAAI,GAAG,WAAW,CAAC;UAClCG,MAAM;UACNG,QAAQ;UACRG,WAAW;UACXG,MAAM;UACNG,QAAQ;UACRqE,MAAM,EAAE1B,IAAI,CAACK;SACd;QAED,IAAIe,KAAI,CAACvD,QAAQ,IAAIuD,KAAI,CAACzB,gBAAgB,EAAE;UAC1C,MAAMyB,KAAI,CAAC9B,SAAS,CAACY,UAAU,CAAC,UAAU,CAAC,CAACyB,GAAG,CAACP,KAAI,CAACzB,gBAAgB,CAAC,CAACiC,MAAM,CAACJ,OAAO,CAAC;SACvF,MAAM;UACL,MAAMJ,KAAI,CAAC9B,SAAS,CAACY,UAAU,CAAC,UAAU,CAAC,CAAC2B,GAAG,CAACL,OAAO,CAAC;;QAG1DJ,KAAI,CAACF,SAAS,EAAE;QAChBE,KAAI,CAACxB,QAAQ,GAAG,KAAK;QAErB;QACAwB,KAAI,CAACvB,YAAY,EAAE;OACpB,MAAM;QACL0B,KAAK,CAAC,4BAA4B,CAAC;;IACpC;EACH;EAIA;EACA/D,UAAUA,CAAA;IACR,IAAI,CAAC0D,SAAS,EAAE;IAChB,IAAI,CAACtB,QAAQ,GAAG,KAAK;EACvB;EAGA;EACAX,aAAaA,CAACC,EAAU;IACtB,IAAI,CAACI,SAAS,CAACqC,GAAG,CAAC,YAAYzC,EAAE,EAAE,CAAC,CAAC4C,MAAM,EAAE;EAC/C;EAEA;EACA9D,UAAUA,CAAC1B,IAAS;IAClB,IAAIA,IAAI,EAAEyF,MAAM,EAAE;MAChB,OAAO,IAAIN,IAAI,CAACnF,IAAI,CAACyF,MAAM,EAAE,CAAC,CAACC,WAAW,EAAE,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;KAC9D,MAAM,IAAI,OAAO3F,IAAI,KAAK,QAAQ,IAAIA,IAAI,YAAYmF,IAAI,EAAE;MAC3D,OAAO,IAAIA,IAAI,CAACnF,IAAI,CAAC,CAAC0F,WAAW,EAAE,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;;IAEtD,OAAO,EAAE;EACX;;;uBAzIW7C,iBAAiB,EAAA9D,EAAA,CAAA4G,iBAAA,CAAAC,EAAA,CAAAC,gBAAA,GAAA9G,EAAA,CAAA4G,iBAAA,CAAAG,EAAA,CAAAC,eAAA;IAAA;EAAA;;;YAAjBlD,iBAAiB;MAAAmD,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCtB9BvH,EAAA,CAAAC,cAAA,aAA0B;UAIpBD,EAAA,CAAAU,MAAA,4BAAqB;UAAAV,EAAA,CAAAW,YAAA,EAAK;UAG9BX,EAAA,CAAAC,cAAA,aAA0B;UAEXD,EAAA,CAAAU,MAAA,0BAAmB;UAAAV,EAAA,CAAAW,YAAA,EAAY;UAC1CX,EAAA,CAAAC,cAAA,eAAsF;UAAtED,EAAA,CAAAE,UAAA,mBAAAuH,kDAAA5G,MAAA;YAAA,OAAS2G,GAAA,CAAArC,WAAA,CAAAtE,MAAA,CAAmB;UAAA,EAAC;UAA7Cb,EAAA,CAAAW,YAAA,EAAsF;UAGxFX,EAAA,CAAAC,cAAA,gBAAiE;UAAvBD,EAAA,CAAAE,UAAA,mBAAAwH,mDAAA;YAAA,OAASF,GAAA,CAAA7B,UAAA,EAAY;UAAA,EAAC;UAAC3F,EAAA,CAAAU,MAAA,mBAAW;UAAAV,EAAA,CAAAW,YAAA,EAAS;UAIvFX,EAAA,CAAA2H,UAAA,KAAAC,kCAAA,mBAgDO;UAGP5H,EAAA,CAAAC,cAAA,cAA2B;UAEzBD,EAAA,CAAA6H,uBAAA,OAAkC;UAChC7H,EAAA,CAAA2H,UAAA,KAAAG,gCAAA,iBAA+C;UAC/C9H,EAAA,CAAA2H,UAAA,KAAAI,gCAAA,iBAAgE;UAClE/H,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA6H,uBAAA,QAAoC;UAClC7H,EAAA,CAAA2H,UAAA,KAAAM,gCAAA,iBAAiD;UACjDjI,EAAA,CAAA2H,UAAA,KAAAO,gCAAA,iBAAwE;UAC1ElI,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA6H,uBAAA,QAAsC;UACpC7H,EAAA,CAAA2H,UAAA,KAAAQ,gCAAA,iBAAmD;UACnDnI,EAAA,CAAA2H,UAAA,KAAAS,gCAAA,iBAAwD;UAC1DpI,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA6H,uBAAA,QAAyC;UACvC7H,EAAA,CAAA2H,UAAA,KAAAU,gCAAA,iBAAsD;UACtDrI,EAAA,CAAA2H,UAAA,KAAAW,gCAAA,iBAA2D;UAC7DtI,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA6H,uBAAA,QAAoC;UAClC7H,EAAA,CAAA2H,UAAA,KAAAY,gCAAA,iBAAiD;UACjDvI,EAAA,CAAA2H,UAAA,KAAAa,gCAAA,iBAAsD;UACxDxI,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA6H,uBAAA,QAAsC;UACpC7H,EAAA,CAAA2H,UAAA,KAAAc,gCAAA,iBAAmD;UACnDzI,EAAA,CAAA2H,UAAA,KAAAe,gCAAA,iBAAwD;UAC1D1I,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA6H,uBAAA,QAAqC;UACnC7H,EAAA,CAAA2H,UAAA,KAAAgB,gCAAA,iBAAkD;UAClD3I,EAAA,CAAA2H,UAAA,KAAAiB,gCAAA,iBAOK;UACP5I,EAAA,CAAAgI,qBAAA,EAAe;UAEfhI,EAAA,CAAA2H,UAAA,KAAAkB,gCAAA,iBAA4D;UAC5D7I,EAAA,CAAA2H,UAAA,KAAAmB,gCAAA,iBAAkE;UACpE9I,EAAA,CAAAW,YAAA,EAAQ;;;UAjGoBX,EAAA,CAAAmC,SAAA,IAAc;UAAdnC,EAAA,CAAAoC,UAAA,SAAAoF,GAAA,CAAAlD,QAAA,CAAc;UAoDzBtE,EAAA,CAAAmC,SAAA,GAAyB;UAAzBnC,EAAA,CAAAoC,UAAA,eAAAoF,GAAA,CAAApD,UAAA,CAAyB;UA2CpBpE,EAAA,CAAAmC,SAAA,IAAiC;UAAjCnC,EAAA,CAAAoC,UAAA,oBAAAoF,GAAA,CAAAtD,gBAAA,CAAiC;UACpBlE,EAAA,CAAAmC,SAAA,GAA0B;UAA1BnC,EAAA,CAAAoC,UAAA,qBAAAoF,GAAA,CAAAtD,gBAAA,CAA0B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}