{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/common\";\nfunction MonthlyComponent_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Month \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MonthlyComponent_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", summary_r10.monthYear, \" \");\n  }\n}\nfunction MonthlyComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Received \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MonthlyComponent_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, summary_r11.received, \"USD\"), \" \");\n  }\n}\nfunction MonthlyComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Spent \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MonthlyComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, summary_r12.spent, \"USD\"), \" \");\n  }\n}\nfunction MonthlyComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 10);\n    i0.ɵɵtext(1, \" Saved \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MonthlyComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, summary_r13.saved, \"USD\"), \" \");\n  }\n}\nfunction MonthlyComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 12);\n  }\n}\nfunction MonthlyComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 13);\n  }\n}\nconst _c0 = function () {\n  return [\"month\", \"received\", \"spent\", \"saved\"];\n};\nexport class MonthlyComponent {\n  constructor(firestore) {\n    this.firestore = firestore;\n    this.monthlySummaries = [];\n  }\n  ngOnInit() {\n    this.firestore.collection('expenses').valueChanges().subscribe(data => {\n      const grouped = {};\n      data.forEach(expense => {\n        const date = expense.date?.toDate?.() ?? new Date(expense.date);\n        if (isNaN(date.getTime())) return;\n        const key = `${date.toLocaleString('default', {\n          month: 'short'\n        })} ${date.getFullYear()}`;\n        const isIncome = expense.category.toLowerCase() === 'income';\n        if (!grouped[key]) {\n          grouped[key] = {\n            received: 0,\n            spent: 0\n          };\n        }\n        if (isIncome) {\n          grouped[key].received += expense.amount;\n        } else {\n          grouped[key].spent += expense.amount;\n        }\n      });\n      this.monthlySummaries = Object.entries(grouped).map(([monthYear, {\n        received,\n        spent\n      }]) => ({\n        monthYear,\n        received,\n        spent,\n        saved: received - spent\n      }));\n    });\n  }\n  static {\n    this.ɵfac = function MonthlyComponent_Factory(t) {\n      return new (t || MonthlyComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MonthlyComponent,\n      selectors: [[\"app-monthly\"]],\n      decls: 19,\n      vars: 5,\n      consts: [[1, \"monthly-summary\"], [\"mat-table\", \"\", 1, \"mat-elevation-z2\", \"full-width\", 3, \"dataSource\"], [\"matColumnDef\", \"month\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"received\"], [\"matColumnDef\", \"spent\"], [\"matColumnDef\", \"saved\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function MonthlyComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Monthly Summaries\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"mat-card\")(4, \"table\", 1);\n          i0.ɵɵelementContainerStart(5, 2);\n          i0.ɵɵtemplate(6, MonthlyComponent_th_6_Template, 2, 0, \"th\", 3);\n          i0.ɵɵtemplate(7, MonthlyComponent_td_7_Template, 2, 1, \"td\", 4);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(8, 5);\n          i0.ɵɵtemplate(9, MonthlyComponent_th_9_Template, 2, 0, \"th\", 3);\n          i0.ɵɵtemplate(10, MonthlyComponent_td_10_Template, 3, 4, \"td\", 4);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(11, 6);\n          i0.ɵɵtemplate(12, MonthlyComponent_th_12_Template, 2, 0, \"th\", 3);\n          i0.ɵɵtemplate(13, MonthlyComponent_td_13_Template, 3, 4, \"td\", 4);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(14, 7);\n          i0.ɵɵtemplate(15, MonthlyComponent_th_15_Template, 2, 0, \"th\", 3);\n          i0.ɵɵtemplate(16, MonthlyComponent_td_16_Template, 3, 4, \"td\", 4);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(17, MonthlyComponent_tr_17_Template, 1, 0, \"tr\", 8);\n          i0.ɵɵtemplate(18, MonthlyComponent_tr_18_Template, 1, 0, \"tr\", 9);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"dataSource\", ctx.monthlySummaries);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"matHeaderRowDef\", i0.ɵɵpureFunction0(3, _c0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(4, _c0));\n        }\n      },\n      dependencies: [i2.MatCard, i3.MatTable, i3.MatHeaderCellDef, i3.MatHeaderRowDef, i3.MatColumnDef, i3.MatCellDef, i3.MatRowDef, i3.MatHeaderCell, i3.MatCell, i3.MatHeaderRow, i3.MatRow, i4.CurrencyPipe],\n      styles: [\".monthly-summary[_ngcontent-%COMP%] {\\n  max-width: 9000px;\\n  height: 200%;\\n  margin: 3rem auto;\\n  padding: 2rem;\\n  background: #ffffff;\\n  border-radius: 20px;\\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);\\n}\\n.monthly-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 2.8rem;\\n  font-weight: 600;\\n  margin-bottom: 1.5rem;\\n  color: #2f2e41;\\n  text-align: center;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  padding: 1.5rem;\\n  background: #fcfcfc;\\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.04);\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  text-align: left;\\n  font-weight: 600;\\n  padding: 1rem;\\n  color: #555;\\n  background: #f5f5f5;\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 1rem;\\n  border-bottom: 1px solid #eee;\\n  color: #333;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%] {\\n  border-bottom: none;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2) {\\n  color: #2e7d32;\\n  font-weight: 500;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3) {\\n  color: #d32f2f;\\n  font-weight: 500;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4) {\\n  color: #000;\\n  font-weight: 500;\\n  font-size: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbW9udGhseS9tb250aGx5LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vbXklMjBnaXRodWIlMjBwcm9qZWN0cy9leHBlbnNlLXRyYWNrZXIvc3JjL2FwcC9wYWdlcy9tb250aGx5L21vbnRobHkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkJBO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDJDQUFBO0FDMUJGO0FENEJFO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FDMUJKO0FENkJFO0VBQ0UsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQ0FBQTtBQzNCSjtBRDhCRTtFQUNFLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGVBQUE7QUM1Qko7QUQ4Qkk7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGdDQUFBO0FDNUJOO0FEK0JJO0VBQ0UsYUFBQTtFQUNBLDZCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUM3Qk47QURnQ0k7RUFDRSxtQkFBQTtBQzlCTjtBRGtDSTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNoQ047QURtQ0k7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FDakNOO0FEb0NJO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ2xDTiIsInNvdXJjZXNDb250ZW50IjpbIi8vIC5tb250aGx5LXN1bW1hcnktY29udGFpbmVyIHtcbi8vICAgcGFkZGluZzogMjRweDtcblxuLy8gICB0YWJsZSB7XG4vLyAgICAgd2lkdGg6IDEwMCU7XG4vLyAgICAgbWFyZ2luLXRvcDogMjBweDtcbi8vICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4vLyAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbi8vICAgfVxuXG4vLyAgIHRoIHtcbi8vICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuLy8gICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuLy8gICB9XG5cbi8vICAgdGQsIHRoIHtcbi8vICAgICBwYWRkaW5nOiAxMnB4O1xuLy8gICAgIHRleHQtYWxpZ246IGxlZnQ7XG4vLyAgIH1cblxuLy8gICBoMiB7XG4vLyAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbi8vICAgICBjb2xvcjogIzNmNTFiNTtcbi8vICAgfVxuLy8gfVxuXG5cbi5tb250aGx5LXN1bW1hcnkge1xuICBtYXgtd2lkdGg6IDkwMDBweDtcbiAgaGVpZ2h0OiAyMDAlO1xuICBtYXJnaW46IDNyZW0gYXV0bztcbiAgcGFkZGluZzogMnJlbTtcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgYm94LXNoYWRvdzogMCAyMHB4IDQwcHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcblxuICBoMiB7XG4gICAgZm9udC1zaXplOiAyLjhyZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgY29sb3I6ICMyZjJlNDE7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgbWF0LWNhcmQge1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgcGFkZGluZzogMS41cmVtO1xuICAgIGJhY2tncm91bmQ6ICNmY2ZjZmM7XG4gICAgYm94LXNoYWRvdzogMCAxNXB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjA0KTtcbiAgfVxuXG4gIHRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcblxuICAgIHRoIHtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgIGNvbG9yOiAjNTU1O1xuICAgICAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xuICAgIH1cblxuICAgIHRkIHtcbiAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIH1cblxuICAgIHRyOmxhc3QtY2hpbGQgdGQge1xuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgIFxuICAgIH1cblxuICAgIHRkOm50aC1jaGlsZCgyKSB7XG4gICAgICBjb2xvcjogIzJlN2QzMjsgLy8gR3JlZW4gZm9yIFJlY2VpdmVkXG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIH1cblxuICAgIHRkOm50aC1jaGlsZCgzKSB7XG4gICAgICBjb2xvcjogI2QzMmYyZjsgLy8gUmVkIGZvciBTcGVudFxuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICB9XG5cbiAgICB0ZDpudGgtY2hpbGQoNCkge1xuICAgICAgY29sb3I6ICMwMDA7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIH1cbiAgfVxufVxuIiwiLm1vbnRobHktc3VtbWFyeSB7XG4gIG1heC13aWR0aDogOTAwMHB4O1xuICBoZWlnaHQ6IDIwMCU7XG4gIG1hcmdpbjogM3JlbSBhdXRvO1xuICBwYWRkaW5nOiAycmVtO1xuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBib3gtc2hhZG93OiAwIDIwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xufVxuLm1vbnRobHktc3VtbWFyeSBoMiB7XG4gIGZvbnQtc2l6ZTogMi44cmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gIGNvbG9yOiAjMmYyZTQxO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4ubW9udGhseS1zdW1tYXJ5IG1hdC1jYXJkIHtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgcGFkZGluZzogMS41cmVtO1xuICBiYWNrZ3JvdW5kOiAjZmNmY2ZjO1xuICBib3gtc2hhZG93OiAwIDE1cHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMDQpO1xufVxuLm1vbnRobHktc3VtbWFyeSB0YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBmb250LXNpemU6IDFyZW07XG59XG4ubW9udGhseS1zdW1tYXJ5IHRhYmxlIHRoIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgcGFkZGluZzogMXJlbTtcbiAgY29sb3I6ICM1NTU7XG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuLm1vbnRobHktc3VtbWFyeSB0YWJsZSB0ZCB7XG4gIHBhZGRpbmc6IDFyZW07XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xuICBjb2xvcjogIzMzMztcbiAgZm9udC1zaXplOiAxcmVtO1xufVxuLm1vbnRobHktc3VtbWFyeSB0YWJsZSB0cjpsYXN0LWNoaWxkIHRkIHtcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbn1cbi5tb250aGx5LXN1bW1hcnkgdGFibGUgdGQ6bnRoLWNoaWxkKDIpIHtcbiAgY29sb3I6ICMyZTdkMzI7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cbi5tb250aGx5LXN1bW1hcnkgdGFibGUgdGQ6bnRoLWNoaWxkKDMpIHtcbiAgY29sb3I6ICNkMzJmMmY7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cbi5tb250aGx5LXN1bW1hcnkgdGFibGUgdGQ6bnRoLWNoaWxkKDQpIHtcbiAgY29sb3I6ICMwMDA7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","summary_r10","monthYear","ɵɵpipeBind2","summary_r11","received","summary_r12","spent","summary_r13","saved","ɵɵelement","MonthlyComponent","constructor","firestore","monthlySummaries","ngOnInit","collection","valueChanges","subscribe","data","grouped","forEach","expense","date","toDate","Date","isNaN","getTime","key","toLocaleString","month","getFullYear","isIncome","category","toLowerCase","amount","Object","entries","map","ɵɵdirectiveInject","i1","AngularFirestore","selectors","decls","vars","consts","template","MonthlyComponent_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtemplate","MonthlyComponent_th_6_Template","MonthlyComponent_td_7_Template","ɵɵelementContainerEnd","MonthlyComponent_th_9_Template","MonthlyComponent_td_10_Template","MonthlyComponent_th_12_Template","MonthlyComponent_td_13_Template","MonthlyComponent_th_15_Template","MonthlyComponent_td_16_Template","MonthlyComponent_tr_17_Template","MonthlyComponent_tr_18_Template","ɵɵproperty","ɵɵpureFunction0","_c0"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/monthly/monthly.component.ts","/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/monthly/monthly.component.html"],"sourcesContent":["// ✅ monthly.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport firebase from 'firebase/compat/app';\n\n\nexport interface Expense extends firebase.firestore.DocumentData {\n  id?: string;\n  date: string;\n  amount: number;\n  category: string;\n  description: string;\n  method: string;\n  location: string;\n}\n\n\ninterface MonthlySummary {\n  monthYear: string;\n  received: number;\n  spent: number;\n  saved: number;\n}\n\n@Component({\n  selector: 'app-monthly',\n  templateUrl: './monthly.component.html',\n  styleUrls: ['./monthly.component.scss']\n})\nexport class MonthlyComponent implements OnInit {\n  monthlySummaries: MonthlySummary[] = [];\n\n  constructor(private firestore: AngularFirestore) {}\n\n  ngOnInit(): void {\n    this.firestore.collection<Expense>('expenses').valueChanges().subscribe((data: Expense[]) => {\n      const grouped: { [monthYear: string]: { received: number; spent: number } } = {};\n\n      data.forEach(expense => {\n        const date =\n        (expense.date as any)?.toDate?.() ?? new Date(expense.date);      \n        if (isNaN(date.getTime())) return;\n\n        const key = `${date.toLocaleString('default', { month: 'short' })} ${date.getFullYear()}`;\n        const isIncome = expense.category.toLowerCase() === 'income';\n\n        if (!grouped[key]) {\n          grouped[key] = { received: 0, spent: 0 };\n        }\n\n        if (isIncome) {\n          grouped[key].received += expense.amount;\n        } else {\n          grouped[key].spent += expense.amount;\n        }\n      });\n\n      this.monthlySummaries = Object.entries(grouped).map(([monthYear, { received, spent }]) => ({\n        monthYear,\n        received,\n        spent,\n        saved: received - spent\n      }));\n    });\n  }\n}\n","<div class=\"monthly-summary\">\n  <h2>Monthly Summaries</h2>\n  <mat-card>\n    <table mat-table [dataSource]=\"monthlySummaries\" class=\"mat-elevation-z2 full-width\">\n      <ng-container matColumnDef=\"month\">\n        <th mat-header-cell *matHeaderCellDef> Month </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.monthYear }} </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"received\">\n        <th mat-header-cell *matHeaderCellDef> Received </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.received | currency: 'USD' }} </td> <!-- USD -->\n      </ng-container>\n\n      <ng-container matColumnDef=\"spent\">\n        <th mat-header-cell *matHeaderCellDef> Spent </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.spent | currency: 'USD' }} </td> <!-- USD -->\n      </ng-container>\n\n      <ng-container matColumnDef=\"saved\">\n        <th mat-header-cell *matHeaderCellDef> Saved </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.saved | currency: 'USD' }} </td> <!-- USD -->\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef=\"['month', 'received', 'spent', 'saved']\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: ['month', 'received', 'spent', 'saved']\"></tr>\n    </table>\n  </mat-card>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}