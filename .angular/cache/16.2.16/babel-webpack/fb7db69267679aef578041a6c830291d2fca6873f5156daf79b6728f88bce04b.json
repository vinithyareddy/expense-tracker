{"ast":null,"code":"import _asyncToGenerator from \"/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nlet ExpensesComponent = class ExpensesComponent {\n  constructor(firestore) {\n    this.firestore = firestore;\n    this.displayedColumns = ['date', 'amount', 'category', 'description', 'method', 'location', 'actions'];\n    this.expenseList = [];\n    this.dataSource = new MatTableDataSource([]);\n    this.newExpense = {\n      date: '',\n      amount: 0,\n      category: '',\n      description: '',\n      method: '',\n      location: ''\n    };\n    this.loadExpenses();\n  }\n  loadExpenses() {\n    this.firestore.collection('expenses').valueChanges({\n      idField: 'id'\n    }).subscribe(data => {\n      this.expenseList = data;\n      this.dataSource.data = this.expenseList;\n    });\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value.trim().toLowerCase();\n    this.dataSource.filter = filterValue;\n  }\n  addExpense() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        date,\n        amount,\n        category,\n        description,\n        method,\n        location\n      } = _this.newExpense;\n      if (date && amount && category && description && method && location) {\n        yield _this.firestore.collection('expenses').add({\n          date: new Date(date),\n          amount,\n          category,\n          description,\n          method,\n          location\n        });\n        _this.newExpense = {\n          date: '',\n          amount: 0,\n          category: '',\n          description: '',\n          method: '',\n          location: ''\n        };\n      } else {\n        alert('All fields are required.');\n      }\n    })();\n  }\n  deleteExpense(id) {\n    this.firestore.doc(`expenses/${id}`).delete();\n  }\n};\nExpensesComponent = __decorate([Component({\n  selector: 'app-expenses',\n  templateUrl: './expenses.component.html',\n  styleUrls: ['./expenses.component.scss']\n})], ExpensesComponent);\nexport { ExpensesComponent };","map":{"version":3,"names":["Component","MatTableDataSource","ExpensesComponent","constructor","firestore","displayedColumns","expenseList","dataSource","newExpense","date","amount","category","description","method","location","loadExpenses","collection","valueChanges","idField","subscribe","data","applyFilter","event","filterValue","target","value","trim","toLowerCase","filter","addExpense","_this","_asyncToGenerator","add","Date","alert","deleteExpense","id","doc","delete","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/expenses/expenses.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport firebase from 'firebase/compat/app';\n\nexport interface Expense extends firebase.firestore.DocumentData {\n  id?: string;\n  date: any;\n  amount: number;\n  category: string;\n  description: string;\n  method: string;\n  location: string;\n}\n\n@Component({\n  selector: 'app-expenses',\n  templateUrl: './expenses.component.html',\n  styleUrls: ['./expenses.component.scss']\n})\nexport class ExpensesComponent {\n  displayedColumns: string[] = ['date', 'amount', 'category', 'description', 'method', 'location', 'actions'];\n  expenseList: Expense[] = [];\n  dataSource = new MatTableDataSource<Expense>([]);\n\n  newExpense: Expense = {\n    date: '',\n    amount: 0,\n    category: '',\n    description: '',\n    method: '',\n    location: ''\n  };\n\n  constructor(private firestore: AngularFirestore) {\n    this.loadExpenses();\n  }\n\n  loadExpenses() {\n    this.firestore.collection<Expense>('expenses').valueChanges({ idField: 'id' }).subscribe((data: Expense[]) => {\n      this.expenseList = data;\n      this.dataSource.data = this.expenseList;\n    });\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value.trim().toLowerCase();\n    this.dataSource.filter = filterValue;\n  }\n\n  async addExpense() {\n    const { date, amount, category, description, method, location } = this.newExpense;\n\n    if (date && amount && category && description && method && location) {\n      await this.firestore.collection('expenses').add({\n        date: new Date(date), // âœ… Convert input string to Date object\n        amount,\n        category,\n        description,\n        method,\n        location\n      });\n      \n\n      this.newExpense = {\n        date: '',\n        amount: 0,\n        category: '',\n        description: '',\n        method: '',\n        location: ''\n      };\n    } else {\n      alert('All fields are required.');\n    }\n  }\n\n  deleteExpense(id: string) {\n    this.firestore.doc(`expenses/${id}`).delete();\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,kBAAkB,QAAQ,yBAAyB;AAmBrD,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAc5BC,YAAoBC,SAA2B;IAA3B,KAAAA,SAAS,GAATA,SAAS;IAb7B,KAAAC,gBAAgB,GAAa,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,aAAa,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,CAAC;IAC3G,KAAAC,WAAW,GAAc,EAAE;IAC3B,KAAAC,UAAU,GAAG,IAAIN,kBAAkB,CAAU,EAAE,CAAC;IAEhD,KAAAO,UAAU,GAAY;MACpBC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,CAAC;MACTC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE;KACX;IAGC,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACX,SAAS,CAACY,UAAU,CAAU,UAAU,CAAC,CAACC,YAAY,CAAC;MAAEC,OAAO,EAAE;IAAI,CAAE,CAAC,CAACC,SAAS,CAAEC,IAAe,IAAI;MAC3G,IAAI,CAACd,WAAW,GAAGc,IAAI;MACvB,IAAI,CAACb,UAAU,CAACa,IAAI,GAAG,IAAI,CAACd,WAAW;IACzC,CAAC,CAAC;EACJ;EAEAe,WAAWA,CAACC,KAAY;IACtB,MAAMC,WAAW,GAAID,KAAK,CAACE,MAA2B,CAACC,KAAK,CAACC,IAAI,EAAE,CAACC,WAAW,EAAE;IACjF,IAAI,CAACpB,UAAU,CAACqB,MAAM,GAAGL,WAAW;EACtC;EAEMM,UAAUA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACd,MAAM;QAAEtB,IAAI;QAAEC,MAAM;QAAEC,QAAQ;QAAEC,WAAW;QAAEC,MAAM;QAAEC;MAAQ,CAAE,GAAGgB,KAAI,CAACtB,UAAU;MAEjF,IAAIC,IAAI,IAAIC,MAAM,IAAIC,QAAQ,IAAIC,WAAW,IAAIC,MAAM,IAAIC,QAAQ,EAAE;QACnE,MAAMgB,KAAI,CAAC1B,SAAS,CAACY,UAAU,CAAC,UAAU,CAAC,CAACgB,GAAG,CAAC;UAC9CvB,IAAI,EAAE,IAAIwB,IAAI,CAACxB,IAAI,CAAC;UACpBC,MAAM;UACNC,QAAQ;UACRC,WAAW;UACXC,MAAM;UACNC;SACD,CAAC;QAGFgB,KAAI,CAACtB,UAAU,GAAG;UAChBC,IAAI,EAAE,EAAE;UACRC,MAAM,EAAE,CAAC;UACTC,QAAQ,EAAE,EAAE;UACZC,WAAW,EAAE,EAAE;UACfC,MAAM,EAAE,EAAE;UACVC,QAAQ,EAAE;SACX;OACF,MAAM;QACLoB,KAAK,CAAC,0BAA0B,CAAC;;IAClC;EACH;EAEAC,aAAaA,CAACC,EAAU;IACtB,IAAI,CAAChC,SAAS,CAACiC,GAAG,CAAC,YAAYD,EAAE,EAAE,CAAC,CAACE,MAAM,EAAE;EAC/C;CACD;AA5DYpC,iBAAiB,GAAAqC,UAAA,EAL7BvC,SAAS,CAAC;EACTwC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWxC,iBAAiB,CA4D7B;SA5DYA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}