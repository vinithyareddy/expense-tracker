{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nfunction MonthlyComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 12);\n    i0.ÉµÉµtext(1, \" Month \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction MonthlyComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 13);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r10 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", summary_r10.monthYear, \" \");\n  }\n}\nfunction MonthlyComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 12);\n    i0.ÉµÉµtext(1, \" Received \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction MonthlyComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 13);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµpipe(2, \"currency\");\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r11 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", i0.ÉµÉµpipeBind2(2, 1, summary_r11.received, \"USD\"), \" \");\n  }\n}\nfunction MonthlyComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 12);\n    i0.ÉµÉµtext(1, \" Spent \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction MonthlyComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 13);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµpipe(2, \"currency\");\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r12 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", i0.ÉµÉµpipeBind2(2, 1, summary_r12.spent, \"USD\"), \" \");\n  }\n}\nfunction MonthlyComponent_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 12);\n    i0.ÉµÉµtext(1, \" Saved \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction MonthlyComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 13);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµpipe(2, \"currency\");\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const summary_r13 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", i0.ÉµÉµpipeBind2(2, 1, summary_r13.saved, \"USD\"), \" \");\n  }\n}\nfunction MonthlyComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"tr\", 14);\n  }\n}\nfunction MonthlyComponent_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"tr\", 15);\n  }\n}\nconst _c0 = function () {\n  return [\"month\", \"received\", \"spent\", \"saved\"];\n};\nexport class MonthlyComponent {\n  constructor(firestore) {\n    this.firestore = firestore;\n    this.monthlySummaries = [];\n    this.filterText = '';\n  }\n  ngOnInit() {\n    this.firestore.collection('expenses').valueChanges().subscribe(data => {\n      const grouped = {};\n      data.forEach(expense => {\n        const date = expense.date?.toDate?.() ?? new Date(expense.date);\n        if (isNaN(date.getTime())) return;\n        const key = `${date.toLocaleString('default', {\n          month: 'short'\n        })} ${date.getFullYear()}`;\n        const isIncome = expense.category.toLowerCase() === 'income';\n        if (!grouped[key]) {\n          grouped[key] = {\n            received: 0,\n            spent: 0\n          };\n        }\n        if (isIncome) {\n          grouped[key].received += expense.amount;\n        } else {\n          grouped[key].spent += expense.amount;\n        }\n      });\n      this.monthlySummaries = Object.entries(grouped).map(([monthYear, {\n        received,\n        spent\n      }]) => ({\n        monthYear,\n        received,\n        spent,\n        saved: received - spent\n      }));\n    });\n  }\n  filteredSummaries() {\n    if (!this.filterText) return this.monthlySummaries;\n    const lower = this.filterText.toLowerCase();\n    return this.monthlySummaries.filter(summary => summary.monthYear.toLowerCase().includes(lower) || summary.received.toString().includes(lower) || summary.spent.toString().includes(lower) || summary.saved.toString().includes(lower));\n  }\n  static {\n    this.Éµfac = function MonthlyComponent_Factory(t) {\n      return new (t || MonthlyComponent)(i0.ÉµÉµdirectiveInject(i1.AngularFirestore));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: MonthlyComponent,\n      selectors: [[\"app-monthly\"]],\n      decls: 21,\n      vars: 6,\n      consts: [[1, \"monthly-summary\"], [1, \"filter-bar\"], [\"type\", \"text\", \"placeholder\", \"\\uD83D\\uDD0D Search month, amount...\", 1, \"filter-input\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-table\", \"\", 1, \"mat-elevation-z2\", \"full-width\", 3, \"dataSource\"], [\"matColumnDef\", \"month\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"received\"], [\"matColumnDef\", \"spent\"], [\"matColumnDef\", \"saved\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function MonthlyComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ÉµÉµtext(2, \"Monthly Summaries\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(3, \"div\", 1)(4, \"input\", 2);\n          i0.ÉµÉµlistener(\"ngModelChange\", function MonthlyComponent_Template_input_ngModelChange_4_listener($event) {\n            return ctx.filterText = $event;\n          });\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(5, \"mat-card\")(6, \"table\", 3);\n          i0.ÉµÉµelementContainerStart(7, 4);\n          i0.ÉµÉµtemplate(8, MonthlyComponent_th_8_Template, 2, 0, \"th\", 5);\n          i0.ÉµÉµtemplate(9, MonthlyComponent_td_9_Template, 2, 1, \"td\", 6);\n          i0.ÉµÉµelementContainerEnd();\n          i0.ÉµÉµelementContainerStart(10, 7);\n          i0.ÉµÉµtemplate(11, MonthlyComponent_th_11_Template, 2, 0, \"th\", 5);\n          i0.ÉµÉµtemplate(12, MonthlyComponent_td_12_Template, 3, 4, \"td\", 6);\n          i0.ÉµÉµelementContainerEnd();\n          i0.ÉµÉµelementContainerStart(13, 8);\n          i0.ÉµÉµtemplate(14, MonthlyComponent_th_14_Template, 2, 0, \"th\", 5);\n          i0.ÉµÉµtemplate(15, MonthlyComponent_td_15_Template, 3, 4, \"td\", 6);\n          i0.ÉµÉµelementContainerEnd();\n          i0.ÉµÉµelementContainerStart(16, 9);\n          i0.ÉµÉµtemplate(17, MonthlyComponent_th_17_Template, 2, 0, \"th\", 5);\n          i0.ÉµÉµtemplate(18, MonthlyComponent_td_18_Template, 3, 4, \"td\", 6);\n          i0.ÉµÉµelementContainerEnd();\n          i0.ÉµÉµtemplate(19, MonthlyComponent_tr_19_Template, 1, 0, \"tr\", 10);\n          i0.ÉµÉµtemplate(20, MonthlyComponent_tr_20_Template, 1, 0, \"tr\", 11);\n          i0.ÉµÉµelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(4);\n          i0.ÉµÉµproperty(\"ngModel\", ctx.filterText);\n          i0.ÉµÉµadvance(2);\n          i0.ÉµÉµproperty(\"dataSource\", ctx.filteredSummaries());\n          i0.ÉµÉµadvance(13);\n          i0.ÉµÉµproperty(\"matHeaderRowDef\", i0.ÉµÉµpureFunction0(4, _c0));\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"matRowDefColumns\", i0.ÉµÉµpureFunction0(5, _c0));\n        }\n      },\n      dependencies: [i2.MatCard, i3.MatTable, i3.MatHeaderCellDef, i3.MatHeaderRowDef, i3.MatColumnDef, i3.MatCellDef, i3.MatRowDef, i3.MatHeaderCell, i3.MatCell, i3.MatHeaderRow, i3.MatRow, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.CurrencyPipe],\n      styles: [\".filter-bar[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n\\n.filter-input[_ngcontent-%COMP%] {\\n  padding: 8px 12px;\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n  width: 250px;\\n  font-size: 14px;\\n  outline: none;\\n  transition: all 0.2s ease;\\n}\\n.filter-input[_ngcontent-%COMP%]:focus {\\n  border-color: #5c6bc0;\\n  box-shadow: 0 0 0 2px rgba(92, 107, 192, 0.2);\\n}\\n\\n.monthly-summary[_ngcontent-%COMP%] {\\n  max-width: 9000px;\\n  height: 200%;\\n  margin: 3rem auto;\\n  padding: 2rem;\\n  background: #ffffff;\\n  border-radius: 20px;\\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);\\n}\\n.monthly-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 2.8rem;\\n  font-weight: 600;\\n  margin-bottom: 1.5rem;\\n  color: #2f2e41;\\n  text-align: center;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  padding: 1.5rem;\\n  background: #fcfcfc;\\n  box-shadow: 0 15px 25px rgba(0, 0, 0, 0.04);\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  text-align: left;\\n  font-weight: 600;\\n  padding: 1rem;\\n  color: #555;\\n  background: #f5f5f5;\\n  border-bottom: 1px solid #e0e0e0;\\n  font-size: 1.3rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 1rem;\\n  border-bottom: 1px solid #eee;\\n  color: #050404;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%] {\\n  border-bottom: none;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2) {\\n  color: #2e7d32;\\n  font-weight: 500;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3) {\\n  color: #d32f2f;\\n  font-weight: 500;\\n  font-size: 1rem;\\n}\\n.monthly-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4) {\\n  color: #000;\\n  font-weight: 500;\\n  font-size: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbW9udGhseS9tb250aGx5LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vbXklMjBnaXRodWIlMjBwcm9qZWN0cy9leHBlbnNlLXRyYWNrZXIvc3JjL2FwcC9wYWdlcy9tb250aGx5L21vbnRobHkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUJBO0VBQ0UsbUJBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7QUN4QkY7O0FEMkJBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7QUN4QkY7QUQwQkU7RUFDRSxxQkFBQTtFQUNBLDZDQUFBO0FDeEJKOztBRDZCQTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQ0FBQTtBQzFCRjtBRDRCRTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQzFCSjtBRDZCRTtFQUNFLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsMkNBQUE7QUMzQko7QUQ4QkU7RUFDRSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxlQUFBO0FDNUJKO0FEOEJJO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQ0FBQTtFQUNBLGlCQUFBO0FDNUJOO0FEK0JJO0VBQ0UsYUFBQTtFQUNBLDZCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUM3Qk47QURnQ0k7RUFDRSxtQkFBQTtBQzlCTjtBRGtDSTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNoQ047QURtQ0k7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FDakNOO0FEb0NJO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ2xDTiIsInNvdXJjZXNDb250ZW50IjpbIi8vIC5tb250aGx5LXN1bW1hcnktY29udGFpbmVyIHtcbi8vICAgcGFkZGluZzogMjRweDtcblxuLy8gICB0YWJsZSB7XG4vLyAgICAgd2lkdGg6IDEwMCU7XG4vLyAgICAgbWFyZ2luLXRvcDogMjBweDtcbi8vICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4vLyAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbi8vICAgfVxuXG4vLyAgIHRoIHtcbi8vICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuLy8gICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuLy8gICB9XG5cbi8vICAgdGQsIHRoIHtcbi8vICAgICBwYWRkaW5nOiAxMnB4O1xuLy8gICAgIHRleHQtYWxpZ246IGxlZnQ7XG4vLyAgIH1cblxuLy8gICBoMiB7XG4vLyAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbi8vICAgICBjb2xvcjogIzNmNTFiNTtcbi8vICAgfVxuLy8gfVxuLmZpbHRlci1iYXIge1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuXG4uZmlsdGVyLWlucHV0IHtcbiAgcGFkZGluZzogOHB4IDEycHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgd2lkdGg6IDI1MHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG5cbiAgJjpmb2N1cyB7XG4gICAgYm9yZGVyLWNvbG9yOiAjNWM2YmMwO1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDkyLCAxMDcsIDE5MiwgMC4yKTtcbiAgfVxufVxuXG5cbi5tb250aGx5LXN1bW1hcnkge1xuICBtYXgtd2lkdGg6IDkwMDBweDtcbiAgaGVpZ2h0OiAyMDAlO1xuICBtYXJnaW46IDNyZW0gYXV0bztcbiAgcGFkZGluZzogMnJlbTtcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgYm94LXNoYWRvdzogMCAyMHB4IDQwcHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcblxuICBoMiB7XG4gICAgZm9udC1zaXplOiAyLjhyZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gICAgY29sb3I6ICMyZjJlNDE7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgbWF0LWNhcmQge1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgcGFkZGluZzogMS41cmVtO1xuICAgIGJhY2tncm91bmQ6ICNmY2ZjZmM7XG4gICAgYm94LXNoYWRvdzogMCAxNXB4IDI1cHggcmdiYSgwLCAwLCAwLCAwLjA0KTtcbiAgfVxuXG4gIHRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcblxuICAgIHRoIHtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgIGNvbG9yOiAjNTU1O1xuICAgICAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xuICAgICAgZm9udC1zaXplOiAxLjNyZW07XG4gICAgfVxuXG4gICAgdGQge1xuICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xuICAgICAgY29sb3I6ICMwNTA0MDQ7XG4gICAgICBmb250LXNpemU6IDFyZW07XG4gICAgfVxuXG4gICAgdHI6bGFzdC1jaGlsZCB0ZCB7XG4gICAgICBib3JkZXItYm90dG9tOiBub25lO1xuICAgXG4gICAgfVxuXG4gICAgdGQ6bnRoLWNoaWxkKDIpIHtcbiAgICAgIGNvbG9yOiAjMmU3ZDMyOyAvLyBHcmVlbiBmb3IgUmVjZWl2ZWRcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBmb250LXNpemU6IDFyZW07XG4gICAgfVxuXG4gICAgdGQ6bnRoLWNoaWxkKDMpIHtcbiAgICAgIGNvbG9yOiAjZDMyZjJmOyAvLyBSZWQgZm9yIFNwZW50XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgIH1cblxuICAgIHRkOm50aC1jaGlsZCg0KSB7XG4gICAgICBjb2xvcjogIzAwMDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBmb250LXNpemU6IDFyZW07XG4gICAgfVxuICB9XG59XG4iLCIuZmlsdGVyLWJhciB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5cbi5maWx0ZXItaW5wdXQge1xuICBwYWRkaW5nOiA4cHggMTJweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICB3aWR0aDogMjUwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgb3V0bGluZTogbm9uZTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbn1cbi5maWx0ZXItaW5wdXQ6Zm9jdXMge1xuICBib3JkZXItY29sb3I6ICM1YzZiYzA7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDkyLCAxMDcsIDE5MiwgMC4yKTtcbn1cblxuLm1vbnRobHktc3VtbWFyeSB7XG4gIG1heC13aWR0aDogOTAwMHB4O1xuICBoZWlnaHQ6IDIwMCU7XG4gIG1hcmdpbjogM3JlbSBhdXRvO1xuICBwYWRkaW5nOiAycmVtO1xuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBib3gtc2hhZG93OiAwIDIwcHggNDBweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xufVxuLm1vbnRobHktc3VtbWFyeSBoMiB7XG4gIGZvbnQtc2l6ZTogMi44cmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gIGNvbG9yOiAjMmYyZTQxO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4ubW9udGhseS1zdW1tYXJ5IG1hdC1jYXJkIHtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgcGFkZGluZzogMS41cmVtO1xuICBiYWNrZ3JvdW5kOiAjZmNmY2ZjO1xuICBib3gtc2hhZG93OiAwIDE1cHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMDQpO1xufVxuLm1vbnRobHktc3VtbWFyeSB0YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBmb250LXNpemU6IDFyZW07XG59XG4ubW9udGhseS1zdW1tYXJ5IHRhYmxlIHRoIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgcGFkZGluZzogMXJlbTtcbiAgY29sb3I6ICM1NTU7XG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xuICBmb250LXNpemU6IDEuM3JlbTtcbn1cbi5tb250aGx5LXN1bW1hcnkgdGFibGUgdGQge1xuICBwYWRkaW5nOiAxcmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTtcbiAgY29sb3I6ICMwNTA0MDQ7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cbi5tb250aGx5LXN1bW1hcnkgdGFibGUgdHI6bGFzdC1jaGlsZCB0ZCB7XG4gIGJvcmRlci1ib3R0b206IG5vbmU7XG59XG4ubW9udGhseS1zdW1tYXJ5IHRhYmxlIHRkOm50aC1jaGlsZCgyKSB7XG4gIGNvbG9yOiAjMmU3ZDMyO1xuICBmb250LXdlaWdodDogNTAwO1xuICBmb250LXNpemU6IDFyZW07XG59XG4ubW9udGhseS1zdW1tYXJ5IHRhYmxlIHRkOm50aC1jaGlsZCgzKSB7XG4gIGNvbG9yOiAjZDMyZjJmO1xuICBmb250LXdlaWdodDogNTAwO1xuICBmb250LXNpemU6IDFyZW07XG59XG4ubW9udGhseS1zdW1tYXJ5IHRhYmxlIHRkOm50aC1jaGlsZCg0KSB7XG4gIGNvbG9yOiAjMDAwO1xuICBmb250LXdlaWdodDogNTAwO1xuICBmb250LXNpemU6IDFyZW07XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate1","summary_r10","monthYear","ÉµÉµpipeBind2","summary_r11","received","summary_r12","spent","summary_r13","saved","ÉµÉµelement","MonthlyComponent","constructor","firestore","monthlySummaries","filterText","ngOnInit","collection","valueChanges","subscribe","data","grouped","forEach","expense","date","toDate","Date","isNaN","getTime","key","toLocaleString","month","getFullYear","isIncome","category","toLowerCase","amount","Object","entries","map","filteredSummaries","lower","filter","summary","includes","toString","ÉµÉµdirectiveInject","i1","AngularFirestore","selectors","decls","vars","consts","template","MonthlyComponent_Template","rf","ctx","ÉµÉµlistener","MonthlyComponent_Template_input_ngModelChange_4_listener","$event","ÉµÉµelementContainerStart","ÉµÉµtemplate","MonthlyComponent_th_8_Template","MonthlyComponent_td_9_Template","ÉµÉµelementContainerEnd","MonthlyComponent_th_11_Template","MonthlyComponent_td_12_Template","MonthlyComponent_th_14_Template","MonthlyComponent_td_15_Template","MonthlyComponent_th_17_Template","MonthlyComponent_td_18_Template","MonthlyComponent_tr_19_Template","MonthlyComponent_tr_20_Template","ÉµÉµproperty","ÉµÉµpureFunction0","_c0"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/monthly/monthly.component.ts","/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/pages/monthly/monthly.component.html"],"sourcesContent":["// âœ… monthly.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport firebase from 'firebase/compat/app';\n\nexport interface Expense extends firebase.firestore.DocumentData {\n  id?: string;\n  date: string;\n  amount: number;\n  category: string;\n  description: string;\n  method: string;\n  location: string;\n}\n\ninterface MonthlySummary {\n  monthYear: string;\n  received: number;\n  spent: number;\n  saved: number;\n}\n\n@Component({\n  selector: 'app-monthly',\n  templateUrl: './monthly.component.html',\n  styleUrls: ['./monthly.component.scss']\n})\nexport class MonthlyComponent implements OnInit {\n  monthlySummaries: MonthlySummary[] = [];\n  filterText: string = '';\n\n  constructor(private firestore: AngularFirestore) {}\n\n  ngOnInit(): void {\n    this.firestore.collection<Expense>('expenses').valueChanges().subscribe((data: Expense[]) => {\n      const grouped: { [monthYear: string]: { received: number; spent: number } } = {};\n\n      data.forEach(expense => {\n        const date = (expense.date as any)?.toDate?.() ?? new Date(expense.date);      \n        if (isNaN(date.getTime())) return;\n\n        const key = `${date.toLocaleString('default', { month: 'short' })} ${date.getFullYear()}`;\n        const isIncome = expense.category.toLowerCase() === 'income';\n\n        if (!grouped[key]) {\n          grouped[key] = { received: 0, spent: 0 };\n        }\n\n        if (isIncome) {\n          grouped[key].received += expense.amount;\n        } else {\n          grouped[key].spent += expense.amount;\n        }\n      });\n\n      this.monthlySummaries = Object.entries(grouped).map(([monthYear, { received, spent }]) => ({\n        monthYear,\n        received,\n        spent,\n        saved: received - spent\n      }));\n    });\n  }\n\n  filteredSummaries(): MonthlySummary[] {\n    if (!this.filterText) return this.monthlySummaries;\n\n    const lower = this.filterText.toLowerCase();\n    return this.monthlySummaries.filter(summary =>\n      summary.monthYear.toLowerCase().includes(lower) ||\n      summary.received.toString().includes(lower) ||\n      summary.spent.toString().includes(lower) ||\n      summary.saved.toString().includes(lower)\n    );\n  }\n}\n","<div class=\"monthly-summary\">\n  <h2>Monthly Summaries</h2>\n  <div class=\"filter-bar\">\n    <input\n      type=\"text\"\n      placeholder=\"ðŸ” Search month, amount...\"\n      [(ngModel)]=\"filterText\"\n      class=\"filter-input\"\n    />\n  </div>\n\n  <mat-card>\n    <table mat-table [dataSource]=\"filteredSummaries()\" class=\"mat-elevation-z2 full-width\">\n      <ng-container matColumnDef=\"month\">\n        <th mat-header-cell *matHeaderCellDef> Month </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.monthYear }} </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"received\">\n        <th mat-header-cell *matHeaderCellDef> Received </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.received | currency: 'USD' }} </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"spent\">\n        <th mat-header-cell *matHeaderCellDef> Spent </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.spent | currency: 'USD' }} </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"saved\">\n        <th mat-header-cell *matHeaderCellDef> Saved </th>\n        <td mat-cell *matCellDef=\"let summary\"> {{ summary.saved | currency: 'USD' }} </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef=\"['month', 'received', 'spent', 'saved']\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: ['month', 'received', 'spent', 'saved']\"></tr>\n    </table>\n  </mat-card>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}