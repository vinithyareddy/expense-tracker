{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { AddBillDialogComponent } from '../add-bill-dialog/add-bill-dialog.component';\nlet BillsComponent = class BillsComponent {\n  constructor(dialog, dataSyncService, firestoreBillService) {\n    this.dialog = dialog;\n    this.dataSyncService = dataSyncService;\n    this.firestoreBillService = firestoreBillService;\n    this.selectedBillType = 'credit';\n    this.weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    this.calendarDays = [];\n    this.allBills = [];\n    this.personalLoanAmount = 0;\n    this.hoveredDay = null;\n    this.tooltipX = 0;\n    this.tooltipY = 0;\n    this.totalDue = 0;\n    this.totalPaid = 0;\n    this.currentMonth = new Date().getMonth();\n    this.currentYear = new Date().getFullYear();\n    this.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    this.years = [];\n  }\n  ngOnInit() {\n    for (let y = 2000; y <= 2040; y++) this.years.push(y);\n    this.firestoreBillService.getBills().subscribe(bills => {\n      this.allBills = bills.map(bill => ({\n        ...bill,\n        paidCount: bill.paidCount ?? 0,\n        installments: bill.installments ?? (bill.monthlyPayment && bill.amount ? Math.ceil(bill.amount / bill.monthlyPayment) : 1),\n        monthlyPayment: bill.monthlyPayment ?? 0,\n        paymentHistory: Array.isArray(bill.paymentHistory) ? bill.paymentHistory : [],\n        loanDirection: bill.type === 'loan' ? bill.loanDirection ?? 'give' : undefined\n      }));\n      this.updatePersonalLoanAmount();\n      this.calculateTotals();\n      this.refreshCalendar();\n    });\n  }\n  openAddBillDialog() {\n    const dialogRef = this.dialog.open(AddBillDialogComponent, {\n      width: '400px',\n      panelClass: 'custom-dialog-container'\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.firestoreBillService.addBill(result).subscribe();\n      }\n    });\n  }\n  get creditBills() {\n    return this.allBills.filter(bill => bill.type === 'credit' && (bill.paidCount || 0) < (bill.installments || 1));\n  }\n  get regularBills() {\n    return this.allBills.filter(bill => bill.type === 'regular' && (bill.paidCount || 0) < (bill.installments || 1));\n  }\n  get loanBills() {\n    return this.allBills.filter(bill => bill.type === 'loan' && (bill.paidCount || 0) < (bill.installments || 1));\n  }\n  getMonthName(index) {\n    return this.months[index];\n  }\n  prevMonth() {\n    if (this.currentMonth === 0) {\n      this.currentMonth = 11;\n      this.currentYear--;\n    } else {\n      this.currentMonth--;\n    }\n    this.calculateTotals();\n    this.refreshCalendar();\n  }\n  nextMonth() {\n    if (this.currentMonth === 11) {\n      this.currentMonth = 0;\n      this.currentYear++;\n    } else {\n      this.currentMonth++;\n    }\n    this.calculateTotals();\n    this.refreshCalendar();\n  }\n  markInstallmentPaid(bill) {\n    bill.paidCount = (bill.paidCount || 0) + 1;\n    bill.paymentHistory = [...(bill.paymentHistory || []), Date.now()];\n    this.firestoreBillService.updateBill(bill).subscribe();\n  }\n  deleteBill(bill) {\n    if (bill.id) {\n      this.firestoreBillService.deleteBill(bill.id).subscribe();\n    }\n  }\n  updateTooltipPosition(event) {\n    this.tooltipX = event.clientX + 10;\n    this.tooltipY = event.clientY + 20;\n  }\n  updatePersonalLoanAmount() {\n    this.personalLoanAmount = this.loanBills.reduce((total, bill) => {\n      return total + (bill.loanDirection === 'give' ? bill.amount : -bill.amount);\n    }, 0);\n  }\n  calculateTotals() {\n    let due = 0;\n    let paid = 0;\n    for (let bill of this.allBills) {\n      const dueDate = bill.dueDate ? new Date(bill.dueDate) : null;\n      const monthly = bill.monthlyPayment || 0;\n      const paidCount = bill.paidCount || 0;\n      const installments = bill.installments || 1;\n      const isFullyPaid = paidCount >= installments;\n      if (bill.type === 'loan' && bill.loanDirection === 'give') continue;\n      let paidThisMonth = 0;\n      for (let ts of bill.paymentHistory || []) {\n        const dt = new Date(ts);\n        if (dt.getMonth() === this.currentMonth && dt.getFullYear() === this.currentYear) {\n          paid += monthly > 0 ? monthly : bill.amount;\n          paidThisMonth++;\n        }\n      }\n      if (!isFullyPaid && dueDate) {\n        const monthsSinceStart = (this.currentYear - dueDate.getFullYear()) * 12 + (this.currentMonth - dueDate.getMonth());\n        const monthsDue = Math.min(installments - paidCount, monthsSinceStart + 1);\n        const effectiveDueCount = Math.max(monthsDue - paidThisMonth, 0);\n        due += (monthly > 0 ? monthly : bill.amount) * effectiveDueCount;\n      }\n    }\n    this.totalDue = due;\n    this.totalPaid = paid;\n  }\n  refreshCalendar() {\n    const firstDay = new Date(this.currentYear, this.currentMonth, 1);\n    const startDay = firstDay.getDay();\n    const daysInMonth = new Date(this.currentYear, this.currentMonth + 1, 0).getDate();\n    const days = [];\n    for (let i = 0; i < startDay; i++) days.push({\n      date: new Date(0),\n      dueBills: []\n    });\n    for (let i = 1; i <= daysInMonth; i++) {\n      const currentDate = new Date(this.currentYear, this.currentMonth, i);\n      const dueBills = this.allBills.filter(bill => {\n        const originalDue = bill.dueDate ? new Date(bill.dueDate) : null;\n        if (!originalDue || bill.paidCount >= bill.installments) return false;\n        const monthsSinceDue = (this.currentYear - originalDue.getFullYear()) * 12 + (this.currentMonth - originalDue.getMonth());\n        return monthsSinceDue >= 0 && monthsSinceDue < bill.installments && currentDate.getDate() === originalDue.getDate();\n      });\n      days.push({\n        date: currentDate,\n        dueBills\n      });\n    }\n    this.calendarDays = days;\n  }\n};\nBillsComponent = __decorate([Component({\n  selector: 'app-bills',\n  templateUrl: './bills.component.html',\n  styleUrls: ['./bills.component.scss']\n})], BillsComponent);\nexport { BillsComponent };","map":{"version":3,"names":["Component","AddBillDialogComponent","BillsComponent","constructor","dialog","dataSyncService","firestoreBillService","selectedBillType","weekDays","calendarDays","allBills","personalLoanAmount","hoveredDay","tooltipX","tooltipY","totalDue","totalPaid","currentMonth","Date","getMonth","currentYear","getFullYear","months","years","ngOnInit","y","push","getBills","subscribe","bills","map","bill","paidCount","installments","monthlyPayment","amount","Math","ceil","paymentHistory","Array","isArray","loanDirection","type","undefined","updatePersonalLoanAmount","calculateTotals","refreshCalendar","openAddBillDialog","dialogRef","open","width","panelClass","afterClosed","result","addBill","creditBills","filter","regularBills","loanBills","getMonthName","index","prevMonth","nextMonth","markInstallmentPaid","now","updateBill","deleteBill","id","updateTooltipPosition","event","clientX","clientY","reduce","total","due","paid","dueDate","monthly","isFullyPaid","paidThisMonth","ts","dt","monthsSinceStart","monthsDue","min","effectiveDueCount","max","firstDay","startDay","getDay","daysInMonth","getDate","days","i","date","dueBills","currentDate","originalDue","monthsSinceDue","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/expense-tracker/src/app/services/firestore-bill.service.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AddBillDialogComponent } from '../add-bill-dialog/add-bill-dialog.component';\nimport { Bill } from '../../models/bill.model';\nimport { DataSyncService } from 'src/app/services/data-sync.service';\nimport { FirestoreBillService } from 'src/app/services/firestore-bill.service';\n\n@Component({\n  selector: 'app-bills',\n  templateUrl: './bills.component.html',\n  styleUrls: ['./bills.component.scss']\n})\nexport class BillsComponent implements OnInit {\n  selectedBillType = 'credit';\n  weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  calendarDays: { date: Date, dueBills: any[] }[] = [];\n\n  allBills: Bill[] = [];\n  personalLoanAmount: number = 0;\n  hoveredDay: any = null;\n  tooltipX = 0;\n  tooltipY = 0;\n  totalDue: number = 0;\n  totalPaid: number = 0;\n\n  currentMonth = new Date().getMonth();\n  currentYear = new Date().getFullYear();\n  months = ['January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'];\n  years: number[] = [];\n\n  constructor(private dialog: MatDialog, private dataSyncService: DataSyncService, private firestoreBillService: FirestoreBillService) { }\n\n  ngOnInit(): void {\n    for (let y = 2000; y <= 2040; y++) this.years.push(y);\n\n    this.firestoreBillService.getBills().subscribe((bills: Bill[]) => {\n      this.allBills = bills.map(bill => ({\n        ...bill,\n        paidCount: bill.paidCount ?? 0,\n        installments: bill.installments ?? (\n          bill.monthlyPayment && bill.amount\n            ? Math.ceil(bill.amount / bill.monthlyPayment)\n            : 1\n        ),\n        monthlyPayment: bill.monthlyPayment ?? 0,\n        paymentHistory: Array.isArray(bill.paymentHistory) ? bill.paymentHistory : [],\n        loanDirection: bill.type === 'loan' ? (bill.loanDirection ?? 'give') : undefined\n      }));\n\n      this.updatePersonalLoanAmount();\n      this.calculateTotals();\n      this.refreshCalendar();\n    });\n  }\n\n  openAddBillDialog(): void {\n    const dialogRef = this.dialog.open(AddBillDialogComponent, {\n      width: '400px',\n      panelClass: 'custom-dialog-container',\n    });\n\n    dialogRef.afterClosed().subscribe((result: Bill) => {\n      if (result) {\n        this.firestoreBillService.addBill(result).subscribe();\n      }\n    });\n  }\n\n  get creditBills() {\n    return this.allBills.filter(bill => bill.type === 'credit' && (bill.paidCount || 0) < (bill.installments || 1));\n  }\n\n  get regularBills() {\n    return this.allBills.filter(bill => bill.type === 'regular' && (bill.paidCount || 0) < (bill.installments || 1));\n  }\n\n  get loanBills() {\n    return this.allBills.filter(bill => bill.type === 'loan' && (bill.paidCount || 0) < (bill.installments || 1));\n  }\n\n  getMonthName(index: number): string {\n    return this.months[index];\n  }\n\n  prevMonth(): void {\n    if (this.currentMonth === 0) {\n      this.currentMonth = 11;\n      this.currentYear--;\n    } else {\n      this.currentMonth--;\n    }\n    this.calculateTotals();\n    this.refreshCalendar();\n  }\n\n  nextMonth(): void {\n    if (this.currentMonth === 11) {\n      this.currentMonth = 0;\n      this.currentYear++;\n    } else {\n      this.currentMonth++;\n    }\n    this.calculateTotals();\n    this.refreshCalendar();\n  }\n\n  markInstallmentPaid(bill: Bill): void {\n    bill.paidCount = (bill.paidCount || 0) + 1;\n    bill.paymentHistory = [...(bill.paymentHistory || []), Date.now()];\n    this.firestoreBillService.updateBill(bill).subscribe();\n  }\n\n  deleteBill(bill: Bill): void {\n    if (bill.id) {\n      this.firestoreBillService.deleteBill(bill.id).subscribe();\n    }\n  }\n\n  updateTooltipPosition(event: MouseEvent): void {\n    this.tooltipX = event.clientX + 10;\n    this.tooltipY = event.clientY + 20;\n  }\n\n  updatePersonalLoanAmount(): void {\n    this.personalLoanAmount = this.loanBills.reduce((total, bill) => {\n      return total + (bill.loanDirection === 'give' ? bill.amount : -bill.amount);\n    }, 0);\n  }\n\n  calculateTotals(): void {\n    let due = 0;\n    let paid = 0;\n\n    for (let bill of this.allBills) {\n      const dueDate = bill.dueDate ? new Date(bill.dueDate) : null;\n      const monthly = bill.monthlyPayment || 0;\n      const paidCount = bill.paidCount || 0;\n      const installments = bill.installments || 1;\n      const isFullyPaid = paidCount >= installments;\n\n      if (bill.type === 'loan' && bill.loanDirection === 'give') continue;\n\n      let paidThisMonth = 0;\n      for (let ts of bill.paymentHistory || []) {\n        const dt = new Date(ts);\n        if (dt.getMonth() === this.currentMonth && dt.getFullYear() === this.currentYear) {\n          paid += monthly > 0 ? monthly : bill.amount;\n          paidThisMonth++;\n        }\n      }\n\n      if (!isFullyPaid && dueDate) {\n        const monthsSinceStart = (this.currentYear - dueDate.getFullYear()) * 12 + (this.currentMonth - dueDate.getMonth());\n        const monthsDue = Math.min(installments - paidCount, monthsSinceStart + 1);\n        const effectiveDueCount = Math.max(monthsDue - paidThisMonth, 0);\n        due += (monthly > 0 ? monthly : bill.amount) * effectiveDueCount;\n      }\n    }\n\n    this.totalDue = due;\n    this.totalPaid = paid;\n  }\n\n  refreshCalendar(): void {\n    const firstDay = new Date(this.currentYear, this.currentMonth, 1);\n    const startDay = firstDay.getDay();\n    const daysInMonth = new Date(this.currentYear, this.currentMonth + 1, 0).getDate();\n\n    const days: { date: Date, dueBills: any[] }[] = [];\n    for (let i = 0; i < startDay; i++) days.push({ date: new Date(0), dueBills: [] });\n\n    for (let i = 1; i <= daysInMonth; i++) {\n      const currentDate = new Date(this.currentYear, this.currentMonth, i);\n      const dueBills = this.allBills.filter(bill => {\n        const originalDue = bill.dueDate ? new Date(bill.dueDate) : null;\n        if (!originalDue || bill.paidCount >= bill.installments) return false;\n\n        const monthsSinceDue = (this.currentYear - originalDue.getFullYear()) * 12 + (this.currentMonth - originalDue.getMonth());\n        return monthsSinceDue >= 0 && monthsSinceDue < bill.installments && currentDate.getDate() === originalDue.getDate();\n      });\n\n      days.push({ date: currentDate, dueBills });\n    }\n\n    this.calendarDays = days;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}